window.__require=function t(e,i,n){function o(s,r){if(!i[s]){if(!e[s]){var c=s.split("/");if(c=c[c.length-1],!e[c]){var l="function"==typeof __require&&__require;if(!r&&l)return l(c,!0);if(a)return a(c,!0);throw new Error("Cannot find module '"+s+"'")}s=c}var p=i[s]={exports:{}};e[s][0].call(p.exports,function(t){return o(e[s][1][t]||t)},p,p.exports,t,e,i,n)}return i[s].exports}for(var a="function"==typeof __require&&__require,s=0;s<n.length;s++)o(n[s]);return o}({AchieveItem:[function(t,e,i){"use strict";cc._RF.push(e,"cb6f7Yg3NxM7rjSGvokJ21O","AchieveItem");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),a=this&&this.__decorate||function(t,e,i,n){var o,a=arguments.length,s=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var r=t.length-1;r>=0;r--)(o=t[r])&&(s=(a<3?o(s):a>3?o(e,i,s):o(e,i))||s);return a>3&&s&&Object.defineProperty(e,i,s),s};Object.defineProperty(i,"__esModule",{value:!0});var s=t("../../nativets/Config"),r=t("../../TextureMgr"),c=t("../../Audio"),l=t("../../Hero/HeroGlobal"),p=t("../../GameUtils"),u=cc._decorator,h=u.ccclass,d=(u.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.init=function(){this.goBtn=this.node.getChildByName("go"),this.getBtn=this.node.getChildByName("get"),this.icon=this.node.getChildByName("icon").getComponent(cc.Sprite),this.progressBar=this.node.getChildByName("ProgressBar").getComponent(cc.ProgressBar),this.textLabel=this.node.getChildByName("text").getComponent(cc.Label),this.countLabel=this.node.getChildByName("count").getComponent(cc.Label),this.coinsLabel=this.node.getChildByName("coins").getComponent(cc.Label),this.titleLabel=this.node.getChildByName("title").getComponent(cc.Label)},e.prototype.onRefresh=function(t){this.index=t;var e=s.Achieve[t],i=e.amount,n=l.default.instance.AchieveGetCountData[t]+1;n>i.length-1&&(n=i.length-1);var o=i[n],a=l.default.instance.AchieveCountData[t];a>o&&4!=t&&(a=o);var c=a/o;4==t&&a<o&&(c=1,0==a&&(c=0)),e.gold?(this.icon.spriteFrame=r.default.instance.rewardSfInGame[1],this.rewardNum=e.gold[n],this.isGold=!0):(this.icon.spriteFrame=r.default.instance.rewardSfInGame[0],this.rewardNum=e.dimond[n],this.isGold=!1),this.coinsLabel.string="x "+this.rewardNum,this.textLabel.string=e.name+e.amount[n]+e.unit,this.countLabel.string=a+"/"+e.amount[n],this.titleLabel.string=e.title,this.progressBar.progress=c,this.progressBar.node.active=4!=t;var p=-1;p=1==c?0:-1,l.default.instance.AchieveGetCountData[t]>=e.amount.length-1&&(p=1),this.setState(p)},e.prototype.setState=function(t){this.goBtn.active=-1==t,this.getBtn.active=0==t},e.prototype.onBtnGet=function(){c.default.instance.playAudio("BtnClick"),this.onGet()},e.prototype.onGet=function(){l.default.instance.AchieveGetCountData[this.index]++,this.isGold?cc.director.emit("daily_reward",p.DailyAward.coin,this.rewardNum):cc.director.emit("daily_reward",p.DailyAward.jade,this.rewardNum),this.onRefresh(this.index)},e.prototype.onBtnGo=function(){c.default.instance.playAudio("BtnClick"),cc.director.emit("other_sub_close")},a([h],e)}(cc.Component));i.default=d,cc._RF.pop()},{"../../Audio":"Audio","../../GameUtils":"GameUtils","../../Hero/HeroGlobal":"HeroGlobal","../../TextureMgr":"TextureMgr","../../nativets/Config":"Config"}],AchieveLv:[function(t,e,i){"use strict";cc._RF.push(e,"fe9b9WGSaVFBony9f+iuPsk","AchieveLv");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),a=this&&this.__decorate||function(t,e,i,n){var o,a=arguments.length,s=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var r=t.length-1;r>=0;r--)(o=t[r])&&(s=(a<3?o(s):a>3?o(e,i,s):o(e,i))||s);return a>3&&s&&Object.defineProperty(e,i,s),s};Object.defineProperty(i,"__esModule",{value:!0});var s=t("../../nativets/Config"),r=t("../../TextureMgr"),c=t("../../Audio"),l=t("../../Hero/HeroGlobal"),p=t("../../GameUtils"),u=cc._decorator.ccclass,h=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.init=function(){this.goBtn=this.node.getChildByName("go"),this.getBtn=this.node.getChildByName("get"),this.icon=this.node.getChildByName("icon").getComponent(cc.Sprite),this.textLabel=this.node.getChildByName("text").getComponent(cc.Label),this.title0=this.node.getChildByName("0"),this.title1=this.node.getChildByName("1"),this.node.getChildByName("icon1").getComponent(cc.Sprite).spriteFrame=r.default.instance.rewardSfInGame[0],this.node.getChildByName("icon2").getComponent(cc.Sprite).spriteFrame=r.default.instance.rewardSfInGame[1],this.coins1Label=this.node.getChildByName("coins1").getComponent(cc.Label),this.coins2Label=this.node.getChildByName("coins2").getComponent(cc.Label)},e.prototype.onRefresh=function(t){this.coins1Label||this.init(9),this.index=t;var e=s.Achieve[t],i=e.amount,n=l.default.instance.AchieveGetCountData[t]+1;n>i.length-1&&(n=i.length-1);var o=i[n],a=l.default.instance.AchieveCountData[t];a>o&&4!=t&&(a=o);var r=a/o;4==t&&a<o&&(r=1,0==a&&(r=0)),this.rewardNum2=e.gold[n],this.rewardNum1=e.dimond[n],this.coins1Label.string="x "+e.dimond[n],this.coins2Label.string="x "+e.gold[n],this.textLabel.string="\u7b49\u7ea7\u8fbe\u5230"+e.amount[n]+"\u7ea7\u53ef\u9886\u53d6";var c=-1;c=1==r?0:-1,l.default.instance.AchieveGetCountData[t]>=e.amount.length-1&&(c=1),this.setState(c)},e.prototype.setState=function(t){this.goBtn.active=-1==t,this.getBtn.active=0==t,this.title0.active=0==t,this.title1.active=0!=t},e.prototype.onBtnGet=function(){c.default.instance.playAudio("BtnClick"),this.onGet()},e.prototype.onGet=function(){l.default.instance.AchieveGetCountData[this.index]++,cc.director.emit("daily_reward",p.DailyAward.coin,this.rewardNum2),cc.director.emit("daily_reward",p.DailyAward.jade,this.rewardNum1),this.onRefresh(this.index)},e.prototype.onBtnGo=function(){c.default.instance.playAudio("BtnClick"),cc.director.emit("other_sub_close")},a([u],e)}(cc.Component);i.default=h,cc._RF.pop()},{"../../Audio":"Audio","../../GameUtils":"GameUtils","../../Hero/HeroGlobal":"HeroGlobal","../../TextureMgr":"TextureMgr","../../nativets/Config":"Config"}],Achieve:[function(t,e,i){"use strict";cc._RF.push(e,"b1a75ZCZ/FHxJIif5F36aYc","Achieve");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),a=this&&this.__decorate||function(t,e,i,n){var o,a=arguments.length,s=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var r=t.length-1;r>=0;r--)(o=t[r])&&(s=(a<3?o(s):a>3?o(e,i,s):o(e,i))||s);return a>3&&s&&Object.defineProperty(e,i,s),s};Object.defineProperty(i,"__esModule",{value:!0});var s=t("./AchieveItem"),r=t("./AchieveLv"),c=t("../../Hero/HeroGlobal"),l=cc._decorator,p=l.ccclass,u=l.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.achieveItem=null,e}var i;return o(e,t),i=e,e.prototype.init=function(){this.layoutNode=this.node.getChildByName("ScrollView").getChildByName("view").getChildByName("content"),this.initLayout()},e.prototype.initLayout=function(){this.achieveScripts=[];for(var t=0;t<9;t++){var e=cc.instantiate(this.achieveItem);e.parent=this.layoutNode,this.achieveScripts.push(e.getComponent(s.default)),this.achieveScripts[t].init(t)}this.achieveLvScript=this.node.getChildByName("lv").getComponent(r.default),this.achieveLvScript.init(9)},e.prototype.onLoad=function(){i.instance=this,this.init()},e.prototype.onRefresh=function(){for(var t=0;t<9;t++)this.achieveScripts[t].onRefresh(t);c.default.instance.setExp(c.default.instance.Exp),this.achieveLvScript.onRefresh(9)},e.prototype.onEnable=function(){this.onRefresh()},e.instance=null,a([u(cc.Prefab)],e.prototype,"achieveItem",void 0),i=a([p],e)}(cc.Component);i.default=h,cc._RF.pop()},{"../../Hero/HeroGlobal":"HeroGlobal","./AchieveItem":"AchieveItem","./AchieveLv":"AchieveLv"}],ActionComponent:[function(t,e,i){"use strict";cc._RF.push(e,"2841d1FaxpCVZrp7OOsFakU","ActionComponent");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),a=this&&this.__decorate||function(t,e,i,n){var o,a=arguments.length,s=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var r=t.length-1;r>=0;r--)(o=t[r])&&(s=(a<3?o(s):a>3?o(e,i,s):o(e,i))||s);return a>3&&s&&Object.defineProperty(e,i,s),s};Object.defineProperty(i,"__esModule",{value:!0}),i.ActionComponent=i.ActionType=void 0;var s=cc._decorator,r=s.ccclass,c=s.property;(function(t){t[t["\u79fb\u52a8\u5230To"]=0]="\u79fb\u52a8\u5230To",t[t["\u76f8\u5bf9\u79fb\u52a8By"]=1]="\u76f8\u5bf9\u79fb\u52a8By"})(i.ActionType||(i.ActionType={}));var l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.target=null,e.speed=.5,e.callFunc=function(){},e}return o(e,t),e.prototype.startParam=function(t){this.callFunc=t},e.prototype.getTime=function(){return this.speed},e.prototype.getTarget=function(){return this.target||this.node},a([c(cc.Node)],e.prototype,"target",void 0),a([c({displayName:"\u52a8\u4f5c\u65f6\u95f4"})],e.prototype,"speed",void 0),a([r],e)}(cc.Component);i.ActionComponent=l,cc._RF.pop()},{}],Activity:[function(t,e,i){"use strict";cc._RF.push(e,"a5587zj1cNNFKptmYQuwvi0","Activity");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),a=this&&this.__decorate||function(t,e,i,n){var o,a=arguments.length,s=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var r=t.length-1;r>=0;r--)(o=t[r])&&(s=(a<3?o(s):a>3?o(e,i,s):o(e,i))||s);return a>3&&s&&Object.defineProperty(e,i,s),s};Object.defineProperty(i,"__esModule",{value:!0});var s=t("../DataMgr"),r=t("../Hero/HeroGlobal"),c=t("../TextureMgr"),l=t("../nativets/Config"),p=t("../GameUtils"),u=t("../GameSDKManger"),h=cc._decorator,d=h.ccclass,f=h.property,m=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.activityItem=null,e.bgSf=[],e.haveSf=[],e.nowSf=[],e.nothaveSf=[],e}var i;return o(e,t),i=e,e.prototype.init=function(){var t=this.node.getChildByName("progress");this.progressAttrs=[];for(var e=0;e<3;e++)this.progressAttrs.push(t.getChildByName(""+e));this.btnGet=this.node.getChildByName("get").getComponent(cc.Button),this.initLayout()},e.prototype.onLoad=function(){i.instance=this,this.init(),this.refreshState()},e.prototype.getCoinsNum=function(){return 400+15*r.default.instance.Level},e.prototype.getJadeNum=function(){return 20+5*Math.floor(.05*r.default.instance.Level)},e.prototype.getLifeNum=function(){return 10},e.prototype.initLayout=function(){this.itemBg=[],this.itemIcon=[],this.itemName=[],this.itemNum=[],this.itemTitle=[];for(var t=0;t<4;t++){var e=cc.instantiate(this.activityItem);switch(e.parent=this.node,e.name=""+t,e.position=cc.v3(230*t-350,-20),this.itemBg.push(e.getComponent(cc.Sprite)),this.itemTitle.push(e.getChildByName("title").getComponent(cc.Sprite)),this.itemIcon.push(e.getChildByName("icon").getComponent(cc.Sprite)),this.itemName.push(e.getChildByName("name").getComponent(cc.Label)),this.itemNum.push(e.getChildByName("num").getComponent(cc.Label)),t){case 0:this.itemIcon[t].spriteFrame=c.default.instance.rewardSfInGame[1],this.itemName[t].string="\u91d1\u5e01";break;case 1:this.itemIcon[t].spriteFrame=c.default.instance.rewardSfInGame[0],this.itemName[t].string="\u94bb\u77f3";break;case 2:this.itemIcon[t].spriteFrame=c.default.instance.rewardSfInGame[2],this.itemName[t].string="\u519b\u7cae";break;case 3:var i=l.getDataById(6010203);this.itemIcon[t].spriteFrame=c.default.instance.getSoulIconById(6010203),this.itemName[t].string="\u6b66\u9b42",this.itemNum[t].string=i.name}}},e.prototype.refreshLayout=function(){for(var t=0;t<4;t++)switch(this.itemBg[t].spriteFrame=this.getBgSf(t),this.itemTitle[t].spriteFrame=this.getTitleSf(t)[t],t){case 0:this.itemNum[t].string="x"+this.getCoinsNum();break;case 1:this.itemNum[t].string="x"+this.getJadeNum();break;case 2:this.itemNum[t].string="x"+this.getLifeNum()}},e.prototype.getTitleSf=function(t){return t<s.default.instance.activityCount?this.haveSf:t==s.default.instance.activityCount?this.nowSf:this.nothaveSf},e.prototype.getBgSf=function(t){return t<s.default.instance.activityCount?this.bgSf[0]:t==s.default.instance.activityCount?this.bgSf[1]:this.bgSf[2]},e.prototype.onBtnGet=function(){var t=this;s.default.instance.activityCount<4&&u.shareAd(function(){t.onGet(),s.default.instance.activityCount++,s.default.instance.saveSaveDate()}),this.refreshState()},e.prototype.onGet=function(){if(s.default.instance.activityCount<4)switch(s.default.instance.activityCount){case 0:cc.director.emit("daily_reward",p.DailyAward.coin,this.getCoinsNum());break;case 1:cc.director.emit("daily_reward",p.DailyAward.jade,this.getJadeNum());break;case 2:cc.director.emit("daily_reward",p.DailyAward.life,this.getLifeNum());break;case 3:r.default.instance.pushEquipmentData(6010203)}},e.prototype.refreshState=function(){var t=s.default.instance.activityCount;this.setState(t),this.setProgress(t),this.refreshLayout()},e.prototype.setState=function(t){this.btnGet.interactable=t<4},e.prototype.setProgress=function(t){for(var e=0;e<3;e++)this.progressAttrs[e].active=e<t},e.prototype.onEnable=function(){this.btnGet&&this.refreshState()},e.instance=null,a([f(cc.Prefab)],e.prototype,"activityItem",void 0),a([f([cc.SpriteFrame])],e.prototype,"bgSf",void 0),a([f([cc.SpriteFrame])],e.prototype,"haveSf",void 0),a([f([cc.SpriteFrame])],e.prototype,"nowSf",void 0),a([f([cc.SpriteFrame])],e.prototype,"nothaveSf",void 0),i=a([d],e)}(cc.Component);i.default=m,cc._RF.pop()},{"../DataMgr":"DataMgr","../GameSDKManger":"GameSDKManger","../GameUtils":"GameUtils","../Hero/HeroGlobal":"HeroGlobal","../TextureMgr":"TextureMgr","../nativets/Config":"Config"}],AdRewardMgr:[function(t,e,i){"use strict";cc._RF.push(e,"99537R8zYlCD67DXO9vEInn","AdRewardMgr"),Object.defineProperty(i,"__esModule",{value:!0});var n=function(){function t(){}return t.getInstance=function(){return this.instance||(this.instance=new t),this.instance},t.prototype.onSuccess=function(){},t.instance=null,t}();i.default=n,cc._RF.pop()},{}],ArrowRain:[function(t,e,i){"use strict";cc._RF.push(e,"7223cWFswJCfoG5oTlvuFcl","ArrowRain");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),a=this&&this.__decorate||function(t,e,i,n){var o,a=arguments.length,s=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var r=t.length-1;r>=0;r--)(o=t[r])&&(s=(a<3?o(s):a>3?o(e,i,s):o(e,i))||s);return a>3&&s&&Object.defineProperty(e,i,s),s};Object.defineProperty(i,"__esModule",{value:!0});var s=t("../nativets/Global"),r=t("../Hero/Hero"),c=t("../nativets/Config"),l=t("../Audio"),p=cc._decorator,u=p.ccclass,h=(p.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.attackSpace=3,e.attackTime=.5,e}var i;return o(e,t),i=e,e.prototype.init=function(){this.attackSpace=3,this.hit=this.node.getChildByName("hit"),this.hitBox=this.hit.getComponent(cc.BoxCollider),this.warn=this.node.getChildByName("warn"),this.warnBg=this.node.getChildByName("warnBg")},e.prototype.onLoad=function(){i.instance=this,this.init()},e.prototype.use=function(){l.default.instance.playAudio("ArrowRain"),this.playing=!0,this.node.x=r.default.instance.node.x,this.hitBox.tag=1.5*c.MonsterATK[s.default.getInstance().gameDifficulty][s.default.getInstance().nowLevel-40*s.default.getInstance().gameDifficulty-1],this.playBegin()},e.prototype.unuse=function(){this.node.x=-900,this.playing=!1},e.prototype.setWarnActive=function(t){this.warn.active=t,this.warnBg.active=t},e.prototype.playBegin=function(){this.setWarnActive(!0),this.isStop=!1,this.node.y=-220,this.hit.y=900,this.speedY=0},e.prototype.reset=function(){this.node.y=-900},e.prototype.playEnd=function(){this.setWarnActive(!1),this.isStop=!0},e.prototype.update=function(t){var e=this;s.default.getInstance().inGame&&this.playing?this.hit.y<=0?this.isStop||(this.playEnd(),this.scheduleOnce(function(){e.unuse()},1.5)):(this.speedY+=-1800*t,this.hit.y+=this.speedY*t):this.playBegin()},e.instance=null,i=a([u],e)}(cc.Component));i.default=h,cc._RF.pop()},{"../Audio":"Audio","../Hero/Hero":"Hero","../nativets/Config":"Config","../nativets/Global":"Global"}],AudioComponent:[function(t,e,i){"use strict";cc._RF.push(e,"53290AmoHhD1oJwih7yXze2","AudioComponent");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),a=this&&this.__decorate||function(t,e,i,n){var o,a=arguments.length,s=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var r=t.length-1;r>=0;r--)(o=t[r])&&(s=(a<3?o(s):a>3?o(e,i,s):o(e,i))||s);return a>3&&s&&Object.defineProperty(e,i,s),s};Object.defineProperty(i,"__esModule",{value:!0}),i.AudioComponent=void 0;var s=t("./ActionComponent"),r=t("../audio/SoundManager"),c=cc._decorator,l=c.ccclass,p=c.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.target=null,e.speed=0,e._clip=null,e}return o(e,t),Object.defineProperty(e.prototype,"clip",{get:function(){return this._clip},set:function(t){this._clip=t,t&&(this.node.name=t.name)},enumerable:!1,configurable:!0}),e.prototype.getTime=function(){return this.clip.duration},e.prototype.getTween=function(){return null},e.prototype.startAction=function(){var t=this;r.SoundManager.instance.play(this.clip),this.scheduleOnce(function(){t.callFunc&&t.callFunc()},this.getTime())},e.prototype.endAction=function(){},e.prototype.resetAction=function(){},a([p({type:cc.Node,override:!0,visible:!1})],e.prototype,"target",void 0),a([p({displayName:"\u52a8\u4f5c\u65f6\u95f4",override:!0,visible:!1})],e.prototype,"speed",void 0),a([p({type:cc.AudioClip,formerlySerializedAs:"clip"})],e.prototype,"_clip",void 0),a([p(cc.AudioClip)],e.prototype,"clip",null),a([l],e)}(s.ActionComponent);i.AudioComponent=u,cc._RF.pop()},{"../audio/SoundManager":"SoundManager","./ActionComponent":"ActionComponent"}],AudioGame:[function(t,e,i){"use strict";cc._RF.push(e,"1b7d277eoBAb6vlv43OfIrW","AudioGame");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),a=this&&this.__decorate||function(t,e,i,n){var o,a=arguments.length,s=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var r=t.length-1;r>=0;r--)(o=t[r])&&(s=(a<3?o(s):a>3?o(e,i,s):o(e,i))||s);return a>3&&s&&Object.defineProperty(e,i,s),s};Object.defineProperty(i,"__esModule",{value:!0});var s=cc._decorator,r=s.ccclass,c=s.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.audioArrs=[],e}var i;return o(e,t),i=e,e.prototype.onLoad=function(){i.instance=this},e.prototype.getClip=function(t){return this.audioArrs[t]},e.instance=null,a([c({type:cc.AudioClip})],e.prototype,"audioArrs",void 0),i=a([r],e)}(cc.Component);i.default=l,cc._RF.pop()},{}],AudioRepeat:[function(t,e,i){"use strict";cc._RF.push(e,"e7d48qTz+pJxJ5FxBh74JoU","AudioRepeat");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),a=this&&this.__decorate||function(t,e,i,n){var o,a=arguments.length,s=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var r=t.length-1;r>=0;r--)(o=t[r])&&(s=(a<3?o(s):a>3?o(e,i,s):o(e,i))||s);return a>3&&s&&Object.defineProperty(e,i,s),s};Object.defineProperty(i,"__esModule",{value:!0}),i.AudioRepeat=void 0;var s=t("../../Script/UserDataInfo"),r=t("./ActionComponent"),c=cc._decorator,l=c.ccclass,p=c.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.clip=null,e.repeatTimes=-1,e.isStart=!1,e.curTime=0,e.repeatNum=0,e}return o(e,t),e.prototype.getTime=function(){return this.clip.getDuration()},e.prototype.getTarget=function(){return this.target},e.prototype.getTween=function(){return null},e.prototype.startAction=function(){var t=s.UserDataInfo.instance.getDataByType(s.DataFields.effect);this.clip.volume="0"==t?0:1,this.isStart=!0,this.clip.play()},e.prototype.endAction=function(){this.isStart=!1,this.clip.stop()},e.prototype.resetAction=function(){},e.prototype.update=function(t){this.isStart&&(this.curTime>=this.getTime()?(this.curTime=0,this.clip.stop(),this.clip.play(),-1!=this.repeatTimes&&(this.repeatNum++,this.repeatNum>=this.repeatTimes&&this.endAction())):this.curTime+=t)},a([p(cc.AudioSource)],e.prototype,"clip",void 0),a([p({min:-1,step:1})],e.prototype,"repeatTimes",void 0),a([l],e)}(r.ActionComponent);i.AudioRepeat=u,cc._RF.pop()},{"../../Script/UserDataInfo":"UserDataInfo","./ActionComponent":"ActionComponent"}],Audio:[function(t,e,i){"use strict";cc._RF.push(e,"295d57kkilAi5fk+Meu/hBy","Audio");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),a=this&&this.__decorate||function(t,e,i,n){var o,a=arguments.length,s=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var r=t.length-1;r>=0;r--)(o=t[r])&&(s=(a<3?o(s):a>3?o(e,i,s):o(e,i))||s);return a>3&&s&&Object.defineProperty(e,i,s),s};Object.defineProperty(i,"__esModule",{value:!0});var s=t("./Hero/HeroGlobal"),r=t("./Game"),c=t("./nativets/Global"),l=t("./AudioGame"),p=cc._decorator,u=p.ccclass,h=p.property,d=["ZYshow","DCshow","DQshow","BtnClick","CEUp","TopScroll","Eight"],f=["ZYattack1","ZYattack2","ZYattack3up","ZYattackmulti","ZYfalsh","ZYthunder","ZYsplitground","ZYfail","ZYultimate","DCfail","DCultimate","DQfail","DQultimate","monsterSword","monsterLancer","monsterSkill","DCArrow","ZYhurt0","ZYhurt1","ZYhurt2","DChurt0","DChurt1","DChurt2","DQhurt0","DQhurt1","DQhurt2","MonsterShow","addHp","MonsterDead","GetCoins","Typing","Win","Lose","ZYpd","DCjudge","DCmulti","Eleplantattack","Eleplantdead","Monsterfire","Monsterice","Giantstone","Giantdead","Giantroll","Eagleattack","Eagledead","ZYleidong","DCjianyu","monsterArrow","DCjumpattack","DCattack3","ArrowRain","BossWarn","XHDSkill1","XHDSkill2","XHDSkill3","CCSkill1","CCSkill2","CCSkill3","XXSkill1","XXSkill2","XXSkill3","DQattack1","DQattack2","DQattack3","DQjumpattack","DQyanluo","DQliuxingyu","DQheidong","DQdibaotianxing"],m=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.audioArrs=[],e.monsterAudioArrs=[],e.menubgmclip=null,e.gamebgmclip=null,e.loadingclip=null,e.walkclip=null,e.bgm1=null,e.bgm2=null,e.BGvolume=.6,e.volume=.9,e}var i;return o(e,t),i=e,e.prototype.init=function(){cc.audioEngine.setFinishCallback(this.showId,function(){})},e.prototype.start=function(){i.instance=this},e.prototype.playBgm=function(t){if("0"!=s.default.instance.BgmSwitch)switch(t){case"menu":null==this.bgm1&&this.menubgmclip&&(this.bgm1=cc.audioEngine.play(this.menubgmclip,!0,this.BGvolume));break;case"game":null==this.bgm2&&this.gamebgmclip&&(this.bgm2=cc.audioEngine.play(this.gamebgmclip,!0,this.BGvolume));break;case"loading":null==this.bgm3&&this.loadingclip&&(this.bgm3=cc.audioEngine.play(this.loadingclip,!1,this.BGvolume))}},e.prototype.stopBgm=function(){null!=this.bgm1&&(cc.audioEngine.stop(this.bgm1),this.bgm1=null),null!=this.bgm2&&(cc.audioEngine.stop(this.bgm2),this.bgm2=null),null!=this.bgm3&&(cc.audioEngine.stop(this.bgm3),this.bgm3=null)},e.prototype.playAudio=function(t){var e=this;if("0"==s.default.instance.EffectSwitch)return"ZYfail"!=t&&"DCfail"!=t&&"DQfail"!=t||this.scheduleOnce(function(){r.default.instance.node&&(e.stopBgm(),e.playAudio("Lose"),r.default.instance.gameEndBg.active=!0,r.default.instance.gameEndBox.active=!0)},1.5),void("ZYshow"!=t&&"DCshow"!=t&&"DQshow"!=t||c.default.getInstance().inGame&&this.scheduleOnce(function(){e.playBgm("game")},3));if("walk"==t)this.walkclip&&(this.walk=cc.audioEngine.play(this.walkclip,!0,this.volume));else{var i=d.indexOf(t),n=(this.audioArrs,this.audioArrs[i]);-1==i&&(i=f.indexOf(t),l.default.instance&&(l.default.instance.audioArrs,n=l.default.instance.getClip(i))),-1!=i&&("ZYshow"==t||"DCshow"==t||"DQshow"==t?(n&&(this.showId=cc.audioEngine.play(n,!1,this.volume)),c.default.getInstance().inGame&&cc.audioEngine.setFinishCallback(this.showId,function(){e.playBgm("game")})):"ZYfail"==t||"DCfail"==t||"DQfail"==t?(n&&(this.showId=cc.audioEngine.play(n,!1,this.volume)),cc.audioEngine.setFinishCallback(this.showId,function(){r.default.instance.node&&(e.stopBgm(),e.playAudio("Lose"),r.default.instance.gameEndBg.active=!0,r.default.instance.gameEndBox.active=!0)})):n&&cc.audioEngine.play(n,!1,this.volume))}},e.prototype.stopAudio=function(t){switch(t){case"walk":null!=this.walk&&(cc.audioEngine.stop(this.walk),this.walk=null)}},e.prototype.playFirst=function(t){var e=d.indexOf(t);this.firstId&&cc.audioEngine.stop(this.firstId),-1!=e&&this.audioArrs[e]&&(this.firstId=cc.audioEngine.play(this.audioArrs[e],!1,this.volume))},e.instance=null,a([h({type:cc.AudioClip})],e.prototype,"audioArrs",void 0),a([h({type:cc.AudioClip})],e.prototype,"monsterAudioArrs",void 0),a([h({type:cc.AudioClip})],e.prototype,"menubgmclip",void 0),a([h({type:cc.AudioClip})],e.prototype,"gamebgmclip",void 0),a([h({type:cc.AudioClip})],e.prototype,"loadingclip",void 0),a([h({type:cc.AudioClip})],e.prototype,"walkclip",void 0),i=a([u],e)}(cc.Component);i.default=m,cc._RF.pop()},{"./AudioGame":"AudioGame","./Game":"Game","./Hero/HeroGlobal":"HeroGlobal","./nativets/Global":"Global"}],BAItem:[function(t,e,i){"use strict";cc._RF.push(e,"abcefKKDIVCvZBUL/HLfL3l","BAItem");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),a=this&&this.__decorate||function(t,e,i,n){var o,a=arguments.length,s=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var r=t.length-1;r>=0;r--)(o=t[r])&&(s=(a<3?o(s):a>3?o(e,i,s):o(e,i))||s);return a>3&&s&&Object.defineProperty(e,i,s),s};Object.defineProperty(i,"__esModule",{value:!0});var s=t("./BizarreAdventure"),r=t("../TextureMgr"),c=cc._decorator,l=c.ccclass,p=(c.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.init=function(){this.index=-1,this.icon=this.node.getChildByName("icon").getComponent(cc.Sprite),this.bg=this.node.getChildByName("bg").getComponent(cc.Sprite),this.nameLabel=this.node.getChildByName("name").getComponent(cc.Label),this.textLabel=this.node.getChildByName("text").getComponent(cc.Label),this.attLabel=this.node.getChildByName("att").getComponent(cc.Label)},e.prototype.onBtnClick=function(){-1!=this.index&&s.default.instance.onReward(parseInt(this.node.name))},e.prototype.setItem=function(t,e,i,n,o){this.index=t,this.icon.node.scale=t<4?1.2:1,this.bg.spriteFrame=t<4?r.default.instance.rewardBg:null,this.icon.spriteFrame=e,this.nameLabel.string=i,this.textLabel.string=n,this.attLabel.string=o},a([l],e)}(cc.Component));i.default=p,cc._RF.pop()},{"../TextureMgr":"TextureMgr","./BizarreAdventure":"BizarreAdventure"}],BATips:[function(t,e,i){"use strict";cc._RF.push(e,"4def1CkBtZHJoZyp8YFzEFp","BATips");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),a=this&&this.__decorate||function(t,e,i,n){var o,a=arguments.length,s=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var r=t.length-1;r>=0;r--)(o=t[r])&&(s=(a<3?o(s):a>3?o(e,i,s):o(e,i))||s);return a>3&&s&&Object.defineProperty(e,i,s),s};Object.defineProperty(i,"__esModule",{value:!0});var s=t("../Game"),r=t("./BizarreAdventure"),c=t("../TextureMgr"),l=t("../Hero/HeroGlobal"),p=t("../Audio"),u=t("../nativets/Config"),h=t("../GameSDKManger"),d=cc._decorator,f=d.ccclass,m=d.property,g=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.tipsPrefab=null,e}var i;return o(e,t),i=e,e.prototype.init=function(){var t=this.node.getChildByName("box");this.icon=t.getChildByName("icon").getComponent(cc.Sprite),this.bg=t.getChildByName("bg").getComponent(cc.Sprite),this.nameLabel=t.getChildByName("name").getComponent(cc.Label),this.okBtn=t.getChildByName("ok"),this.doubleBtn=t.getChildByName("double"),this.closeBtn=t.getChildByName("close"),this.autoBtn=t.getChildByName("auto"),this.boxBtn=t.getChildByName("box"),this.autoLabel=this.autoBtn.getChildByName("text").getComponent(cc.Label)},e.prototype.onLoad=function(){i.instance=this,this.init(),this.node.active=!1},e.prototype.onOpen=function(){this.index=0,this.dataAttrs=[];for(var t=r.default.instance.dataAttrs,e=0;e<t.length;e++)this.dataAttrs.push(t[e]);0!=this.dataAttrs.length&&this.showTips()},e.prototype.onOpenSingle=function(t){var e=r.default.instance.dataAttrs;this.index=0,this.dataAttrs=[],this.dataAttrs.push(e[t]),this.showTips()},e.prototype.showTips=function(){var t=this,e=this.dataAttrs[this.index].index,i=this.dataAttrs[this.index].id;if(this.bg.spriteFrame=3==e?c.default.instance.rewardBg:null,this.icon.spriteFrame=r.default.instance.getImgByJson(e,i),this.icon.node.setScale(1),this.nameLabel.string=r.default.instance.getNameByJson(e,i),5==e)this.bookId=i,this.getOtherTips(),this.setButtonState(1);else if(3==e)if(0!=u.getWhoId(i)&&u.getWhoId(i)!=l.default.instance.MainHeroIndex+1)this.setButtonState(0);else{var n=Math.floor(i/1e4);i%1e3<=Math.floor(l.default.instance.getMainHeroData().getDataByType(n)/1e4)%1e3?this.setButtonState(0):(this.autoId=i,this.time=6,this.autoLabel.string="\u81ea\u52a8\u88c5\u59075",this.schedule(function(){t.time--,t.autoLabel.string="\u81ea\u52a8\u88c5\u5907"+t.time,t.time<=0&&t.autoSetEquipment()},1,5),this.setButtonState(2))}else this.setButtonState(0),4!=e&&(this.icon.node.setScale(1.1),this.nameLabel.string=r.default.instance.getNameByJson(e,i)+" x "+i);this.node.active=!0},e.prototype.showBoxGiftReward=function(){this.bg.spriteFrame=null;var t=0,e=0;this.icon.node.setScale(1.1),Math.random()<.5?(t=0,e=40,l.default.instance.Jade+=e,l.default.instance.saveHeroGlobal()):(t=1,e=500,l.default.instance.Coins+=e,l.default.instance.saveHeroGlobal()),this.icon.spriteFrame=r.default.instance.getImgByJson(t,e),this.nameLabel.string=r.default.instance.getNameByJson(t,e)+" x "+e,this.setButtonState(9),this.node.active=!0},e.prototype.onBtnAuto=function(){p.default.instance.playAudio("BtnClick"),this.autoSetEquipment()},e.prototype.autoSetEquipment=function(){l.default.instance.getMainHeroData().setEquip(Math.floor(this.autoId/1e4),1e4*this.autoId),this.onNext()},e.prototype.setButtonState=function(t){var e=this,i=function(){e.closeBtn.active=1==t};this.unschedule(i),this.okBtn.active=0==t,this.doubleBtn.active=1==t,this.closeBtn.active=2==t,this.closeBtn.active||this.scheduleOnce(i,0),this.autoBtn.active=2==t,this.boxBtn.active=9==t},e.prototype.onBtnBoxClose=function(){p.default.instance.playAudio("BtnClick"),this.node.active=!1},e.prototype.onBtnDouble=function(){var t=this;h.shareAd(function(){t.onDoubleReward()})},e.prototype.onDoubleReward=function(){l.default.instance.pushEquipmentData(this.bookId),i.instance.oldCE=l.default.instance.HeroDataAttr[l.default.instance.MainHeroIndex].CE,l.default.instance.HeroDataAttr[l.default.instance.MainHeroIndex].updateAttribute(),this.getOtherTips(),this.onNext()},e.prototype.getOtherTips=function(){var t=cc.instantiate(this.tipsPrefab);this.node.parent.addChild(t),t.getComponent("Tips").showSuccessInGame(this.oldCE+"\u4e0a"+(l.default.instance.HeroDataAttr[l.default.instance.MainHeroIndex].CE-this.oldCE))},e.prototype.onBtnNext=function(){p.default.instance.playAudio("BtnClick"),this.onNext()},e.prototype.onNext=function(){this.index++,this.index==this.dataAttrs.length?this.onClose():this.showTips()},e.prototype.onClose=function(){this.node.active=!1,s.default.instance.onEnd(!0)},e.instance=null,a([m(cc.Prefab)],e.prototype,"tipsPrefab",void 0),i=a([f],e)}(cc.Component);i.default=g,cc._RF.pop()},{"../Audio":"Audio","../Game":"Game","../GameSDKManger":"GameSDKManger","../Hero/HeroGlobal":"HeroGlobal","../TextureMgr":"TextureMgr","../nativets/Config":"Config","./BizarreAdventure":"BizarreAdventure"}],BezierMove:[function(t,e,i){"use strict";cc._RF.push(e,"480248MuERO4L5DG41K9y/N","BezierMove");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),a=this&&this.__decorate||function(t,e,i,n){var o,a=arguments.length,s=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var r=t.length-1;r>=0;r--)(o=t[r])&&(s=(a<3?o(s):a>3?o(e,i,s):o(e,i))||s);return a>3&&s&&Object.defineProperty(e,i,s),s};Object.defineProperty(i,"__esModule",{value:!0});var s,r,c=cc._decorator,l=c.ccclass,p=c.property;(function(t){t[t.Random=0]="Random",t[t.Left=1]="Left",t[t.Right=2]="Right"})(s||(s={})),function(t){t[t.linear=0]="linear",t[t.smooth=1]="smooth",t[t.fade=2]="fade",t[t.quadIn=3]="quadIn",t[t.quadOut=4]="quadOut",t[t.quadInOut=5]="quadInOut",t[t.quadOutIn=6]="quadOutIn",t[t.cubicIn=7]="cubicIn",t[t.cubicOut=8]="cubicOut",t[t.cubicInOut=9]="cubicInOut",t[t.cubicOutIn=10]="cubicOutIn",t[t.quartIn=11]="quartIn",t[t.quartOut=12]="quartOut",t[t.quartInOut=13]="quartInOut",t[t.quartOutIn=14]="quartOutIn",t[t.quintIn=15]="quintIn",t[t.quintOut=16]="quintOut",t[t.quintInOut=17]="quintInOut",t[t.quintOutIn=18]="quintOutIn",t[t.sineIn=19]="sineIn",t[t.sineOut=20]="sineOut",t[t.sineInOut=21]="sineInOut",t[t.sineOutIn=22]="sineOutIn",t[t.expoIn=23]="expoIn",t[t.expoOut=24]="expoOut",t[t.expoInOut=25]="expoInOut",t[t.expoOutIn=26]="expoOutIn",t[t.circIn=27]="circIn",t[t.circOut=28]="circOut",t[t.circInOut=29]="circInOut",t[t.circOutIn=30]="circOutIn",t[t.elasticIn=31]="elasticIn",t[t.elasticOut=32]="elasticOut",t[t.elasticInOut=33]="elasticInOut",t[t.elasticOutIn=34]="elasticOutIn",t[t.backIn=35]="backIn",t[t.backOut=36]="backOut",t[t.backInOut=37]="backInOut",t[t.backOutIn=38]="backOutIn",t[t.bounceIn=39]="bounceIn",t[t.bounceOut=40]="bounceOut",t[t.bounceInOut=41]="bounceInOut",t[t.bounceOutIn=42]="bounceOutIn"}(r||(r={}));var u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.speed=600,e.controlPointSide=s.Left,e.controlPointOffset=.5,e.controlPointRandomness=.3,e.autoRotate=!0,e.showTrajectory=!0,e.trajectoryColor=new cc.Color(0,255,0,255),e.trajectoryWidth=3,e.easing=r.linear,e.rotationSmoothness=.6,e.graphics=null,e.currentAngle=0,e.startPos=cc.Vec3.ZERO,e.endPos=cc.Vec3.ZERO,e.controlPoint=cc.Vec3.ZERO,e.totalTime=0,e.curTime=0,e.isMoving=!1,e.callback=null,e}return o(e,t),e.prototype.onEnable=function(){this.startPos=this.node.position,this.currentAngle=this.node.angle,this.initGraphics()},e.prototype.onDisable=function(){this.graphics&&(this.graphics.clear(),this.graphics.node&&this.graphics.node.isValid&&this.graphics.node.destroy())},e.prototype.onMoveComplete=function(t,e){this.callback=t,this.target=e},e.prototype.initGraphics=function(){if(this.showTrajectory){var t=this.node.parent,e="TrajectoryGraphics_"+this.node.uuid,i=null;t&&(i=t.getChildByName(e)),i||(i=new cc.Node(e),this.node.parent?this.node.parent.addChild(i):this.node.addChild(i)),this.graphics=i.getComponent(cc.Graphics)||i.addComponent(cc.Graphics)}},e.prototype._bounceOut=function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},e.prototype.applyEasing=function(t){switch(t=Math.max(0,Math.min(1,t))){case r.linear:return t;case r.smooth:case r.fade:return t*t*(3-2*t);case r.quadIn:return t*t;case r.quadOut:return t*(2-t);case r.quadInOut:return t<.5?2*t*t:(4-2*t)*t-1;case r.quadOutIn:return t<.5?.5*(1-Math.pow(-2*t+1,2)):.5*Math.pow(2*t-1,2)+.5;case r.cubicIn:return t*t*t;case r.cubicOut:return--t*t*t+1;case r.cubicInOut:return t<.5?4*t*t*t:(t-1)*(2*t-2)*(2*t-2)+1;case r.cubicOutIn:return t<.5?.5*((t=2*t-1)*t*t+1):.5*(t=2*t-1)*t*t+.5;case r.quartIn:return t*t*t*t;case r.quartOut:return 1- --t*t*t*t;case r.quartInOut:return t<.5?8*t*t*t*t:1-8*--t*t*t*t;case r.quartOutIn:return t<.5?.5*(1-Math.pow(-2*t+1,4)):.5*Math.pow(2*t-1,4)+.5;case r.quintIn:return t*t*t*t*t;case r.quintOut:return 1+--t*t*t*t*t;case r.quintInOut:return t<.5?16*t*t*t*t*t:1+16*--t*t*t*t*t;case r.quintOutIn:return t<.5?.5*(1-Math.pow(-2*t+1,5)):.5*Math.pow(2*t-1,5)+.5;case r.sineIn:return 1-Math.cos(t*Math.PI/2);case r.sineOut:return Math.sin(t*Math.PI/2);case r.sineInOut:return.5*(1-Math.cos(Math.PI*t));case r.sineOutIn:return t<.5?.5*Math.sin(t*Math.PI):.5-.5*Math.cos((2*t-1)*Math.PI/2);case r.circIn:return 1-Math.sqrt(1-t*t);case r.circOut:return Math.sqrt(1-(t-1)*(t-1));case r.circInOut:return t<.5?(1-Math.sqrt(1-4*t*t))/2:(Math.sqrt(1-Math.pow(-2*t+2,2))+1)/2;case r.circOutIn:return t<.5?.5*Math.sqrt(1-Math.pow(-2*t+1,2)):.5*(2-Math.sqrt(1-Math.pow(2*t-1,2)));case r.expoIn:return 0===t?0:Math.pow(2,10*t-10);case r.expoOut:return 1==t?1:1-Math.pow(2,-10*t);case r.expoInOut:return 0===t?0:1===t?1:t<.5?Math.pow(2,20*t-10)/2:(2-Math.pow(2,-20*t+10))/2;case r.expoOutIn:return 0===t?0:1===t?1:t<.5?.5*(1-Math.pow(2,-20*t)):.5*Math.pow(2,20*(t-.5)-10)+.5;case r.backIn:var e=1.70158;return t*t*((e+1)*t-e);case r.backOut:var i=1.70158;return(t-=1)*t*((i+1)*t+i)+1;case r.backInOut:var n=2.5949095;return t<.5?4*t*t*(2*(n+1)*t-n)/2:((2*t-2)*(2*t-2)*((n+1)*(2*t-2)+n)+2)/2;case r.backOutIn:var o=1.70158;return t<.5?.5*((t=2*t-1)*t*((o+1)*t+o)+1):.5*(t=2*t-1)*t*((o+1)*t-o)+.5;case r.elasticIn:return 0===t?0:1===t?1:-Math.pow(2,10*(t-1))*Math.sin(5*(t-1.1)*Math.PI);case r.elasticOut:return 0===t?0:1===t?1:Math.pow(2,-10*t)*Math.sin(5*(t-.1)*Math.PI)+1;case r.elasticInOut:return 0===t?0:1===t?1:t<.5?-.5*Math.pow(2,20*t-10)*Math.sin((20*t-11.125)*Math.PI/2.25):.5*Math.pow(2,-20*t+10)*Math.sin((20*t-11.125)*Math.PI/2.25)+1;case r.elasticOutIn:return 0===t?0:1===t?1:t<.5?.5*Math.pow(2,-20*t)*Math.sin(5*(20*t-.5)*Math.PI)+.5:.5*-Math.pow(2,10*(2*t-1.5))*Math.sin(5*(2*t-1.6)*Math.PI)+.5;case r.bounceIn:return 1-this._bounceOut(1-t);case r.bounceOut:return this._bounceOut(t);case r.bounceInOut:return t<.5?(1-this._bounceOut(1-2*t))/2:(1+this._bounceOut(2*t-1))/2;case r.bounceOutIn:return t<.5?this._bounceOut(2*t)/2:(1-this._bounceOut(2-2*t))/2+.5;default:return t}},e.prototype.stopMoving=function(){this.isMoving=!1},e.prototype._calculateQuadraticBezierPoint=function(t,e,i,n){var o=1-t,a=t*t,s=o*o,r=new cc.Vec3;cc.Vec3.multiplyScalar(r,e,s);var c=new cc.Vec3;cc.Vec3.multiplyScalar(c,i,2*o*t),cc.Vec3.add(r,r,c);var l=new cc.Vec3;return cc.Vec3.multiplyScalar(l,n,a),cc.Vec3.add(r,r,l),r},e.prototype._calculateQuadraticBezierTangent=function(t,e,i,n){var o=1-t,a=new cc.Vec3,s=new cc.Vec3;cc.Vec3.subtract(s,i,e),cc.Vec3.multiplyScalar(s,s,2*o);var r=new cc.Vec3;return cc.Vec3.subtract(r,n,i),cc.Vec3.multiplyScalar(r,r,2*t),cc.Vec3.add(a,s,r),a},e.prototype.angleIn360=function(t){return(t%=360)<0?t+360:t},e.prototype._smoothAngle=function(t,e,i){i=Math.max(.001,Math.min(1,i));var n=this.angleIn360(t),o=this.angleIn360(e)-n;return o>180?o-=360:o<-180&&(o+=360),t+o*i},e.prototype.update=function(t){if(this.isMoving&&this.totalTime>0){this.curTime+=t/this.totalTime;var e=this.applyEasing(this.curTime);if(this.curTime>=1){if(this.node.position=this.endPos,this.isMoving=!1,this.callback&&this.callback(),this.showTrajectory&&this.graphics&&(this.graphics.clear(),this.graphics.node.parent!=this.node)){var i=this.graphics.node;i.parent&&i.removeFromParent(),this.node.addChild(i)}}else{var n=this._calculateQuadraticBezierPoint(e,this.startPos,this.controlPoint,this.endPos);if(this.node.position=n,this.autoRotate){var o=this._calculateQuadraticBezierTangent(e,this.startPos,this.controlPoint,this.endPos);if(o.lengthSqr()>.001){var a=cc.misc.radiansToDegrees(Math.atan2(o.y,o.x))-90;this.currentAngle=this._smoothAngle(this.currentAngle,a,this.rotationSmoothness),this.node.angle=this.currentAngle}}}}},e.prototype._generateControlPoint=function(){var t=new cc.Vec3;cc.Vec3.lerp(t,this.startPos,this.endPos,.5);var e=new cc.Vec3;cc.Vec3.subtract(e,this.endPos,this.startPos);var i,n=new cc.Vec3(-e.y,e.x,0);cc.Vec3.normalize(n,n),i=this.controlPointSide==s.Random?Math.random()<.5?1:.1:this.controlPointSide;var o=cc.Vec3.distance(this.startPos,this.endPos)*this.controlPointOffset,a=(2*Math.random()-1)*this.controlPointRandomness;this.controlPoint.set(cc.v3(t.x+n.x*o*(1+a)*i,t.y+n.y*o*(1+a)*i,0))},e.prototype.clearTrajectory=function(){this.graphics&&this.graphics.clear()},e.prototype._drawTrajectory=function(){if(this.showTrajectory&&this.graphics){this.graphics.clear(),this.graphics.lineWidth=this.trajectoryWidth,this.graphics.strokeColor=this.trajectoryColor;var t=this.graphics.node;this.node.parent&&(t.parent=this.node.parent,this.graphics.moveTo(this.startPos.x,this.startPos.y),this.graphics.quadraticCurveTo(this.controlPoint.x,this.controlPoint.y,this.endPos.x,this.endPos.y)),this.graphics.stroke()}},e.prototype.moveTo=function(t){this.startPos=this.node.position,this.endPos=t,this.currentAngle=this.node.angle,this._generateControlPoint();var e=cc.Vec3.distance(this.startPos,this.controlPoint)+cc.Vec3.distance(this.controlPoint,this.endPos);this.totalTime=e/this.speed,this.totalTime<.1&&(this.totalTime=.1),this.showTrajectory&&this._drawTrajectory(),this.isMoving=!0,this.curTime=0},a([p({displayName:"\u901f\u5ea6"})],e.prototype,"speed",void 0),a([p({displayName:"\u66f2\u7ebf\u65b9\u5411",type:cc.Enum(s)})],e.prototype,"controlPointSide",void 0),a([p({displayName:"\u63a7\u5236\u70b9\u504f\u79fb\u7cfb\u6570"})],e.prototype,"controlPointOffset",void 0),a([p({displayName:"\u63a7\u5236\u70b9\u968f\u673a\u6027"})],e.prototype,"controlPointRandomness",void 0),a([p({displayName:"\u81ea\u52a8\u65cb\u8f6c"})],e.prototype,"autoRotate",void 0),a([p({displayName:"\u663e\u793a\u8f68\u8ff9"})],e.prototype,"showTrajectory",void 0),a([p({displayName:"\u8f68\u8ff9\u989c\u8272",visible:function(){return this.showTrajectory}})],e.prototype,"trajectoryColor",void 0),a([p({displayName:"\u8f68\u8ff9\u5bbd\u5ea6",visible:function(){return this.showTrajectory}})],e.prototype,"trajectoryWidth",void 0),a([p({displayName:"\u7f13\u52a8\u51fd\u6570",type:cc.Enum(r)})],e.prototype,"easing",void 0),a([p({displayName:"\u89d2\u5ea6\u5e73\u6ed1\u7cfb\u6570",visible:function(){return this.autoRotate}})],e.prototype,"rotationSmoothness",void 0),a([l],e)}(cc.Component);i.default=u,cc._RF.pop()},{}],BgMgr:[function(t,e,i){"use strict";cc._RF.push(e,"1ff1c+K+u1A9oJ6X6cM71pR","BgMgr");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),a=this&&this.__decorate||function(t,e,i,n){var o,a=arguments.length,s=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var r=t.length-1;r>=0;r--)(o=t[r])&&(s=(a<3?o(s):a>3?o(e,i,s):o(e,i))||s);return a>3&&s&&Object.defineProperty(e,i,s),s};Object.defineProperty(i,"__esModule",{value:!0});var s=t("./Hero/Hero"),r=t("./Hero/HeroFSM"),c=t("./nativets/Global"),l=t("./Game"),p=t("./Audio"),u=t("./Hero/HeroGlobal"),h=cc._decorator,d=h.ccclass,f=h.property,m=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.nearBg=null,e.nearBg1=null,e.farBg=null,e.farBg1=null,e.midBg=null,e.midBg1=null,e.hero=null,e.farSpeed=30,e.nearSpeed=300,e.heroCamera=null,e}var i;return o(e,t),i=e,e.prototype.init=function(){i.instance=this,this.nearBg&&(this.hole=this.node.getChildByName("hole"),this.holeSprite=this.hole.getComponent(cc.Sprite),this.heroCamera=cc.director.getScene().getComponentInChildren(cc.Canvas).node.getChildByName("heroCamera").getComponent(cc.Camera),cc.director.on("MapAction",this.MapAction,this),cc.director.on("MapActionHit",this.MapActionHit,this),cc.director.on("MapActionBase",this.MapActionBase,this))},e.prototype.reset=function(){this.heroCamera.node.position=cc.v3(0,0),this.nearBg.x=0,this.nearBg1.x=this.nearBg.width*this.nearBg.scaleX,this.farBg.x=0,this.farBg1.x=this.farBg.width*this.farBg.scaleX,this.midBg.x=0,this.midBg1.x=this.midBg.width*this.midBg.scaleX,c.default.getInstance().canScrollLeft=!1,c.default.getInstance().canScrollRight=!1},e.prototype.onGameStart=function(){this.reset()},e.prototype.setBg=function(t){this.nearBg.getComponent(cc.Sprite).spriteFrame=t?l.default.instance.holeNearSf:l.default.instance.nearSf,this.nearBg1.getComponent(cc.Sprite).spriteFrame=t?l.default.instance.holeNearSf:l.default.instance.nearSf,this.midBg.getComponent(cc.Sprite).spriteFrame=t?l.default.instance.holeMidSf:l.default.instance.midSf,this.midBg1.getComponent(cc.Sprite).spriteFrame=t?l.default.instance.holeMidSf:l.default.instance.midSf,this.farBg.getComponent(cc.Sprite).spriteFrame=t?l.default.instance.holeFarSf:l.default.instance.farSf,this.farBg1.getComponent(cc.Sprite).spriteFrame=t?l.default.instance.holeFarSf:l.default.instance.farSf},e.prototype.setMapByIndex=function(t){if(this.midBg.getChildByName("other").active=2==c.default.getInstance().BgIndex,this.midBg1.getChildByName("other").active=2==c.default.getInstance().BgIndex,t)switch(c.default.getInstance().MapLevelIndex){case 0:this.holeSprite.spriteFrame=l.default.instance.holeSf,this.hole.x=c.default.getInstance().MapSplitWidth+10,this.setBg(!1);break;case 1:this.hole.x=(c.default.getInstance().MapLevelIndex+1)*c.default.getInstance().MapSplitWidth+10,this.setBg(!0);break;case 2:this.reset(),this.hole.x=10,this.setBg(!1)}else this.holeSprite.spriteFrame=null,this.setBg(!1)},e.prototype.onBtnHome=function(){p.default.instance.playAudio("BtnClick"),cc.director.emit("hall_layer")},e.prototype.mapActionTween=function(t){cc.tween(t).sequence(cc.tween(t).by(.05,{position:cc.v3(-10,12)}).by(.05,{position:cc.v3(10,-12)}),cc.tween(t).by(.1,{position:cc.v3(-10,12)}).by(.1,{position:cc.v3(10,-12)}),cc.tween(t).by(.2,{position:cc.v3(-10,12)}).by(.2,{position:cc.v3(10,-12)})).start()},e.prototype.MapAction=function(){this.mapActionTween(this.nearBg),this.mapActionTween(this.nearBg1),this.mapActionTween(this.midBg),this.mapActionTween(this.midBg1)},e.prototype.MapActionHitTween=function(t,e){cc.tween(t).by(.02,{position:e},{easing:"backInOut"}).by(.04,{position:cc.v3(e.neg())}).start()},e.prototype.MapActionHit=function(){this.MapActionHitTween(this.nearBg,cc.v3(-8,10)),this.MapActionHitTween(this.nearBg1,cc.v3(-8,10)),this.MapActionHitTween(this.midBg,cc.v3(-8,10)),this.MapActionHitTween(this.midBg1,cc.v3(-8,10))},e.prototype.MapActionBase=function(){this.MapActionHitTween(this.nearBg,cc.v3(-3,12)),this.MapActionHitTween(this.nearBg1,cc.v3(-3,12)),this.MapActionHitTween(this.midBg,cc.v3(-3,12)),this.MapActionHitTween(this.midBg1,cc.v3(-3,12))},e.prototype.getLeftNearBg=function(){return this.nearBg.x<this.nearBg1.x?this.nearBg:this.nearBg1},e.prototype.getLeftFarBg=function(){return this.farBg.x<this.farBg1.x?this.farBg:this.farBg1},e.prototype.getLeftMidBg=function(){return this.midBg.x<this.midBg1.x?this.midBg:this.midBg1},e.prototype.getRightNearBg=function(){return this.nearBg.x>this.nearBg1.x?this.nearBg:this.nearBg1},e.prototype.getRightFarBg=function(){return this.farBg.x>this.farBg1.x?this.farBg:this.farBg1},e.prototype.getRightMidBg=function(){return this.midBg.x>this.midBg1.x?this.midBg:this.midBg1},e.prototype.extendLeft=function(t){var e=this.getLeftNearBg(),i=this.getRightNearBg(),n=cc.v2(0,0);if(this.heroCamera.getWorldToScreenPoint(i.position,n),n.x>cc.winSize.width&&(i.x=e.x-this.nearBg.width*this.nearBg.scaleX),c.default.getInstance().canScrollLeft&&(r.default.instance.fsm.is("state_move")||r.default.instance.fsm.is("state_jump")||r.default.instance.fsm.is("state_flash")||r.default.instance.fsm.is("state_jumpattack"))){var o=s.default.instance.SP;o||(o=300);var a=this.getLeftFarBg(),l=this.getRightFarBg(),p=Math.floor(o/2*t*100)/100;u.default.instance.MainHeroIndex>0&&r.default.instance.fsm.is("state_jumpattack")&&(p*=.1),"skill_guangbo"!=r.default.instance.sk.animation&&"skill_dipotianxing"!=r.default.instance.sk.animation||(p/=10),a.x+=-p,l.x+=-p;var h=cc.v2(0,0);this.heroCamera.getWorldToScreenPoint(l.position,h),h.x>cc.winSize.width&&(l.x=a.x-this.farBg.width*this.farBg.scaleX);var d=this.getLeftMidBg(),f=this.getRightMidBg(),m=Math.floor(o/4*t*100)/100;u.default.instance.MainHeroIndex>0&&r.default.instance.fsm.is("state_jumpattack")&&(m*=.1),"skill_guangbo"!=r.default.instance.sk.animation&&"skill_dipotianxing"!=r.default.instance.sk.animation||(m/=10),d.x+=-m,f.x+=-m;var g=cc.v2(0,0);this.heroCamera.getWorldToScreenPoint(f.position,g),g.x>cc.winSize.width&&(f.x=d.x-this.midBg.width*this.midBg.scaleX)}},e.prototype.extendRight=function(t){var e=this.getLeftNearBg(),i=this.getRightNearBg(),n=cc.v2(0,0);if(this.heroCamera.getWorldToScreenPoint(i.position,n),n.x<0&&(e.x=i.x+this.nearBg.width*this.nearBg.scaleX),c.default.getInstance().canScrollRight&&(r.default.instance.fsm.is("state_move")||r.default.instance.fsm.is("state_jump")||r.default.instance.fsm.is("state_flash")||r.default.instance.fsm.is("state_jumpattack"))){var o=s.default.instance.SP;o||(o=300);var a=this.getLeftFarBg(),l=this.getRightFarBg(),p=Math.floor(o/2*t*100)/100;u.default.instance.MainHeroIndex>0&&r.default.instance.fsm.is("state_jumpattack")&&(p*=.1),"skill_guangbo"!=r.default.instance.sk.animation&&"skill_dipotianxing"!=r.default.instance.sk.animation||(p/=10),a.x+=p,l.x+=p;var h=cc.v2(0,0);this.heroCamera.getWorldToScreenPoint(l.position,h),h.x<0&&(a.x=l.x+this.farBg.width*this.farBg.scaleX);var d=this.getLeftMidBg(),f=this.getRightMidBg(),m=Math.floor(o/4*t*100)/100;u.default.instance.MainHeroIndex>0&&r.default.instance.fsm.is("state_jumpattack")&&(m*=.1),"skill_guangbo"!=r.default.instance.sk.animation&&"skill_dipotianxing"!=r.default.instance.sk.animation||(m/=10),d.x+=m,f.x+=m;var g=cc.v2(0,0);this.heroCamera.getWorldToScreenPoint(f.position,g),g.x<0&&(d.x=f.x+this.midBg.width*this.midBg.scaleX)}},e.prototype.onBtnResume=function(){p.default.instance.playAudio("BtnClick"),cc.director.resume()},e.prototype.update=function(t){(c.default.getInstance().MoveState==c.default.getInstance().STATE.LEFT||c.default.getInstance().MoveState==c.default.getInstance().STATE.RIGHT||r.default.instance.fsm.is("state_flash")||r.default.instance.fsm.is("state_jumpattack")||c.default.getInstance().attackMove)&&(this.extendRight(t),this.extendLeft(t))},e.prototype.onEnable=function(){this.init()},e.prototype.onDestroy=function(){cc.director.off("MapAction",this.MapAction,this),cc.director.off("MapActionHit",this.MapActionHit,this),cc.director.off("MapActionBase",this.MapActionBase,this)},e.instance=null,a([f(cc.Node)],e.prototype,"nearBg",void 0),a([f(cc.Node)],e.prototype,"nearBg1",void 0),a([f(cc.Node)],e.prototype,"farBg",void 0),a([f(cc.Node)],e.prototype,"farBg1",void 0),a([f(cc.Node)],e.prototype,"midBg",void 0),a([f(cc.Node)],e.prototype,"midBg1",void 0),a([f(cc.Node)],e.prototype,"hero",void 0),i=a([d],e)}(cc.Component);i.default=m,cc._RF.pop()},{"./Audio":"Audio","./Game":"Game","./Hero/Hero":"Hero","./Hero/HeroFSM":"HeroFSM","./Hero/HeroGlobal":"HeroGlobal","./nativets/Global":"Global"}],BizarreAdventure:[function(t,e,i){"use strict";cc._RF.push(e,"413acToE/dJALUm8oxiMnzc","BizarreAdventure");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),a=this&&this.__decorate||function(t,e,i,n){var o,a=arguments.length,s=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var r=t.length-1;r>=0;r--)(o=t[r])&&(s=(a<3?o(s):a>3?o(e,i,s):o(e,i))||s);return a>3&&s&&Object.defineProperty(e,i,s),s};Object.defineProperty(i,"__esModule",{value:!0});var s=t("./BAItem"),r=t("../nativets/Config"),c=t("../nativets/Global"),l=t("../Hero/HeroGlobal"),p=t("../Game"),u=t("../TextureMgr"),h=t("../Director"),d=t("../Audio"),f=t("./BATips"),m=t("../GameUtils"),g=t("../GameSDKManger"),y=cc._decorator,v=y.ccclass,_=y.property,b=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.baItemPrefab=null,e}var i;return o(e,t),i=e,e.prototype.init=function(){this.boxNode=this.node.getChildByName("box"),this.initLayout(),this.node.active=!1},e.prototype.initLayout=function(){this.itemScripts=[];for(var t=0;t<3;t++){var e=cc.instantiate(this.baItemPrefab);e.name=""+t,e.parent=this.boxNode,e.position=cc.v3(300*(t-1),0),this.itemScripts.push(e.getComponent(s.default)),this.itemScripts[t].init()}},e.prototype.onLoad=function(){i.instance=this,this.init()},e.prototype.onOpen=function(t){if(!this.inOpen){this.inOpen=!0,this.isWin=t;var e=r.BizarreAdventureData[c.default.getInstance().nowLevel-1];if(!e)return this.onClose(),void p.default.instance.onEnd(!0);var i=parseInt(e.type),n=parseFloat(e.rate);if(Math.random()>n)return this.onClose(),void p.default.instance.onEnd(!0);if(1==n&&l.default.instance.MapData[c.default.getInstance().gameDifficulty][c.default.getInstance().nowLevel-40*c.default.getInstance().gameDifficulty-1]>0)return this.onClose(),void p.default.instance.onEnd(!0);h.default.instance.showType(i),this.getAttrs(e)}},e.prototype.onBtnAll=function(){var t=this;d.default.instance.playAudio("BtnClick"),g.shareAd(function(){t.getAll()})},e.prototype.getAll=function(){for(var t=0;t<this.dataAttrs.length;t++)this.unlockReward(this.dataAttrs[t]);l.default.instance.saveEquipmentAttrs(),this.onClose(),f.default.instance.onOpen()},e.prototype.onReward=function(t){this.unlockReward(this.dataAttrs[t]),l.default.instance.saveEquipmentAttrs(),this.onClose(),f.default.instance.onOpenSingle(t)},e.prototype.onClose=function(){this.node.active=!1,this.inOpen=!1},e.prototype.getAttrs=function(t){for(var e=[],i=0;i<m.AtkAttrs.length;i++)if(t[m.AtkAttrs[i]]){var n=t[m.AtkAttrs[i]].split(", "),o=parseInt(n[Math.floor(Math.random()*n.length)]);e.push({index:i,id:o})}e.length>3&&e.splice(Math.floor(3*Math.random()),1),this.dataAttrs=e;for(var a=0;a<3;a++){var s=e[a].index,r=e[a].id,c=this.getImgByJson(s,r),l=this.getNameByJson(s,r),p=this.getAttInData(s,r);this.itemScripts[a].setItem(s,c,l,m.DesAttrs[e[a].index],p)}},e.prototype.unlockReward=function(t){if(t){var e=parseInt(t.id);switch(t.index){case 0:l.default.instance.Jade+=e,l.default.instance.saveHeroGlobal();break;case 1:l.default.instance.Coins+=e,l.default.instance.saveHeroGlobal();break;case 2:l.default.instance.Life+=e,l.default.instance.saveHeroGlobal();break;case 3:l.default.instance.pushEquipmentData(1e4*e);break;case 4:l.default.instance.pushEquipmentData(e);break;case 5:l.default.instance.pushEquipmentData(e),f.default.instance.oldCE=l.default.instance.HeroDataAttr[l.default.instance.MainHeroIndex].CE,l.default.instance.HeroDataAttr[l.default.instance.MainHeroIndex].updateAttribute()}}},e.prototype.getNameByJson=function(t,e){switch(t){case 0:return"\u5b9d\u77f3";case 1:return"\u91d1\u5e01";case 2:return"\u519b\u7cae";case 3:return r.getDataById(e).name;case 4:return r.getDataById(e).name+"\xb7\u6b66\u9b42";case 5:return r.getDataById(e).name}return t+""+e},e.prototype.getImgByJson=function(t,e){switch(t){case 0:case 1:case 2:return u.default.instance.rewardSfInGame[t];case 3:return u.default.instance.getEquipmentIconById(e);case 4:return u.default.instance.getSoulIconById(e);case 5:return u.default.instance.rewardSfInGame[3]}},e.prototype.getAttInData=function(t,e){switch(t){case 0:return"\u5b9d\u77f3 x "+e;case 1:return"\u91d1\u5e01 x "+e;case 2:return"\u519b\u7cae x "+e;case 3:var i=r.getDataById(e);return this.getDetailByJson(i);case 4:r.getDataById(e);case 5:var n=r.getDataById(e);return this.getDetailByJson(n)}return t+""+e},e.prototype.getDetailByJson=function(t){for(var e=0,i="",n=0;n<m.BaseAttrs.length;n++){var o=m.BaseAttrs[n];t[o]&&(i+=m.textAttrs[n]+"+"+t[o],i+=++e%2==0?"\n":"  ")}return i},e.instance=null,a([_(cc.Prefab)],e.prototype,"baItemPrefab",void 0),i=a([v],e)}(cc.Component);i.default=b,cc._RF.pop()},{"../Audio":"Audio","../Director":"Director","../Game":"Game","../GameSDKManger":"GameSDKManger","../GameUtils":"GameUtils","../Hero/HeroGlobal":"HeroGlobal","../TextureMgr":"TextureMgr","../nativets/Config":"Config","../nativets/Global":"Global","./BAItem":"BAItem","./BATips":"BATips"}],BossShow:[function(t,e,i){"use strict";cc._RF.push(e,"f115872oeNM1ICrumTqkrF8","BossShow");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),a=this&&this.__decorate||function(t,e,i,n){var o,a=arguments.length,s=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var r=t.length-1;r>=0;r--)(o=t[r])&&(s=(a<3?o(s):a>3?o(e,i,s):o(e,i))||s);return a>3&&s&&Object.defineProperty(e,i,s),s};Object.defineProperty(i,"__esModule",{value:!0});var s=["\u67aa","\u5251","\u9524"],r=["\u72ec\u773c\u662f\u7537\u4eba\u7684\u6d6a\u6f2b","\u5b81\u53eb\u6211\u8d1f\u5929\u4e0b\u4eba","\u8131\uff01"],c=["\u72ec\n\u773c\n\u6218\n\u795e","\u5251\n\u795e","\u864e\n\u58eb"],l=cc._decorator,p=l.ccclass,u=l.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.rareSfArrs=[],e}return o(e,t),e.prototype.init=function(){var t=this.node.getChildByName("right");this.rareSf=t.getChildByName("S").getComponent(cc.Sprite),this.weaponLabel=t.getChildByName("weapon").getComponent(cc.Label),this.nameLabel=t.getChildByName("name").getComponent(cc.Label),this.textLabel=t.getChildByName("text").getComponent(cc.Label)},e.prototype.setType=function(t){this.rareSf||this.init();var e=t-97;this.rareSf.spriteFrame=this.rareSfArrs[e],this.weaponLabel.string=s[e],this.nameLabel.string=c[e],this.textLabel.string=r[e]},a([u([cc.SpriteFrame])],e.prototype,"rareSfArrs",void 0),a([p],e)}(cc.Component);i.default=h,cc._RF.pop()},{}],BoxGift:[function(t,e,i){"use strict";cc._RF.push(e,"e289ds5xq1KGbwwY0ogJFpO","BoxGift");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),a=this&&this.__decorate||function(t,e,i,n){var o,a=arguments.length,s=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var r=t.length-1;r>=0;r--)(o=t[r])&&(s=(a<3?o(s):a>3?o(e,i,s):o(e,i))||s);return a>3&&s&&Object.defineProperty(e,i,s),s};Object.defineProperty(i,"__esModule",{value:!0});var s=t("../../Audio"),r=t("../../BizarreAdventure/BATips"),c=cc._decorator,l=c.ccclass,p=c.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.boxSf=[],e.fingerSf=[],e}var i;return o(e,t),i=e,e.prototype.init=function(){this.progressBar=this.node.getChildByName("ProgressBar").getComponent(cc.ProgressBar),this.backBtn=this.node.getChildByName("back"),this.clickBtn=this.node.getChildByName("Btn"),this.boxSprite=this.node.getChildByName("box").getComponent(cc.Sprite),this.fingerSprite=this.node.getChildByName("finger").getComponent(cc.Sprite),this.space=.35,this.fingerIndex=0},e.prototype.onLoad=function(){i.instance=this,this.node.active=!1,this.init()},e.prototype.open=function(){var t=this;this.boxActive=!0,this.node.active=!0,this.progressBar.node.active=!0,this.fingerSprite.node.active=!0,this.backBtn.active=!1,this.boxSprite.spriteFrame=this.boxSf[0],this.progressBar.progress=0,this.scheduleOnce(function(){t.backBtn.active=!0},2.5)},e.prototype.onBtnClick=function(){this.progressBar.progress<=.9&&(this.progressBar.progress+=.1)},e.prototype.onBtnClose=function(){s.default.instance.playAudio("BtnClick"),this.close()},e.prototype.close=function(){this.node.active=!1},e.prototype.openBox=function(){var t=this;this.boxActive&&(this.boxActive=!1,this.scheduleOnce(function(){t.progressBar.progress=0,t.progressBar.node.active=!1,t.fingerSprite.node.active=!1;var e=5;t.schedule(function(){e++,t.boxSprite.spriteFrame=t.boxSf[e]},.2,2)},.5),this.scheduleOnce(function(){t.close(),r.default.instance&&r.default.instance.showBoxGiftReward()},3))},e.prototype.update=function(t){if(this.boxActive){this.progressBar.progress>0?this.progressBar.progress-=.0015+.001*Math.floor(3*Math.random()):this.progressBar.progress=0;var e=Math.floor(this.progressBar.progress/.15);e<0&&(e=0),this.boxSprite.spriteFrame=this.boxSf[e];var i=.3*Math.random()+.5;this.progressBar.progress>i&&this.openBox(),this.space-=t,this.space<=0&&(this.space=.35,this.fingerIndex=1==this.fingerIndex?0:1,this.fingerSprite.spriteFrame=this.fingerSf[this.fingerIndex])}},e.instance=null,a([p([cc.SpriteFrame])],e.prototype,"boxSf",void 0),a([p([cc.SpriteFrame])],e.prototype,"fingerSf",void 0),i=a([l],e)}(cc.Component);i.default=u,cc._RF.pop()},{"../../Audio":"Audio","../../BizarreAdventure/BATips":"BATips"}],Box:[function(t,e,i){"use strict";cc._RF.push(e,"48067B7NV1JR6l0T+Ey2H0u","Box");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),a=this&&this.__decorate||function(t,e,i,n){var o,a=arguments.length,s=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var r=t.length-1;r>=0;r--)(o=t[r])&&(s=(a<3?o(s):a>3?o(e,i,s):o(e,i))||s);return a>3&&s&&Object.defineProperty(e,i,s),s};Object.defineProperty(i,"__esModule",{value:!0});var s=t("../Reward/RewardMgr"),r=t("../Game"),c=cc._decorator,l=c.ccclass,p=c.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.normal=null,e.open=null,e}return o(e,t),e.prototype.init=function(){this.light=this.node.getChildByName("light"),this.sprite=this.node.getComponent(cc.Sprite),this.light.active=!1,this.sprite.spriteFrame=this.normal,this.life=1},e.prototype.onLoad=function(){this.init()},e.prototype.openBox=function(){var t=this;this.light.active=!0,this.sprite.spriteFrame=this.open,this.scheduleOnce(function(){t.hideBox()},.5),s.default.instance.createCoins(r.default.instance.mapData.boxId,cc.v3(this.node.x,this.node.y+60))},e.prototype.onlyOpen=function(){this.light.active=!0,this.sprite.spriteFrame=this.open},e.prototype.hideBox=function(){this.light.active=!1,this.node.active=!1,this.node.destroy()},a([p(cc.SpriteFrame)],e.prototype,"normal",void 0),a([p(cc.SpriteFrame)],e.prototype,"open",void 0),a([l],e)}(cc.Component);i.default=u,cc._RF.pop()},{"../Game":"Game","../Reward/RewardMgr":"RewardMgr"}],BtnStart:[function(t,e,i){"use strict";cc._RF.push(e,"80d70joA45BnarIlMHYTxMN","BtnStart");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),a=this&&this.__decorate||function(t,e,i,n){var o,a=arguments.length,s=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var r=t.length-1;r>=0;r--)(o=t[r])&&(s=(a<3?o(s):a>3?o(e,i,s):o(e,i))||s);return a>3&&s&&Object.defineProperty(e,i,s),s};Object.defineProperty(i,"__esModule",{value:!0});var s=cc._decorator,r=s.ccclass,c=s.property,l=s.requireComponent,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.nvFrames=[],e}return o(e,t),e.prototype.onEnable=function(){var t=Math.floor(Math.random()*this.nvFrames.length);this.node.getComponent(cc.Sprite).spriteFrame=this.nvFrames[t]},a([c(cc.SpriteFrame)],e.prototype,"nvFrames",void 0),a([r,l(cc.Sprite)],e)}(cc.Component);i.default=p,cc._RF.pop()},{}],BulletItem:[function(t,e,i){"use strict";cc._RF.push(e,"11d86p4znxMzbFtZypa1BaG","BulletItem");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),a=this&&this.__decorate||function(t,e,i,n){var o,a=arguments.length,s=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var r=t.length-1;r>=0;r--)(o=t[r])&&(s=(a<3?o(s):a>3?o(e,i,s):o(e,i))||s);return a>3&&s&&Object.defineProperty(e,i,s),s};Object.defineProperty(i,"__esModule",{value:!0});var s=t("./BulletMgr"),r=cc._decorator,c=r.ccclass,l=(r.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.init=function(){this.direct=this.node.scaleX>0?1:-1,this.sp=1e3,this.life=3,this.use(),cc.director.on("GameStart",this.unuse,this)},e.prototype.use=function(){this.using=!0,this.life=3,this.node.opacity=255},e.prototype.unuse=function(){this.life=0,this.using=!1,s.default.instance.bulletPool&&s.default.instance.bulletPool.put(this.node)},e.prototype.update=function(t){if(this.using&&this.life>0){var e=300+this.sp/2.4*this.life;this.node.x+=this.direct*t*e,this.life-=t,this.life<=0&&this.unuse()}},e.prototype.onDestroy=function(){cc.director.off("GameStart",this.unuse,this)},a([c],e)}(cc.Component));i.default=l,cc._RF.pop()},{"./BulletMgr":"BulletMgr"}],BulletMgr:[function(t,e,i){"use strict";cc._RF.push(e,"bc10boXDKJG2Ji3lOlfkweY","BulletMgr");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),a=this&&this.__decorate||function(t,e,i,n){var o,a=arguments.length,s=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var r=t.length-1;r>=0;r--)(o=t[r])&&(s=(a<3?o(s):a>3?o(e,i,s):o(e,i))||s);return a>3&&s&&Object.defineProperty(e,i,s),s};Object.defineProperty(i,"__esModule",{value:!0});var s=t("./Game"),r=t("./BulletItem"),c=t("./nativets/NodePool"),l=t("./Monster/MonsterBulletItem"),p=cc._decorator,u=p.ccclass,h=p.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.arrowPrefab=null,e.monsterArrowPrefab=null,e.monsterFirePrefab=null,e.monsterIcePrefab=null,e.towerArrowPrefab=null,e}var i;return o(e,t),i=e,e.prototype.init=function(){this.OUTY=cc.winSize.height,this.bulletPool=new c.default;for(var t=0;t<3;t++){var e=cc.instantiate(this.arrowPrefab);e.parent=s.default.instance.gameEffectNode,this.bulletPool.put(e)}this.monsterBulletPool=new c.default;for(var i=0;i<3;i++){var n=cc.instantiate(this.monsterArrowPrefab);n.parent=s.default.instance.gameEffectNode,this.monsterBulletPool.put(n)}},e.prototype.onLoad=function(){i.instance=this,this.init()},e.prototype.create=function(t,e,i){var n=this.bulletPool.get();n||((n=cc.instantiate(this.arrowPrefab)).parent=s.default.instance.gameEffectNode,this.bulletPool.put(n)),n.position=cc.v3(e),n.scaleX=.7*i,n.getComponent(r.default).init(t)},e.prototype.createForMonster=function(t,e,i,n){var o=this.monsterBulletPool.get();o||((o=cc.instantiate(this.monsterArrowPrefab)).parent=s.default.instance.gameEffectNode,this.monsterBulletPool.put(o)),o.position=e,o.scaleX=.5*i,o.getComponent(cc.BoxCollider).tag=n,o.getComponent(l.default).init(t)},e.prototype.createForMonsterFire=function(t,e){var i=cc.instantiate(this.monsterFirePrefab);i.getComponent(cc.CircleCollider).tag=e,i.parent=s.default.instance.gameEffectNode,i.x=t;var n=i.getComponent(cc.Animation);n.stop(),n.play(),n.on(cc.Animation.EventType.FINISHED,function(){i.destroy()})},e.prototype.createForMonsterIce=function(t,e){var i=cc.instantiate(this.monsterIcePrefab);i.getComponent(cc.CircleCollider).tag=e,i.parent=s.default.instance.gameEffectNode,i.x=t,i.y=-205;var n=i.getComponent(cc.Animation);n.stop(),n.play(),n.on(cc.Animation.EventType.FINISHED,function(){i.destroy()})},e.prototype.createForTower=function(){var t=this.towerBulletPool.get();t||(t=cc.instantiate(this.towerArrowPrefab))},e.instance=null,a([h(cc.Prefab)],e.prototype,"arrowPrefab",void 0),a([h(cc.Prefab)],e.prototype,"monsterArrowPrefab",void 0),a([h(cc.Prefab)],e.prototype,"monsterFirePrefab",void 0),a([h(cc.Prefab)],e.prototype,"monsterIcePrefab",void 0),a([h(cc.Prefab)],e.prototype,"towerArrowPrefab",void 0),i=a([u],e)}(cc.Component);i.default=d,cc._RF.pop()},{"./BulletItem":"BulletItem","./Game":"Game","./Monster/MonsterBulletItem":"MonsterBulletItem","./nativets/NodePool":"NodePool"}],CallFuncComponent:[function(t,e,i){"use strict";cc._RF.push(e,"4b837o8dRVADKM8EsvtLqzL","CallFuncComponent");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),a=this&&this.__decorate||function(t,e,i,n){var o,a=arguments.length,s=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var r=t.length-1;r>=0;r--)(o=t[r])&&(s=(a<3?o(s):a>3?o(e,i,s):o(e,i))||s);return a>3&&s&&Object.defineProperty(e,i,s),s};Object.defineProperty(i,"__esModule",{value:!0}),i.CallFuncComponent=void 0;var s=t("./ActionComponent"),r=cc._decorator,c=r.ccclass,l=r.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.handlerArray=[null],e.target=null,e.speed=0,e.moveTween=null,e}return o(e,t),e.prototype.getTween=function(){return null},e.prototype.startAction=function(){cc.Component.EventHandler.emitEvents(this.handlerArray),this.callFunc&&this.callFunc()},e.prototype.endAction=function(){},e.prototype.resetAction=function(){},a([l({type:cc.Component.EventHandler})],e.prototype,"handlerArray",void 0),a([l({type:cc.Node,override:!0,visible:!1})],e.prototype,"target",void 0),a([l({displayName:"\u52a8\u4f5c\u65f6\u95f4",override:!0,visible:!1})],e.prototype,"speed",void 0),a([c],e)}(s.ActionComponent);i.CallFuncComponent=p,cc._RF.pop()},{"./ActionComponent":"ActionComponent"}],ChangeSelect:[function(t,e,i){"use strict";cc._RF.push(e,"16b47NdYjlLpq3v5zrJQl0W","ChangeSelect");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),a=this&&this.__decorate||function(t,e,i,n){var o,a=arguments.length,s=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var r=t.length-1;r>=0;r--)(o=t[r])&&(s=(a<3?o(s):a>3?o(e,i,s):o(e,i))||s);return a>3&&s&&Object.defineProperty(e,i,s),s};Object.defineProperty(i,"__esModule",{value:!0});var s=t("../Audio"),r=t("../Hero/HeroGlobal"),c=t("../TextureMgr"),l=cc._decorator,p=l.ccclass,u=(l.property,[-110.5,0,110.5]),h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.icons=[],e.isPet=0,e}return o(e,t),e.prototype.init=function(){this.selectNode=this.node.getChildByName("select");for(var t=0;t<3;t++)this.icons.push(this.node.getChildByName(""+t).getComponent(cc.Sprite));this.lockNode=this.node.getChildByName("lock"),this.lockNode.getComponent(cc.Sprite).spriteFrame=c.default.instance.lockSf,this.lockNode.active=!1,cc.director.on("RefreshIcon",this.refreshIcon,this)},e.prototype.onLoad=function(){this.init()},e.prototype.refreshIcon=function(){this.setIcons(0)},e.prototype.setIcons=function(t){this.isPet=t;for(var e=0==t?c.default.instance.heroIconSf:c.default.instance.petIconSf,i=0;i<3;i++)this.icons[i].spriteFrame=e[i];this.lockNode.active=0==t&&r.default.instance.Level<10,this.lockNode.active&&(this.icons[2].spriteFrame=null)},e.prototype.setSelect=function(t){this.selectIndex=t,this.selectNode.x=u[t],cc.director.emit("RefreshSelect",t)},e.prototype.onBtnSelect=function(t){s.default.instance.playAudio("BtnClick");var e=parseInt(t.target.name);0==this.isPet&&2==e&&r.default.instance.Level<10||this.setSelect(e)},e.prototype.onDestroy=function(){cc.director.off("RefreshIcon",this.refreshIcon,this)},a([p],e)}(cc.Component);i.default=h,cc._RF.pop()},{"../Audio":"Audio","../Hero/HeroGlobal":"HeroGlobal","../TextureMgr":"TextureMgr"}],CircleComponent:[function(t,e,i){"use strict";cc._RF.push(e,"de603FasXFNMLcCWZgEqKLe","CircleComponent");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),a=this&&this.__decorate||function(t,e,i,n){var o,a=arguments.length,s=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var r=t.length-1;r>=0;r--)(o=t[r])&&(s=(a<3?o(s):a>3?o(e,i,s):o(e,i))||s);return a>3&&s&&Object.defineProperty(e,i,s),s};Object.defineProperty(i,"__esModule",{value:!0}),i.CircleComponent=void 0;var s=t("./ActionComponent"),r=cc._decorator,c=r.ccclass,l=r.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.target=null,e.sprite=null,e.isReverse=!0,e.fillStart=0,e.isAction=!1,e.curTime=0,e}return o(e,t),e.prototype.onLoad=function(){this.sprite.type=cc.Sprite.Type.FILLED,this.sprite.fillType=cc.Sprite.FillType.RADIAL,this.sprite.fillStart=this.fillStart/360,this.sprite.fillCenter=cc.v2(.5,.5)},e.prototype.getTween=function(){return null},e.prototype.resetAction=function(){this.isAction=!1,this.curTime=0,this.sprite.fillRange=0},e.prototype.startAction=function(){this.resetAction(),this.isAction=!0},e.prototype.endAction=function(){this.isAction=!1,this.sprite.fillRange=1},e.prototype.update=function(t){this.isAction&&(this.curTime+=t,this.curTime>=this.speed?(this.isAction=!1,this.sprite.fillRange=1):this.isReverse?this.sprite.fillRange=this.curTime/this.speed:this.sprite.fillRange=-this.curTime/this.speed)},a([l({type:cc.Node,override:!0,visible:!1})],e.prototype,"target",void 0),a([l(cc.Sprite)],e.prototype,"sprite",void 0),a([l({displayName:"\u662f\u5426\u9006\u65f6\u9488"})],e.prototype,"isReverse",void 0),a([l({displayName:"\u5f00\u59cb\u65b9\u5411(\u9006\u65f6\u9488\u65b9\u5411\u5f00\u59cb)",min:0,max:360,step:1})],e.prototype,"fillStart",void 0),a([c],e)}(s.ActionComponent);i.CircleComponent=p,cc._RF.pop()},{"./ActionComponent":"ActionComponent"}],ComboMgr:[function(t,e,i){"use strict";cc._RF.push(e,"8b422KGSm5EdIdRHkK3MxNQ","ComboMgr");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),a=this&&this.__decorate||function(t,e,i,n){var o,a=arguments.length,s=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var r=t.length-1;r>=0;r--)(o=t[r])&&(s=(a<3?o(s):a>3?o(e,i,s):o(e,i))||s);return a>3&&s&&Object.defineProperty(e,i,s),s};Object.defineProperty(i,"__esModule",{value:!0});var s=t("./Game"),r=cc._decorator,c=r.ccclass,l=(r.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.comboTime=2,e}var i;return o(e,t),i=e,e.prototype.init=function(){s.default.instance.combo=0,this.comboSpace=0,this.text=this.node.getChildByName("combo").getComponent(cc.Label),this.node.active=!1},e.prototype.onLoad=function(){i.instance=this,this.init()},e.prototype.attack=function(){s.default.instance.combo++,s.default.instance.combo>s.default.instance.maxCombo&&(s.default.instance.maxCombo=s.default.instance.combo),this.time=this.comboTime,this.node.active=!0},e.prototype.update=function(t){s.default.instance.combo>0&&(this.time-=t,this.comboSpace-=t,this.time<=0?(s.default.instance.combo=0,this.text.string="0",this.node.active=!1):this.comboSpace<=0&&(this.comboSpace=.5,this.text.string=s.default.instance.combo+"",this.node.active=!0,cc.tween(this.text.node).to(.3,{scale:1.2}).to(.2,{scale:1}).start()))},e.instance=null,i=a([c],e)}(cc.Component));i.default=l,cc._RF.pop()},{"./Game":"Game"}],Config:[function(t,e,i){"use strict";cc._RF.push(e,"6497ed47A5CqplCsM9TObJf","Config"),Object.defineProperty(i,"__esModule",{value:!0}),i.MapData=i.SkillNameArrs=i.PetName=i.HeroName=i.Eight=i.BizarreAdventureData=i.Wing=i.Ornament=i.Ring=i.Armor=i.Weapon=i.BgName=i.SoulSubRate=i.SoulRate=i.getSoulIds=i.getSoulDataById=i.getLevelExp=i.getLevelCoins=i.MapTitle=i.HeroSkillName=i.MonsterArmor=i.Soul=i.TipString=i.MapBox=i.Pet=i.Book=i.getSoulIndexById=i.MonsterATK=i.MonsterHP=i.RewardCoins=i.RewardExp=i.Exp=i.getUpgradeId=i.Achieve=i.Task=i.AttAttrs=i.Skill=i.getSoulId=i.getJsonId=i.getDataById=i.getIndexId=i.getLvId=i.getWhoId=i.getTypeId=void 0;var n=t("../i18n/Language");i.MonsterATK=[[5,7,12,15,22,27,33,39,44,50,65,79,86,92,100,110,120,125,131,142,175,190,210,220,230,250,270,275,300,330,360,380,390,420,445,460,510,550,590,650],[59,64,74,82,94,104,116,127,137,149,173,195,208,219,234,251,268,278,289,307,357,381,412,422,439,470,501,511,549,594,639,670,687,732,770,794,867,926,985,1072],[195,206,223,238,257,274,294,312,329,348,382,414,434,452,475,501,526,543,561,588,653,687,729,746,771,814,856,873,923,982,1041,1084,1109,1168,1219,1252,1345,1421,1497,1606]],i.MonsterHP=[[180,240,300,360,460,640,750,860,950,1070,1220,1450,1620,1740,1900,2100,2150,2250,2350,2450,2500,2500,2550,2650,2650,2750,2850,2950,3e3,3100,3100,3200,3300,3400,3500,3600,3700,3850,4200,4400],[1196,1288,1380,1472,1612,1848,2e3,2152,2280,2444,2644,2940,3164,3328,3540,3800,3880,4020,4160,4200,4380,4400,4480,4620,4640,4780,4920,5060,5140,5280,5300,5440,5580,5720,5860,6e3,6140,6340,6780,7040],[2065,2205,2346,2486,2684,2997,3210,3422,3606,3832,4102,4488,4786,5013,5298,5640,5766,5964,6162,6240,6486,6540,6666,6864,6918,7116,7314,7512,7638,7836,7890,8088,8286,8484,8682,8880,9078,9348,9906,10248]],i.MonsterArmor=[[0,0,0,30,49,50,60,80,90,120,155,220,260,300,350,400,450,500,500,500,700,700,700,800,1e3,1100,1100,1100,1200,1500,1500,1600,1700,1800,2e3,2100,2200,2300,2400,3e3],[140,150,170,223,263.9,285,316,358,389,442,500.5,592,656,720,795,870,945,1020,1040,1060,1300,1320,1340,1470,1710,1840,1860,1880,2010,2360,2380,2510,2640,2770,3010,3140,3270,3400,3530,4210],[438,480,534,627,706,762,829,909,976,1070,1170,1310,1417,1524,1644,1764,1884,2004,2058,2112,2430,2484,2538,2724,3042,3228,3282,3336,3522,3972,4026,4212,4398,4584,4902,5088,5274,5460,5646,6492]],i.RewardCoins=[[20,25,35,50,80,85,95,105,150,140,145,165,175,195,235,215,225,245,265,335,320,330,340,355,435,420,435,450,465,500,525,550,575,600,620,645,670,695,720,800],[149,160,177,200,241,252,269,286,345,338,349,378,395,424,477,458,475,504,533,622,609,626,643,666,767,754,777,800,823,870,905,940,975,1010,1039,1074,1109,1144,1179,1280],[304,324,350,384,439,458,484,511,588,585,604,645,672,712,782,765,792,832,873,986,976,1003,1029,1063,1190,1180,1214,1248,1281,1344,1392,1440,1488,1536,1576,1624,1672,1720,1768,1896]],i.RewardExp=[[5,10,15,20,25,30,45,35,40,45,55,65,75,85,95,105,115,125,135,145,155,165,210,220,200,205,215,225,235,245,255,300,275,285,295,305,315,325,400,450],[64,74,84,94,104,114,136,128,138,148,164,180,196,212,228,244,260,276,292,308,324,340,398,414,394,404,420,436,452,468,484,542,516,532,548,564,580,596,690,754],[137,156,175,194,213,232,266,263,282,301,327,354,380,406,432,458,485,511,537,563,589,616,692,718,701,720,747,773,799,825,851,928,904,930,956,982,1009,1035,1155,1238]],i.Exp=[10,30,60,100,150,210,280,360,450,550,670,810,970,1150,1350,1570,1810,2070,2350,2650,2970,3310,3670,4050,4450,4870,5310,5770,6250,6750,7270,7810,8370,8950,9550,10170,10810,11470,12150,12850,13570,14310,15070,15850,16650,17470,18310,19170,20050,20950,21870,22810,23770,24750,25750,26770,27810,28870,29950,31050,32170,33310,34470,35650,36850,38070,39310,40570,41850,43150,44470,45810,47170,48550,49950,51370,52810,54270,55750,57250,58770,60310,61870,63450,65050,66670,68310,69970,71650,73350,75070,76810,78570,80350,82150,83970,85810,87670,89550,92050,94550,97050,99550,102050,104550,107050,109550,112050,114550,117050,119550,122050,124550,127050,129550,132050,134550,137050,139550,142050],i.TipString=["\u6b66\u9b42\u662f\u7279\u6b8a\u5b9d\u77f3\uff0c\u53ef\u4ee5\u7ed9\u88c5\u5907\u9644\u52a0\u989d\u5916\u5c5e\u6027","\u88c5\u5907\u53ef\u4ee5\u4f7f\u7528\u91d1\u5e01\u5347\u7ea7\uff0c\u63d0\u5347\u66f4\u591a\u6218\u6597\u529b","\u6280\u80fd\u53ef\u4ee5\u4f7f\u7528\u91d1\u5e01\u5347\u7ea7\uff0c\u5a01\u529b\u4f1a\u66f4\u5f3a\u5594","\u795e\u5ba0\u53ef\u4ee5\u4f7f\u7528\u94bb\u77f3\u5347\u7ea7\uff0c\u63d0\u5347\u66f4\u591a\u6218\u6597\u529b","\u5173\u5361\u6311\u6218\u7684\u661f\u661f\uff0c\u53ef\u4ee5\u89e3\u9501\u5730\u56fe\u5de6\u4e0b\u89d2\u7684\u5173\u5361\u5b9d\u7bb1","\u4e0d\u540c\u5173\u5361\u53ef\u4ee5\u4f7f\u7528\u4e0d\u540c\u4eba\u7269\u901a\u5173","\u8fdb\u5165\u6392\u884c\u699c\u524d100\u540d\uff0c\u53ef\u4ee5\u5728\u6210\u5c31\u4e2d\u9886\u53d6\u94bb\u77f3\u5594","\u67e5\u770b\u5e76\u5b8c\u6210\u6bcf\u65e5\u4efb\u52a1\uff0c\u53ef\u4ee5\u83b7\u5f97\u5927\u91cf\u94bb\u77f3\u798f\u5229\u5594","\u8fde\u7eed7\u5929\u7b7e\u5230\u5c31\u53ef\u4ee5\u83b7\u5f97\u7a00\u6709\u795e\u5ba0\uff01","\u4f4e\u7ea7\u6b66\u9b42\u53ef\u4ee5\u8fdb\u9636\u6210\u9ad8\u7ea7\u6b66\u9b42\uff08\u9700\u8981\u6d88\u8017\u5176\u4ed6\u6b66\u9b42\uff09","\u7b49\u7ea7\u63d0\u5347\u540e\uff0c\u53ef\u4ee5\u53bb\u6210\u5c31\u9886\u53d6\u5956\u52b1"],i.MapData=[{lv:1,soul:[[60100],[60200],[60300]],soulrate:[[60100],[60200],[60300]],item:[[40101],[40103],[40204]],itemrate:[[1],[.5],[.4]],cave:"",wave:1,monster:[[3100,3101]],boss:""},{lv:2,soul:[[60100],[60200],[60300]],soulrate:[[.1],[.2],[.3]],item:"",itemrate:"",cave:1,wave:2,monster:[[2101,1201,2103],[2101,1101,2203]],boss:""},{lv:3,soul:[[60100],[60200],[60300]],soulrate:[[.1],[.2],[.3]],item:"",itemrate:"",cave:"",wave:3,monster:[[1101,2101,2104]],boss:""},{lv:4,soul:[[60100],[60200],[60300]],soulrate:[[.1],[.2],[.3]],item:"",itemrate:"",cave:"",wave:2,monster:[[1101,3102,1104],[2105,1104,3107]],boss:""},{lv:5,soul:[[60100],[60200],[60300]],soulrate:[[.2],[.3],[.4]],item:[[30104],[30202],[30206]],itemrate:[[1],[.5],[.4]],cave:1,wave:2,monster:[[3105,3101,2107],[2107,1105,2100]],boss:1197},{lv:6,soul:[[60100],[60200],[60300]],soulrate:[[.1],[.2],[.3]],item:"",itemrate:"",cave:"",wave:2,monster:[[3101,2101,3108],[3101,2108,2106]],boss:""},{lv:7,soul:[[60100],[60200],[60300]],soulrate:[[.1],[.2],[.3]],item:[[40103],[40207],[40305]],itemrate:[[.5],[.4],[.4]],cave:"",wave:1,monster:[[3100,3101,1103],[3101,2105,3106]],boss:""},{lv:8,soul:[[60100],[60200],[60300]],soulrate:[[.1],[.2],[.3]],item:"",itemrate:"",cave:"",wave:2,monster:[[3101,3101,1108],[3101,2107,3106]],boss:""},{lv:9,soul:[[60100],[60200],[60300]],soulrate:[[.1],[.2],[.3]],item:"",itemrate:"",cave:"",wave:2,monster:[[3201,1101,3108],[4201,4105,2107]],boss:""},{lv:10,soul:[[60200],[60300],[60400]],soulrate:[[.2],[.3],[.3]],item:[[30105]],itemrate:[[.5]],cave:1,wave:2,monster:[[2205,2104,2103],[2208,3105,2108],[6107,1105]],boss:1197},{lv:11,soul:[[60200],[60300],[60400]],soulrate:[[.2],[.3],[.3]],item:[[21203]],itemrate:[[.35]],cave:1,wave:4,monster:[[3201,2201,1203],[1107,2106,2105]],boss:""},{lv:12,soul:[[60200],[60300],[60400]],soulrate:[[.2],[.3],[.3]],item:[[22205]],itemrate:[[.5]],cave:1,wave:4,monster:[[2200,2101,3203],[2107,2106,1105]],boss:""},{lv:13,soul:[[60200],[60300],[60400]],soulrate:[[.2],[.3],[.3]],item:[[12205]],itemrate:[[.3]],cave:1,wave:2,monster:[[3101,3201,3105],[3105,4103,2106],[2104,3108,3106]],boss:""},{lv:14,soul:[[60200],[60300],[60400]],soulrate:[[.2],[.3],[.3]],item:[[11202]],itemrate:[[.3]],cave:"",wave:2,monster:[[2201,4201,5103],[3101,3104,2106],[2107,3106,3105]],boss:""},{lv:15,soul:[[60200],[60300],[60400]],soulrate:[[.2],[.3],[.3]],item:[[30202],[30203],[30301]],itemrate:[[.3],[.4],[.4]],cave:1,wave:4,monster:[[2201,2200,1104],[2104,1105,2106],[1108,2106,2105]],boss:1199},{lv:16,soul:[[60200],[60300],[60400]],soulrate:[[.2],[.3],[.3]],item:[[40204],[40207],[40306]],itemrate:[[.3],[.4],[.4]],cave:"",wave:4,monster:[[3200,2201,1108],[2108,1105,2106],[5106]],boss:""},{lv:17,soul:[[60200],[60300],[60400]],soulrate:[[.2],[.3],[.3]],item:[[12205]],itemrate:[[.3]],cave:1,wave:4,monster:[[6108],[4103,1105],[2105,4104]],boss:""},{lv:18,soul:[[60200],[60300],[60400]],soulrate:[[.2],[.3],[.3]],item:[[22205]],itemrate:[[.3]],cave:1,wave:4,monster:[[2200,3106],[3104,3105],[6105]],boss:""},{lv:19,soul:[[60200],[60300],[60400]],soulrate:[[.2],[.3],[.3]],item:[[13208]],itemrate:[[.3]],cave:"",wave:4,monster:[[2201,4107],[2108,2105,1106],[3107,3106,1108]],boss:""},{lv:20,soul:[[60200],[60300],[60400]],soulrate:[[.2],[.3],[.3]],item:[[40204],[40207],[40306]],itemrate:[[.4],[.4],[.4]],cave:"",wave:4,monster:[[3201,3104,1108],[3201,2105,1106],[6106]],boss:1199},{lv:21,soul:[[60200],[60300],[60400]],soulrate:[[.2],[.3],[.3]],item:[[21203]],itemrate:[[.3]],cave:"",wave:5,monster:[[3301,2201,2207],[2301,2105,3106]],boss:""},{lv:22,soul:[[60200],[60300],[60400]],soulrate:[[.2],[.3],[.3]],item:[[23208]],itemrate:[[.3]],cave:"",wave:4,monster:[[2301,2101,2208],[3301,2105,2106],[3208,3106,2303]],boss:""},{lv:23,soul:[[60200],[60300],[60400]],soulrate:[[.2],[.3],[.3]],item:[[11303]],itemrate:[[.3]],cave:1,wave:4,monster:[[2107,2108,2208],[3301,2105,2106],[4107,2301,2301]],boss:""},{lv:24,soul:[[60200],[60308],[60400]],soulrate:[[.2],[.3],[.3]],item:"",itemrate:"",cave:1,wave:4,monster:[[4104,4301],[3105,3303],[3104,3105,2105]],boss:""},{lv:25,soul:[[60300],[60300],[60400]],soulrate:[[.2],[.3],[.3]],item:[[12306]],itemrate:[[.3]],cave:"",wave:4,monster:[[2108,2301,1303,1106],[3300,2105,2106],[4106,2108]],boss:1297},{lv:26,soul:[[60300],[60300],[60400]],soulrate:[[.2],[.3],[.3]],item:[[40306]],itemrate:[[.1]],cave:"",wave:4,monster:[[3301,2300,2104],[3107,3105,2106],[3107,3106,2108]],boss:""},{lv:27,soul:[[60300],[60300],[60400]],soulrate:[[.2],[.3],[.3]],item:"",itemrate:"",cave:"",wave:5,monster:[[3303,1201,3107],[1106,2105,1106],[1208,2106,2303]],boss:""},{lv:28,soul:[[60300],[60300],[60400]],soulrate:[[.2],[.3],[.3]],item:[[23309]],itemrate:[[.3]],cave:1,wave:5,monster:[[2106,2303,1203],[2107,2105,1106],[2108,2208,2104]],boss:""},{lv:29,soul:[[60300],[60300],[60400]],soulrate:[[.2],[.3],[.3]],item:[[13309]],itemrate:[[.3]],cave:1,wave:5,monster:[[2104,1105,2108],[2104,2107,2208],[2303,3208,1106]],boss:""},{lv:30,soul:[[60300],[60400],[60500]],soulrate:[[.2],[.3],[.3]],item:[[30301]],itemrate:[[.5]],cave:"",wave:4,monster:[[3301,3300,4106],[3301,3105,2108],[3107,3105,3203]],boss:1299},{lv:31,soul:[[60300],[60400],[60500]],soulrate:[[.2],[.3],[.3]],item:[[40306]],itemrate:[[.2]],cave:"",wave:5,monster:[[3104,2105],[3106,3107],[2104,3106,2105]],boss:""},{lv:32,soul:[[60300],[60400],[60500]],soulrate:[[.2],[.3],[.3]],item:[[12306]],itemrate:[[.3]],cave:1,wave:5,monster:[[3301,1302,3106],[2108,3105,1208],[2107,2106,2105]],boss:""},{lv:33,soul:[[60300],[60400],[60500]],soulrate:[[.2],[.3],[.3]],item:[[11303]],itemrate:[[.3]],cave:"",wave:5,monster:[[2303,3201,1105],[3105,2104,2106],[3104,3108]],boss:""},{lv:34,soul:[[60300],[60400],[60500]],soulrate:[[.2],[.3],[.3]],item:[[50306]],itemrate:[[.2]],cave:"",wave:5,monster:[[3106,2208,3108],[2302,2105,1106],[3107,3106,1105,1303]],boss:""},{lv:35,soul:[[60400],[60400],[60500]],soulrate:[[.2],[.3],[.3]],item:[[11303]],itemrate:[[.3]],cave:"",wave:5,monster:[[2303,3105,2108],[3105,4104],[3208,3108,2106]],boss:1198},{lv:36,soul:[[60400],[60400],[60500]],soulrate:[[.2],[.3],[.3]],item:"",itemrate:"",cave:1,wave:5,monster:[[2108,3301,1303,1106],[3106,2208,3108],[2106,3208,2104]],boss:""},{lv:37,soul:[[60400],[60400],[60500]],soulrate:[[.2],[.3],[.3]],item:[[30308]],itemrate:[[.5]],cave:1,wave:5,monster:[[2302,2104,1106,1303],[2307,3104,2106,1303],[3107,3106,3105]],boss:""},{lv:38,soul:[[60400],[60400],[60500]],soulrate:[[.2],[.3],[.3]],item:"",itemrate:"",cave:"",wave:5,monster:[[2303,2301,4106],[3301,3105,2106],[4106,4104]],boss:""},{lv:39,soul:[[60400],[60400],[60500]],soulrate:[[.2],[.3],[.3]],item:[[50306]],itemrate:[[.3]],cave:"",wave:5,monster:[[2302,2105,2106,1303],[3303,3105,3208],[4107,4106,1105]],boss:""},{lv:40,soul:[[60400],[60400],[60500]],soulrate:[[.2],[.3],[.3]],item:[[30308]],itemrate:[[.5]],cave:1,wave:6,monster:[[2303,2107,2106,1105,1104],[2303,2107,2108,1105,1104],[2203,3107,1106,1208,1104]],boss:1298}],i.HeroSkillName=[["skill_pd","skill_leidian","skill_leidongjiutian","skill_shunyi"],["skill_guangbo","skill_duochongjian","skill_shunyi+gongji","skill_jianyu"],["skill_yanlouzhan","skill_liuxingyu","skill_heidong","skill_dipotianxing"]],i.BgName=[["/\u7af9\u6797-\u8def\u9762","/\u7af9\u6797-\u4e2d\u666f","/\u7af9\u6797-\u80cc\u666f","/\u7af9\u6797-\u5c71\u6d1e","/\u7af9\u6797-\u8def\u9762","/\u7af9\u6797\u5c71\u6d1e-\u4e2d\u666f","/\u7af9\u6797\u5c71\u6d1e-\u80cc\u666f"],["/\u5b9a\u519b\u5c71-\u8def\u9762","/\u5b9a\u519b\u5c71-\u4e2d\u666f","/\u5b9a\u519b\u5c71-\u80cc\u666f","/\u5b9a\u519b\u5c71-\u6d1e","/\u5b9a\u519b\u5c71\u5c71\u6d1e-\u5730\u9762","/\u5b9a\u519b\u5c71\u5c71\u6d1e-\u4e2d\u666f","/\u5b9a\u519b\u5c71\u5c71\u6d1e-\u80cc\u666f"],["/\u96ea\u5c71-\u8def\u9762","/\u96ea\u5c71-\u4e2d\u666f","/\u96ea\u5c71-\u80cc\u666f","/\u96ea\u5c71-\u5c71\u6d1e","/\u96ea\u5c71-\u8def\u9762","/\u96ea\u5c71\u5c71\u6d1e-\u51b0\u5757","/\u96ea\u5c71\u5c71\u6d1e-\u80cc\u666f"],["/\u957f\u57ce-\u8def\u9762","/\u957f\u57ce-\u4e2d\u666f","/\u957f\u57ce-\u80cc\u666f","/\u957f\u57ce-\u95e8\u6d1e","/\u957f\u57ce-\u8def\u9762","/\u957f\u57ce-\u5e9f\u589f","/\u957f\u57ce-\u80cc\u666f"]];var o=[n.default.mapTitle1,n.default.mapTitle2,n.default.mapTitle3,n.default.mapTitle4];i.MapTitle=o;var a=[n.default.heroName0,n.default.heroName1,n.default.heroName2,n.default.bossName0,n.default.bossName1,n.default.bossName2];i.HeroName=a;var s=[n.default.petName0,n.default.petName1,n.default.petName2];i.PetName=s;var r=[[n.default.skillZY0,n.default.skillZY1,n.default.skillZY2,n.default.skillZY3,n.default.skillZY4,n.default.skillZY5,n.default.skillZY6],[n.default.skillDC0,n.default.skillDC1,n.default.skillDC2,n.default.skillDC3,n.default.skillDC4,n.default.skillDC5,n.default.skillDC6],[n.default.skillDQ0,n.default.skillDQ1,n.default.skillDQ2,n.default.skillDQ3,n.default.skillDQ4,n.default.skillDQ5,n.default.skillDQ6]];i.SkillNameArrs=r,i.AttAttrs=["atk","def","hp","ls","sp","cr","arp","bonus","cd","miss","exp","gold"],i.Pet=[{name:"\u51e4\u51f0",text:"\u63cf\u8ff0",hp:"10",hpup:"0.5",arp:"500",arpup:"100",price:"10",priceup:"5",soul:"0,0,0,0,0,0,0,0,0,0"},{name:"\u9752\u9f99",text:"\u63cf\u8ff0",bonus:"5",bonusup:"0.5",sp:"10",spup:"1",price:"10",priceup:"5",soul:"0,0,0,0,0,0,0,0,0,0"},{name:"\u5e7c\u9cb2",text:"\u63cf\u8ff0",def:"5",defup:"0.5",gold:"10",goldup:"1",price:"10",priceup:"5",soul:"0,0,0,0,0,0,0,0,0,0"}],i.Skill=[{id:"skillZY0",name:"\u96f7\u65a9\u5207",unlock:0,price:200,priceup:80,cd:12,cdup:.1,wave:1,dmg:350,dmgup:10,text:"\u5bf9\u654c\u4eba\u9020\u6210wave*dmg\u4f24\u5bb3",description:"\u4e00\u67aa\u5f15\u96f7\u52a8\uff0c\u4e00\u65a9\u60ca\u82cd\u7a79"},{id:"skillZY1",name:"\u4e5d\u5929\u795e\u96f7",unlock:5,price:300,priceup:100,cd:30,cdup:.5,wave:9,dmg:60,dmgup:2,text:"\u5bf9\u654c\u4eba\u9020\u6210wave*dmg\u4f24\u5bb3",description:"\u4e5d\u5929\u7384\u96f7\uff0c\u4ee5\u67aa\u5f15\u4e4b"},{id:"skillZY2",name:"\u96f7\u9f99\u65a9",unlock:10,price:300,priceup:120,cd:15,cdup:.2,wave:2,dmg:180,dmgup:6,text:"\u5bf9\u654c\u4eba\u9020\u6210wave*dmg\u4f24\u5bb3",description:"\u96f7\u5149\u5316\u9f99\uff0c\u4e00\u5f80\u65e0\u524d"},{id:"skillZY3",name:"\u795e\u96f7\u706d\u4e16",unlock:15,price:400,priceup:150,cd:40,cdup:.4,wave:9,dmg:70,dmgup:3,text:"\u5bf9\u654c\u4eba\u9020\u6210wave*dmg\u4f24\u5bb3",description:"\u4ee5\u8eab\u4e3a\u96f7\uff0c\u4e07\u52ab\u4e0d\u590d"},{id:"skillZY4",name:"\u4e0d\u52a8\u5982\u5c71",unlock:10,price:300,priceup:100,cd:"",cdup:"",wave:"",dmg:5,dmgup:.5,text:"\u63d0\u5347\u9632\u5fa1\u529b\u603b\u503cdmg%",description:"\u63d0\u5347\u4eba\u7269\u9632\u5fa1\u529b"},{id:"skillZY5",name:"\u7075\u5149\u704c\u9876",unlock:15,price:300,priceup:150,cd:"",cdup:"",wave:"",dmg:5,dmgup:1,text:"\u63d0\u5347\u7ecf\u9a8c\u83b7\u53d6dmg%",description:"\u63d0\u5347\u4eba\u7269\u7ecf\u9a8c\u83b7\u53d6"},{id:"skillZY6",name:"\u65e0\u575a\u4e0d\u6467",unlock:15,price:400,priceup:200,cd:"",cdup:"",wave:"",dmg:5,dmgup:.5,text:"\u63d0\u5347\u653b\u51fb\u529bdmg%",description:"\u63d0\u5347\u4eba\u7269\u653b\u51fb\u529b"},{id:"skillDC0",name:"\u7edd\u5f71\u7bad",unlock:0,price:200,priceup:80,cd:12,cdup:.1,wave:1,dmg:360,dmgup:8,text:"\u5bf9\u654c\u4eba\u9020\u6210wave*dmg\u4f24\u5bb3",description:"\u4e00\u7bad\u5224\u751f\u6b7b\uff0c\u4e00\u7bad\u901a\u5e7d\u51a5"},{id:"skillDC1",name:"\u591a\u91cd\u7bad",unlock:0,price:300,priceup:100,cd:15,cdup:.1,wave:2,dmg:240,dmgup:6,text:"\u5bf9\u654c\u4eba\u9020\u6210wave*dmg\u4f24\u5bb3",description:"\u75be\u98ce\u7bad\u96e8\uff0c\u65e0\u575a\u4e0d\u7834"},{id:"skillDC2",name:"\u6025\u901f\u77ac\u6740",unlock:10,price:300,priceup:120,cd:25,cdup:.2,wave:4,dmg:100,dmgup:3,text:"\u5bf9\u654c\u4eba\u9020\u6210wave*dmg\u4f24\u5bb3",description:"\u9762\u5bf9\u75be\u98ce\u5427"},{id:"skillDC3",name:"\u590d\u4ec7\u4e4b\u96e8",unlock:15,price:400,priceup:150,cd:35,cdup:.4,wave:4,dmg:160,dmgup:4,text:"\u5bf9\u654c\u4eba\u9020\u6210wave*dmg\u4f24\u5bb3",description:"\u5bd2\u51b0\u98ce\u66b4\uff0c\u8840\u96e8\u98d8\u96f6"},{id:"skillDC4",name:"\u70b9\u77f3\u6210\u91d1",unlock:5,price:300,priceup:100,cd:"",cdup:"",wave:"",dmg:10,dmgup:1,text:"\u63d0\u5347\u91d1\u5e01\u83b7\u53d6dmg%",description:"\u63d0\u9ad8\u91d1\u5e01\u83b7\u53d6\u6548\u7387"},{id:"skillDC5",name:"\u75be\u6b65\u5982\u98de",unlock:15,price:300,priceup:150,cd:"",cdup:"",wave:"",dmg:10,dmgup:1,text:"\u63d0\u5347\u79fb\u52a8\u901f\u5ea6dmg%",description:"\u5927\u5e45\u63d0\u5347\u4eba\u7269\u4e00\u901f\u5ea6"},{id:"skillDC6",name:"\u767e\u6b65\u7a7f\u6768",unlock:20,price:400,priceup:200,cd:"",cdup:"",wave:"",dmg:5,dmgup:.2,text:"\u51cf\u5c11\u654c\u4eba\u9632\u5fa1\u529bdmg%",description:"\u51cf\u5c11\u654c\u4eba\u5927\u91cf\u9632\u5fa1\u503c"},{id:"skillDQ0",name:"\u7206\u708e\u65a9",unlock:0,price:200,priceup:80,cd:10,cdup:.5,wave:4,dmg:110,dmgup:2,text:"\u5bf9\u654c\u4eba\u9020\u6210wave*dmg\u4f24\u5bb3",description:"\u53ec\u5524\u7194\u5ca9\uff0c\u541e\u566c\u654c\u4eba"},{id:"skillDQ1",name:"\u6d41\u661f\u706b\u96e8\u200c",unlock:0,price:300,priceup:100,cd:30,cdup:.1,wave:9,dmg:60,dmgup:1.5,text:"\u5bf9\u654c\u4eba\u9020\u6210wave*dmg\u4f24\u5bb3",description:"\u53ec\u5524\u706b\u96e8\u98ce\u66b4"},{id:"skillDQ2",name:"\u708e\u706d\u9ed1\u6d1e",unlock:15,price:300,priceup:120,cd:35,cdup:.1,wave:15,dmg:40,dmgup:1,text:"\u5bf9\u654c\u4eba\u9020\u6210wave*dmg\u4f24\u5bb3",description:"\u541e\u566c\u4e07\u7269"},{id:"skillDQ3",name:"\u5730\u7206\u5929\u661f",unlock:25,price:400,priceup:150,cd:40,cdup:.2,wave:10,dmg:60,dmgup:1,text:"\u5bf9\u654c\u4eba\u9020\u6210wave*dmg\u4f24\u5bb3",description:"\u5730\u7206\u5929\u661f"},{id:"skillDQ4",name:"\u4f1a\u5fc3\u4e00\u51fb",unlock:5,price:300,priceup:100,cd:"",cdup:"",wave:"",dmg:5,dmgup:.1,text:"\u63d0\u5347\u66b4\u51fb\u51e0\u7387dmg%",description:"\u63d0\u9ad8\u653b\u51fb\u9020\u6210\u81f4\u547d\u4e00\u51fb\u7684\u6982\u7387"},{id:"skillDQ5",name:"\u75be\u6b65\u5982\u98de",unlock:15,price:300,priceup:150,cd:"",cdup:"",wave:"",dmg:10,dmgup:1,text:"\u63d0\u5347\u79fb\u52a8\u901f\u5ea6dmg%",description:"\u5927\u5e45\u63d0\u5347\u4eba\u7269\u4e00\u901f\u5ea6"},{id:"skillDQ6",name:"\u767e\u6b65\u7a7f\u6768",unlock:20,price:400,priceup:200,cd:"",cdup:"",wave:"",dmg:5,dmgup:.2,text:"\u51cf\u5c11\u654c\u4eba\u9632\u5fa1\u529bdmg%",description:"\u51cf\u5c11\u654c\u4eba\u5927\u91cf\u9632\u5fa1\u503c"}];var c=[{name:"\u5e7d\u51a5",id:"13309",text:"\u51a5\u754c\u81f3\u5b9d\uff0c\u5e7d\u51a5\u5b9d\u73e0",atk:"450",atkup:"14",sp:"15",spup:"0.5",cr:"4",crup:"0.2",bonus:"",bonusup:"",cd:"10",cdup:"0.3",miss:"",missup:"",arp:"1000",arpup:"30",def:"",defup:"",hp:"",hpup:"",ls:"",lsup:"",exp:"",expup:"",gold:"",goldup:"",price:"1030",priceup:"103"},{name:"\u9b3c\u706b",id:"13208",text:"\u9634\u5bd2\u900f\u9aa8",atk:"260",atkup:"8",sp:"10",spup:"0.3",cr:"4",crup:"0.2",bonus:"",bonusup:"",cd:"",cdup:"",miss:"5",missup:"0.2",arp:"",arpup:"",def:"",defup:"",hp:"",hpup:"",ls:"0.3",lsup:"0.1",exp:"",expup:"",gold:"",goldup:"",price:"610",priceup:"61"},{name:"\u8d64\u7389",id:"13107",text:"\u6781\u54c1\u7075\u77f3\u5236\u6210\uff0c\u53ef\u4ee5\u62b5\u5fa1\u4f24\u5bb3",atk:"155",atkup:"5",sp:"",spup:"",cr:"",crup:"",bonus:"3",bonusup:"0.1",cd:"",cdup:"",miss:"3",missup:"0.1",arp:"",arpup:"",def:"",defup:"",hp:"",hpup:"",ls:"",lsup:"",exp:"",expup:"",gold:"",goldup:"",price:"410",priceup:"41"},{name:"\u843d\u65e5",id:"12306",text:"\u540e\u88d4\u5c04\u65e5\u4e4b\u5f13\uff0c\u5929\u706b\u7206\u88c2",atk:"450",atkup:"14",sp:"10",spup:"0.3",cr:"5",crup:"0.2",bonus:"",bonusup:"",cd:"",cdup:"",miss:"",missup:"",arp:"1500",arpup:"45",def:"",defup:"",hp:"",hpup:"",ls:"",lsup:"",exp:"",expup:"",gold:"",goldup:"",price:"950",priceup:"95"},{name:"\u88c1\u51b3",id:"12205",text:"\u88c1\u51b3\u4e4b\u7bad\uff0c\u4e3b\u5bb0\u751f\u6b7b",atk:"240",atkup:"8",sp:"",spup:"",cr:"4",crup:"0.2",bonus:"",bonusup:"",cd:"",cdup:"",miss:"",missup:"",arp:"800",arpup:"24",def:"",defup:"",hp:"",hpup:"",ls:"",lsup:"",exp:"",expup:"",gold:"",goldup:"",price:"550",priceup:"55"},{name:"\u971c\u6708\u5f13",id:"12104",text:"\u5bd2\u971c\u6620\u6708\uff0c\u7bad\u8292\u51cc\u9704",atk:"115",atkup:"4",sp:"",spup:"",cr:"2",crup:"0.1",bonus:"",bonusup:"",cd:"",cdup:"",miss:"",missup:"",arp:"200",arpup:"6",def:"",defup:"",hp:"",hpup:"",ls:"",lsup:"",exp:"",expup:"",gold:"",goldup:"",price:"280",priceup:"28"},{name:"\u6bd2\u9f99\u67aa",id:"11202",text:"\u4e0a\u53e4\u6bd2\u9f99\u7684\u7360\u7259\u5236\u6210\uff0c\u65e0\u575a\u4e0d\u6467",atk:"220",atkup:"7",sp:"12",spup:"0.4",cr:"3",crup:"0.1",bonus:"",bonusup:"",cd:"",cdup:"",miss:"",missup:"",arp:"",arpup:"",def:"",defup:"",hp:"",hpup:"",ls:"0.2",lsup:"0.1",exp:"",expup:"",gold:"",goldup:"",price:"500",priceup:"50"},{name:"\u9752\u4e91\u67aa",id:"11101",text:"\u6709\u7a7f\u4e91\u88c2\u77f3\u4e4b\u529b",atk:"105",atkup:"4",sp:"10",spup:"0.3",cr:"2",crup:"0.1",bonus:"",bonusup:"",cd:"",cdup:"",miss:"",missup:"",arp:"",arpup:"",def:"",defup:"",hp:"",hpup:"",ls:"",lsup:"",exp:"",expup:"",gold:"",goldup:"",price:"280",priceup:"28"},{name:"\u9738\u738b\u67aa",id:"11303",text:"\u67aa\u4e2d\u9738\u738b",atk:"420",atkup:"13",sp:"",spup:"",cr:"4",crup:"0.2",bonus:"6",bonusup:"0.2",cd:"",cdup:"",miss:"",missup:"",arp:"",arpup:"",def:"500",defup:"15",hp:"",hpup:"",ls:"",lsup:"",exp:"",expup:"",gold:"",goldup:"",price:"1040",priceup:"104"}];i.Weapon=c;var l=[{name:"\u4e5d\u5f69\u9713\u88f3",id:"23309",text:"\u5973\u5a32\u5723\u8863\uff0c\u5999\u6cd5\u65e0\u7a77",atk:"300",atkup:"9",sp:"20",spup:"0.6",cr:"5",crup:"0.2",bonus:"",bonusup:"",cd:"",cdup:"",miss:"",missup:"",arp:"",arpup:"",def:"2000",defup:"60",hp:"700",hpup:"21",ls:"1.5",lsup:"0.1",exp:"",expup:"",gold:"",goldup:"",price:"950",priceup:"95"},{name:"\u7f20\u5929\u5e26",id:"23208",text:"\u8574\u542b\u98ce\u7075\u4e4b\u529b\uff0c\u52a0\u6210\u79fb\u901f",atk:"150",atkup:"5",sp:"15",spup:"0.5",cr:"6",crup:"0.2",bonus:"",bonusup:"",cd:"",cdup:"",miss:"",missup:"",arp:"",arpup:"",def:"600",defup:"18",hp:"450",hpup:"14",ls:"",lsup:"",exp:"",expup:"",gold:"",goldup:"",price:"540",priceup:"54"},{name:"\u6d51\u5929\u7eeb",id:"23107",text:"\u592a\u4e59\u771f\u4eba\u6cd5\u5b9d\u6539\u5236\u800c\u6210\uff0c\u53ef\u589e\u5e45\u653b\u51fb",atk:"35",atkup:"2",sp:"",spup:"",cr:"",crup:"",bonus:"",bonusup:"",cd:"",cdup:"",miss:"",missup:"",arp:"",arpup:"",def:"500",defup:"15",hp:"350",hpup:"11",ls:"",lsup:"",exp:"",expup:"",gold:"",goldup:"",price:"170",priceup:"17"},{name:"\u591c\u7409\u7483",id:"22306",text:"\u5982\u9b45\u5982\u591c\uff0c\u65e0\u6cd5\u9501\u5b9a",atk:"150",atkup:"5",sp:"30",spup:"0.9",cr:"",crup:"",bonus:"",bonusup:"",cd:"",cdup:"",miss:"4",missup:"0.2",arp:"",arpup:"",def:"2000",defup:"60",hp:"800",hpup:"24",ls:"",lsup:"",exp:"",expup:"",gold:"",goldup:"",price:"620",priceup:"62"},{name:"\u767d\u9e64\u7fbd",id:"22205",text:"\u52a8\u5982\u767d\u9e64\uff0c\u5f71\u60ca\u9e3f",atk:"45",atkup:"2",sp:"20",spup:"0.6",cr:"",crup:"",bonus:"",bonusup:"",cd:"",cdup:"",miss:"4",missup:"0.2",arp:"",arpup:"",def:"900",defup:"27",hp:"600",hpup:"18",ls:"",lsup:"",exp:"",expup:"",gold:"",goldup:"",price:"310",priceup:"31"},{name:"\u5bd2\u8749\u8863",id:"22104",text:"\u8584\u5165\u8749\u7ffc\uff0c\u6c34\u706b\u4e0d\u5165",atk:"",atkup:"",sp:"10",spup:"0.3",cr:"",crup:"",bonus:"",bonusup:"",cd:"",cdup:"",miss:"",missup:"",arp:"",arpup:"",def:"350",defup:"11",hp:"150",hpup:"5",ls:"",lsup:"",exp:"",expup:"",gold:"",goldup:"",price:"110",priceup:"11"},{name:"\u516b\u90e8\u5929\u9f99",id:"21302",text:"\u53ea\u6709\u795e\u9009\u4e4b\u4eba\u53ef\u4ee5\u9a7e\u9a6d\u516b\u90e8\u5929\u9f99\u4e4b\u529b",atk:"140",atkup:"5",sp:"",spup:"",cr:"",crup:"",bonus:"4",bonusup:"0.2",cd:"",cdup:"",miss:"3",missup:"0.1",arp:"",arpup:"",def:"2200",defup:"66",hp:"900",hpup:"27",ls:"",lsup:"",exp:"",expup:"",gold:"",goldup:"",price:"680",priceup:"68"},{name:"\u6bd2\u9f99\u94e0",id:"21203",text:"\u6bd2\u9f99\u4e4b\u529b\uff0c\u8150\u8680\u4e00\u5207",atk:"35",atkup:"2",sp:"",spup:"",cr:"",crup:"",bonus:"",bonusup:"",cd:"",cdup:"",miss:"",missup:"",arp:"400",arpup:"12",def:"1000",defup:"30",hp:"600",hpup:"18",ls:"0.5",lsup:"0.1",exp:"",expup:"",gold:"",goldup:"",price:"260",priceup:"26"},{name:"\u7075\u86c7\u7532",id:"21101",text:"\u5316\u86df\u4e4b\u86c7\u7684\u9cde\u7247\u7f1d\u5236\u800c\u6210\uff0c\u5200\u67aa\u4e0d\u5165",atk:"",atkup:"",sp:"",spup:"",cr:"",crup:"",bonus:"",bonusup:"",cd:"",cdup:"",miss:"3",missup:"0.1",arp:"",arpup:"",def:"390",defup:"12",hp:"120",hpup:"4",ls:"",lsup:"",exp:"",expup:"",gold:"",goldup:"",price:"110",priceup:"11"}];i.Armor=l;var p=[{name:"\u4f3c\u6c34\u6d41\u5e74",id:"30308",text:"",atk:"75",atkup:"3",sp:"16",spup:"0.5",cr:"5",crup:"0.2",bonus:"",bonusup:"",cd:"",cdup:"",miss:"4",missup:"0.2",arp:"",arpup:"",def:"",defup:"",hp:"",hpup:"",ls:"",lsup:"",exp:"",expup:"",gold:"",goldup:"",price:"350",priceup:"35"},{name:"\u60c5\u4eba\u6cea",id:"30301",text:"\u60c5\u4eba\u6cea\uff0c\u6700\u9500\u9b42",atk:"175",atkup:"6",sp:"",spup:"",cr:"3",crup:"0.1",bonus:"",bonusup:"",cd:"",cdup:"",miss:"",missup:"",arp:"",arpup:"",def:"",defup:"",hp:"",hpup:"",ls:"1",lsup:"0.1",exp:"",expup:"",gold:"",goldup:"",price:"410",priceup:"41"},{name:"\u5c06\u81e3",id:"30206",text:"",atk:"",atkup:"",sp:"",spup:"",cr:"4",crup:"0.2",bonus:"",bonusup:"",cd:"",cdup:"",miss:"",missup:"",arp:"",arpup:"",def:"",defup:"",hp:"500",hpup:"15",ls:"1",lsup:"0.1",exp:"",expup:"",gold:"",goldup:"",price:"220",priceup:"22"},{name:"\u5929\u8292",id:"30203",text:"",atk:"100",atkup:"3",sp:"10",spup:"0.3",cr:"",crup:"",bonus:"2",bonusup:"0.1",cd:"",cdup:"",miss:"",missup:"",arp:"",arpup:"",def:"",defup:"",hp:"",hpup:"",ls:"",lsup:"",exp:"",expup:"",gold:"",goldup:"",price:"290",priceup:"29"},{name:"\u5b88\u57ce",id:"30202",text:"",atk:"",atkup:"",sp:"",spup:"",cr:"",crup:"",bonus:"",bonusup:"",cd:"",cdup:"",miss:"3",missup:"0.1",arp:"",arpup:"",def:"800",defup:"24",hp:"700",hpup:"21",ls:"",lsup:"",exp:"",expup:"",gold:"",goldup:"",price:"180",priceup:"18"},{name:"\u78a7\u7389\u6212",id:"30107",text:"",atk:"15",atkup:"0.5",sp:"",spup:"",cr:"",crup:"",bonus:"",bonusup:"",cd:"",cdup:"",miss:"",missup:"",arp:"",arpup:"",def:"",defup:"",hp:"200",hpup:"6",ls:"1",lsup:"0.1",exp:"",expup:"",gold:"",goldup:"",price:"120",priceup:"12"},{name:"\u7d2b\u6676\u6212",id:"30105",text:"",atk:"",atkup:"",sp:"",spup:"",cr:"3",crup:"0.1",bonus:"",bonusup:"   ",cd:"",cdup:"",miss:"",missup:"",arp:"200",arpup:"6",def:"",defup:"",hp:"",hpup:"",ls:"",lsup:"",exp:"",expup:"",gold:"",goldup:"",price:"130",priceup:"13"},{name:"\u76d8\u9f99\u6212",id:"30104",text:"",atk:"30",atkup:"1",sp:"",spup:"",cr:"",crup:"",bonus:"",bonusup:"",cd:"",cdup:"",miss:"",missup:"",arp:"",arpup:"",def:"200",defup:"6",hp:"200",hpup:"6",ls:"",lsup:"",exp:"",expup:"",gold:"",goldup:"",price:"120",priceup:"12"}];i.Ring=p;var u=[{name:"\u7384\u94c1\u9879\u94fe",id:"40306",text:"",atk:"120",atkup:"4",sp:"",spup:"",cr:"4",crup:"0.2",bonus:"",bonusup:"",cd:"",cdup:"",miss:"",missup:"",arp:"",arpup:"",def:"1000",defup:"30",hp:"",hpup:"",ls:"",lsup:"",exp:"",expup:"",gold:"",goldup:"",price:"430",priceup:"43"},{name:"\u70db\u9f99\u4e4b\u77b3",id:"40305",text:"",atk:"100",atkup:"3",sp:"",spup:"",cr:"",crup:"",bonus:"5",bonusup:"0.2",cd:"",cdup:"",miss:"",missup:"",arp:"600",arpup:"18",def:"",defup:"",hp:"",hpup:"",ls:"1",lsup:"0.1",exp:"",expup:"",gold:"",goldup:"",price:"430",priceup:"43"},{name:"\u901a\u7075\u5b9d\u7389",id:"40207",text:"",atk:"",atkup:"",sp:"",spup:"",cr:"4",crup:"0.2",bonus:"",bonusup:"",cd:"",cdup:"",miss:"",missup:"",arp:"",arpup:"",def:"300",defup:"9",hp:"300",hpup:"9",ls:"",lsup:"",exp:"10",expup:"0.3",gold:"10",goldup:"0.3",price:"190",priceup:"19"},{name:"\u5343\u5e74\u7425\u73c0",id:"40204",text:"",atk:"",atkup:"",sp:"10",spup:"0.3",cr:"",crup:"",bonus:"",bonusup:"",cd:"",cdup:"",miss:"",missup:"",arp:"",arpup:"",def:"600",defup:"18",hp:"",hpup:"",ls:"1",lsup:"0.1",exp:"",expup:"",gold:"",goldup:"",price:"160",priceup:"16"},{name:"\u7075\u86c7\u7389",id:"40103",text:"",atk:"25",atkup:"1",sp:"",spup:"",cr:"2",crup:"0.1",bonus:"",bonusup:"",cd:"",cdup:"",miss:"",missup:"",arp:"",arpup:"",def:"",defup:"",hp:"",hpup:"",ls:"",lsup:"",exp:"",expup:"",gold:"10",goldup:"0.3",price:"130",priceup:"13"},{name:"\u91d1\u521a\u7b26",id:"40102",text:"",atk:"",atkup:"",sp:"",spup:"",cr:"",crup:"",bonus:"",bonusup:"",cd:"",cdup:"",miss:"",missup:"",arp:"",arpup:"",def:"250",defup:"8",hp:"150",hpup:"5",ls:"",lsup:"",exp:"",expup:"",gold:"",goldup:"",price:"80",priceup:"8"},{name:"\u795e\u884c\u7b26",id:"40101",text:"",atk:"",atkup:"",sp:"10",spup:"0.3",cr:"",crup:"",bonus:"",bonusup:"",cd:"",cdup:"",miss:"2",missup:"0.1",arp:"",arpup:"",def:"",defup:"",hp:"75",hpup:"3",ls:"",lsup:"",exp:"",expup:"",gold:"",goldup:"",price:"90",priceup:"9"}];i.Ornament=u;var h=[{name:"\u8840\u6d77\u5f7c\u5cb8\u82b1",id:"50306",text:"",atk:"165",atkup:"5",sp:"",spup:"",cr:"",crup:"",bonus:"3",bonusup:"0.1",cd:"",cdup:"",miss:"",missup:"",arp:"1500",arpup:"45",def:"",defup:"",hp:"",hpup:"",ls:"1",lsup:"0.1",exp:"",expup:"",gold:"",goldup:"",price:"520",priceup:"52"},{name:"\u6d85\u69c3\u795e\u51e4\u7ffc",id:"50303",text:"",atk:"150",atkup:"5",sp:"15",spup:"0.5",cr:"4",crup:"0.2",bonus:"",bonusup:"",cd:"",cdup:"",miss:"4",missup:"0.2",arp:"",arpup:"",def:"1500",defup:"45",hp:"",hpup:"",ls:"",lsup:"",exp:"",expup:"",gold:"",goldup:"",price:"590",priceup:"59"},{name:"\u4fee\u7f57\u9738\u738b\u7ffc",id:"50302",text:"",atk:"200",atkup:"6",sp:"",spup:"",cr:"6",crup:"0.2",bonus:"",bonusup:"",cd:"",cdup:"",miss:"",missup:"",arp:"",arpup:"",def:"",defup:"",hp:"",hpup:"",ls:"",lsup:"",exp:"",expup:"",gold:"",goldup:"",price:"500",priceup:"50"},{name:"\u8776\u604b\u82b1",id:"50204",text:"",atk:"",atkup:"",sp:"5",spup:"0.2",cr:"3",crup:"0.1",bonus:"",bonusup:"",cd:"",cdup:"",miss:"",missup:"",arp:"",arpup:"",def:"",defup:"",hp:"",hpup:"",ls:"0.5",lsup:"0.1",exp:"",expup:"",gold:"",goldup:"",price:"150",priceup:"15"},{name:"\u5e7b\u5f71\u65e0\u6781\u7ffc",id:"50105",text:"",atk:"",atkup:"",sp:"10",spup:"0.3",cr:"2",crup:"0.1",bonus:"",bonusup:"",cd:"",cdup:"",miss:"3",missup:"0.1",arp:"",arpup:"",def:"",defup:"",hp:"",hpup:"",ls:"",lsup:"",exp:"",expup:"",gold:"",goldup:"",price:"140",priceup:"14"},{name:"\u4e5d\u5e7d\u5bd2",id:"50101",text:"",atk:"45",atkup:"2",sp:"",spup:"",cr:"",crup:"",bonus:"",bonusup:"",cd:"",cdup:"",miss:"4",missup:"0.2",arp:"200",arpup:"6",def:"",defup:"",hp:"",hpup:"",ls:"",lsup:"",exp:"",expup:"",gold:"",goldup:"",price:"150",priceup:"15"}];i.Wing=h;var d=[{id:"71101",name:"\u6c34\u4e0a\u6f02",sp:"3.5"},{id:"71102",name:"\u8349\u4e0a\u98de",sp:"3.5"},{id:"71201",name:"\u91d1\u96c1\u529f",sp:"4.5"},{id:"71202",name:"\u68af\u4e91\u7eb5",sp:"4.5"},{id:"71301",name:"\u795e\u884c\u767e\u53d8",sp:"5.5"},{id:"71302",name:"\u51cc\u6ce2\u5fae\u6b65",sp:"5.5"},{id:"71303",name:"\u4e7e\u5764\u5927\u632a\u79fb",sp:"4.5",ls:"0.3"},{id:"72101",name:"\u91d1\u949f\u7f69",def:"50",hp:"35"},{id:"72102",name:"\u94c1\u5e03\u886b",def:"35",hp:"55"},{id:"72201",name:"\u91d1\u521a\u4e0d\u574f",def:"75",hp:"85"},{id:"72202",name:"\u4e0d\u52a8\u660e\u738b",def:"85",hp:"75"},{id:"73101",name:"\u5c0f\u65e0\u76f8\u529f",cr:"1"},{id:"73102",name:"\u7d2b\u971e\u795e\u529f",cr:"1.5"},{id:"73201",name:"\u9f99\u8c61\u822c\u82e5\u529f",cr:"2"},{id:"73202",name:"\u4e5d\u9634\u771f\u7ecf",atk:"10",cr:"2"},{id:"73203",name:"\u5316\u529f\u5927\u6cd5",ls:"0.5"},{id:"73301",name:"\u5438\u661f\u5927\u6cd5",ls:"0.7"},{id:"73302",name:"\u5148\u5929\u529f",def:"100",cr:"2"},{id:"73303",name:"\u4e5d\u9633\u795e\u529f",atk:"10",cr:"2"},{id:"73304",name:"\u6613\u7b4b\u7ecf",hp:"150",cr:"2"},{id:"75101",name:"\u738b\u516b\u62f3",atk:"8"},{id:"75102",name:"\u91ce\u7403\u62f3",atk:"12"},{id:"75201",name:"\u7a7a\u660e\u62f3",atk:"15"},{id:"75202",name:"\u592a\u6781\u62f3",atk:"17"},{id:"75301",name:"\u4e03\u4f24\u62f3",atk:"21"},{id:"74101",name:"\u5b59\u5b50\u5175\u6cd5",exp:"3"},{id:"74102",name:"\u5b5f\u5fb7\u65b0\u4e66",gold:"3"},{id:"74201",name:"\u592a\u5e73\u6e05\u9886\u9053",exp:"5"},{id:"74202",name:"\u592a\u5e73\u8981\u672f",gold:"5"},{id:"74301",name:"\u9041\u7532\u5929\u4e66",exp:"4",gold:"4"}];i.Book=d;var f=[{name:"\u9752\u72fc",id:"60101",cr:"2"},{name:"\u5929\u72fc",id:"60201",cr:"2.5",atk:"15"},{name:"\u767d\u6cfd",id:"60301",cr:"3.5",atk:"30"},{name:"\u6bd5\u65b9",id:"60401",cr:"4",atk:"120",sp:"4"},{name:"\u9e92\u9e9f",id:"60501",cr:"6",atk:"220",bonus:"2"},{name:"\u9955\u992e",id:"60601",cr:"7",atk:"350",bonus:"3"},{name:"\u767d\u86c7",id:"60102",miss:"3"},{name:"\u98de\u86c7",id:"60202",miss:"3.5",arp:"300"},{name:"\u86df\u9f99",id:"60302",atk:"30",miss:"4",arp:"500"},{name:"\u89d2\u9f99",id:"60402",atk:"150",miss:"4",arp:"600"},{name:"\u9752\u9f99",id:"60502",atk:"230",miss:"4",arp:"1200"},{name:"\u5e94\u9f99",id:"60602",atk:"275",miss:"5",arp:"1400"},{name:"\u9ec4\u9e64",id:"60103",arp:"250"},{name:"\u795e\u9e64",id:"60203",atk:"20",arp:"600"},{name:"\u91d1\u4e4c",id:"60303",atk:"35",arp:"800"},{name:"\u6bd5\u65b9",id:"60403",cr:"3",atk:"65",arp:"1000"},{name:"\u6731\u96c0",id:"60503",cr:"5",atk:"110",arp:"1800"},{name:"\u51e4\u51f0",id:"60603",atk:"180",arp:"2000",def:"1500"},{name:"\u77f3\u9f9f",id:"60104",def:"300"},{name:"\u7075\u9f9f",id:"60204",def:"600"},{name:"\u7384\u9f9f",id:"60304",cr:"2",def:"800"},{name:"\u9738\u4e0b",id:"60404",atk:"90",def:"900"},{name:"\u7384\u6b66",id:"60504",atk:"180",def:"1300",hp:"400"},{name:"\u6df7\u6c8c",id:"60604",atk:"200",def:"2000",hp:"800"},{name:"\u9ed1\u864e",id:"60105",atk:"26"},{name:"\u98de\u864e",id:"60205",atk:"55"},{name:"\u72f0\u7ae0",id:"60305",atk:"100"},{name:"\u9646\u5434",id:"60405",atk:"160",ls:"1"},{name:"\u767d\u864e",id:"60505",atk:"260",ls:"2"},{name:"\u7a77\u5947",id:"60605",atk:"300",ls:"3"},{name:"\u9752\u72d0",id:"60106",cd:"4"},{name:"\u7075\u72d0",id:"60206",miss:"3.5",cd:"4"},{name:"\u4ed9\u72d0",id:"60306",cr:"2.5",miss:"4",cd:"4"},{name:"\u9752\u4e18",id:"60406",cr:"3",miss:"5",ls:"1.5",cd:"4"},{name:"\u5fc3\u6708",id:"60506",cr:"4",atk:"150",miss:"5.5",ls:"2",cd:"4"},{name:"\u4e5d\u5c3e",id:"60606",cr:"5",bonus:"6",miss:"6",ls:"3.5",cd:"6"},{name:"\u4e4c\u9c7c",id:"60107",hp:"350"},{name:"\u5de8\u9cb8",id:"60207",cr:"1",hp:"700"},{name:"\u87ad\u543b",id:"60307",atk:"35",hp:"1100"},{name:"\u5de8\u9cb2",id:"60407",atk:"70",def:"500",hp:"1200"},{name:"\u9b54\u9cb2",id:"60507",atk:"140",def:"800",hp:"1400"},{name:"\u96c4\u9e70",id:"60108",sp:"8"},{name:"\u795e\u96d5",id:"60208",sp:"9",bonus:"1"},{name:"\u91cd\u660e",id:"60308",cr:"3",sp:"10"},{name:"\u5927\u9e4f",id:"60408",cr:"4",atk:"40",sp:"12",arp:"600"},{name:"\u91d1\u9e4f",id:"60508",cr:"4",atk:"60",sp:"14",bonus:"2",arp:"1500"},{name:"\u9cb2\u9e4f",id:"60609",cr:"4",atk:"150",sp:"15",bonus:"3.5",hp:"1500"}];i.Soul=f,i.SoulRate=[.95,.79,.66,.46,.22,0],i.SoulSubRate=[.05,.05,.1,.15,.2,.3],i.BizarreAdventureData=[{level:"1",type:"2",rate:"1",book:"73101",gem:"",gold:"150",life:"5",item:"",soul:""},{level:"2",type:"1",rate:"1",book:"75101",gem:"20",gold:"200",life:"",item:"",soul:""},{level:"3",type:"2",rate:"1",book:"71101, 72101, 73101",gem:"",gold:"100, 200, 300",life:"5, 7, 10",item:"",soul:""},{level:"4",type:"1",rate:"1",book:"75102",gem:"29",soul:"60101"},{level:"5",type:"3",rate:"1",book:"75102",gem:"",gold:"",life:"",item:"50105",soul:"60101"},{level:"6",type:"2",rate:"1",book:"",gem:"20",gold:"200, 250, 400",life:"",item:"",soul:"60102, 60103, 60104"},{level:"7",type:"1",rate:"1",book:"",gem:"",gold:"200, 250, 400",life:"",item:"30104",soul:"60105, 60106, 60107"},{level:"8",type:"2",rate:"1",book:"71101, 72101",gem:"",gold:"",life:"",item:"30105",soul:"60102, 60107, 60108"},{level:"9",type:"2",rate:"1",book:"72102, 73102, 75102",gem:"",gold:"",life:"5, 7, 10",item:"40102, 30107",soul:""},{level:"10",type:"3",rate:"1",book:"",gem:"20, 30 ,40",gold:"",life:"5",item:"22205",soul:""},{level:"11",type:"2",rate:"1",book:"75201",gem:"",gold:"400, 450, 600",life:"5",item:"21203",soul:"60202, 60207, 60208"},{level:"12",type:"1",rate:"1",book:"73201, 75202",gem:"",gold:"",life:"5, 7, 10",item:"",soul:"60201, 60203, 60204"},{level:"13",type:"2",rate:"1",book:"72202, 73202, 74202",gem:"",gold:"400, 450, 600",life:"",item:"50101",soul:""},{level:"14",type:"1",rate:"1",book:"",gem:"25, 30 ,40",gold:"400, 450, 600",life:"",item:"",soul:"60202, 60207, 60208"},{level:"15",type:"3",rate:"1",book:"",gem:"50",gold:"600, 750, 900",life:"",item:"11202, 12205",soul:""},{level:"16",type:"1",rate:"1",book:"71201",gem:"",gold:"600, 750, 900",life:"",item:"",soul:"60205, 60206, 60207"},{level:"17",type:"2",rate:"1",book:"",gem:"30, 35 ,45",gold:"",life:"",item:"40103",soul:"60205, 60206, 60207"},{level:"18",type:"1",rate:"1",book:"73201, 71201",gem:"",gold:"800, 950, 1000",life:"",item:"30203",soul:""},{level:"19",type:"2",rate:"1",book:"",gem:"",gold:"",life:"5, 7, 10",item:"40204",soul:"60203, 60205, 60201"},{level:"20",type:"3",rate:"1",book:"",gem:"",gold:"800, 950, 1200",life:"5",item:"23208",soul:""},{level:"21",type:"2",rate:"1",book:"",gem:"",gold:"800, 950, 1200",life:"",item:"21302",soul:"60202, 60307, 60308"},{level:"22",type:"1",rate:"1",book:"73301, 73202",gem:"30, 40 ,50",gold:"",life:"",item:"30202",soul:""},{level:"23",type:"2",rate:"1",book:"",gem:"",gold:"900, 950, 1300",life:"",item:"22306",soul:"60301, 60303, 60305"},{level:"24",type:"1",rate:"1",book:"73301, 71302",gem:"30, 40 ,50",gold:"",life:"",item:"50204",soul:""},{level:"25",type:"3",rate:"1",book:"",gem:"30, 40 ,50",gold:"1000, 1250, 1500",life:"",item:"11303",soul:""},{level:"26",type:"1",rate:"1",book:"",gem:"",gold:"1000, 1250, 1500",life:"",item:"12306",soul:"60404, 60306, 60407"},{level:"27",type:"2",rate:"1",book:"73202",gem:"40, 50 ,70",gold:"",life:"",item:"13309",soul:""},{level:"28",type:"1",rate:"1",book:"71301, 75301",gem:"",gold:"1000, 1250, 1500",life:"",item:"23309",soul:""},{level:"29",type:"2",rate:"1",book:"71303, 73202",gem:"40, 50 ,70",gold:"",life:"",item:"40306",soul:""},{level:"30",type:"3",rate:"1",book:"72202",gem:"40, 50 ,70",gold:"",life:"",item:"21302, 22205",soul:""},{level:"31",type:"2",rate:"1",book:"",gem:"",gold:"1300, 1450, 1700",life:"5, 7, 10",item:"11303, 12306",soul:"60402, 60407, 60508"},{level:"32",type:"1",rate:"1",book:"73301",gem:"60, 80, 90",gold:"",life:"",item:"50302",soul:""},{level:"33",type:"2",rate:"1",book:"",gem:"",gold:"1300, 1450, 1700",life:"",item:"40305",soul:"60401, 60503, 60405"},{level:"34",type:"1",rate:"1",book:"73301",gem:"",gold:"1300, 1450, 1700",life:"",item:"30308",soul:""},{level:"35",type:"3",rate:"1",book:"72304, 71301",gem:"60, 80, 90",gold:"",life:"",item:"30301",soul:""},{level:"36",type:"1",rate:"1",book:"",gem:"",gold:"1300, 1450, 1700",life:"5, 7, 10",item:"",soul:"60504, 60406, 60507"},{level:"37",type:"2",rate:"1",book:"73302",gem:"60, 80, 90",gold:"1300, 1450, 1700",life:"",item:"",soul:""},{level:"38",type:"1",rate:"1",book:"75301",gem:"",gold:"1300, 1450, 1700",life:"",item:"50303",soul:""},{level:"39",type:"2",rate:"1",book:"74202",gem:"60, 80, 90",gold:"",life:"",item:"50306",soul:""},{level:"40",type:"3",rate:"1",book:"72202",gem:"60, 80, 90",gold:"1300, 1450, 1700",life:"",item:"",soul:""}],i.MapBox=[{chapter:"1",type:"1",book:"73102",gem:"20",gold:"200"},{chapter:"1",type:"2",gem:"30",gold:"400",life:"4"},{chapter:"1",type:"3",gem:"40",gold:"600",soul:"60201"},{chapter:"2",type:"1",gem:"25",gold:"200",soul:"60202"},{chapter:"2",type:"2",gem:"35",gold:"500",soul:"60307"},{chapter:"2",type:"3",book:"71201",gem:"40",item:"30202"},{chapter:"3",type:"1",gem:"30",gold:"300",soul:"60309"},{chapter:"3",type:"2",book:"71302",gem:"50",gold:"600"},{chapter:"3",type:"3",gem:"60",gold:"800",item:"50204"},{chapter:"4",type:"1",book:"75201",gem:"35",gold:"450"},{chapter:"4",type:"2",gem:"55",gold:"750",soul:"60308"},{chapter:"4",type:"3",gem:"65",gold:"1000",item:"50303"},{chapter:"5",type:"1",book:"73202",gem:"40",gold:"400"},{chapter:"5",type:"2",gem:"60",gold:"600",soul:"60304"},{chapter:"5",type:"3",gem:"75",gold:"800",life:"5"},{chapter:"6",type:"1",gem:"50",gold:"500",soul:"60306"},{chapter:"6",type:"2",gem:"70",gold:"800",soul:"60405"},{chapter:"6",type:"3",book:"71301",gem:"80"},{chapter:"7",type:"1",gem:"60",gold:"300",soul:"60401"},{chapter:"7",type:"2",book:"71302",gem:"80",gold:"600"},{chapter:"7",type:"3",gem:"90",gold:"800",soul:"60403"},{chapter:"8",type:"1",book:"75301",gem:"70",gold:"450"},{chapter:"8",type:"2",gem:"90",gold:"750",life:"5"},{chapter:"8",type:"3",gem:"100",gold:"1000",soul:"60402"},{chapter:"9",type:"1",book:"73302",gem:"70",gold:"400"},{chapter:"9",type:"2",gem:"80",gold:"700",life:"5"},{chapter:"9",type:"3",gem:"100",gold:"800",soul:"60404"},{chapter:"10",type:"1",gem:"100",gold:"600",life:"5"},{chapter:"10",type:"2",gem:"110",gold:"800",soul:"60502"},{chapter:"10",type:"3",book:"71303",gem:"130",soul:"60503"},{chapter:"11",type:"1",gem:"120",gold:"600",life:"5"},{chapter:"11",type:"2",book:"73303",gem:"130",gold:"700"},{chapter:"11",type:"3",gem:"140",gold:"800",soul:"60505"},{chapter:"12",type:"1",book:"73203",gem:"150",gold:"900"},{chapter:"12",type:"2",gem:"160",gold:"750",soul:"60501"},{chapter:"12",type:"3",gem:"170",gold:"1000",item:"50303"}],i.Task=[{id:1,title:"\u767b\u5f55",name:"\u6bcf\u65e5\u767b\u5f55",unit:"\u6b21",amount:1,gold:200},{id:2,title:"\u901a\u5173",name:"\u5b8c\u6210\u5192\u9669",unit:"\u6b21",amount:5,gold:500},{id:3,title:"\u51fb\u6740",name:"\u51fb\u8d25\u654c\u4eba",unit:"\u4e2a",amount:60,gold:600},{id:4,title:"\u6311\u6218",name:"\u83b7\u5f97\u5173\u5361",unit:"\u661f",amount:8,dimond:15},{id:5,title:"\u6392\u884c",name:"\u67e5\u770b\u6392\u884c\u699c",unit:"\u6b21",amount:1,dimond:10},{id:6,title:"\u6280\u80fd",name:"\u5347\u7ea7\u6280\u80fd",unit:"\u6b21",amount:2,dimond:10},{id:7,title:"\u88c5\u5907",name:"\u5347\u7ea7\u88c5\u5907",unit:"\u6b21",amount:3,dimond:15},{id:8,title:"\u6b66\u9b42",name:"\u5408\u6210\u6b66\u9b42",unit:"\u6b21",amount:2,dimond:20},{id:9,title:"\u795e\u5ba0",name:"\u5347\u7ea7\u795e\u5ba0",unit:"\u6b21",amount:1,dimond:15}],i.Achieve=[{id:1,title:"\u767b\u5f55",name:"\u8fde\u7eed\u767b\u5f55",unit:"\u6b21",amount:[1,2,3,4,5,6,7],gold:[100,200,300,400,500,600,1e3]},{id:2,title:"\u901a\u5173",name:"\u5b8c\u6210\u5192\u9669",unit:"\u6b21",amount:[5,15,30,50,75,100],gold:[100,300,400,500,600,1e3]},{id:3,title:"\u51fb\u6740",name:"\u51fb\u8d25\u654c\u4eba",unit:"\u4e2a",amount:[50,100,300,500,1e3],gold:[300,500,600,1e3,1500]},{id:4,title:"\u6311\u6218",name:"\u83b7\u5f97",unit:"\u661f",amount:[10,30,50,90,120,180],dimond:[10,40,70,90,120,140]},{id:5,title:"\u6392\u884c",name:"\u6392\u884c\u699c\u4e0a",unit:"\u540d",amount:[100,50,40,30,20,10,5],dimond:[30,50,60,70,80,90,100]},{id:6,title:"\u6280\u80fd",name:"\u5347\u7ea7\u6280\u80fd",unit:"\u6b21",amount:[5,10,15,20,25,30,40],dimond:[10,20,30,40,50,60,70]},{id:7,title:"\u88c5\u5907",name:"\u5347\u7ea7\u88c5\u5907",unit:"\u6b21",amount:[4,8,12,16,20,24,30],dimond:[10,15,20,30,40,50,60]},{id:8,title:"\u6b66\u9b42",name:"\u5408\u6210\u6b66\u9b42",unit:"\u6b21",amount:[6,10,15,20,30],dimond:[20,40,60,80,100]},{id:9,title:"\u795e\u5ba0",name:"\u5347\u7ea7\u795e\u5ba0",unit:"\u6b21",amount:[2,5,10,20,30],dimond:[30,40,50,70,100]},{id:10,title:"\u7b49\u7ea7",name:"\u7b49\u7ea7\u8fbe\u5230",unit:"\u7ea7",amount:[5,10,20,30,50,70,100],gold:[100,200,400,600,800,1500,2e3],dimond:[10,15,25,30,45,65,100]}],i.Eight=[{id:1,name:"\u4e7e",rate:.25,factor:[10,13,17],book:"",gem:"",gold:[200,500,1e3],life:"",item:"",soul:""},{id:2,name:"\u5764",rate:.15,factor:[0,0,0],book:"",gem:[15,30,45],gold:"",life:"",item:"",soul:""},{id:3,name:"\u9707",rate:.1,factor:[.02,.05,.03],book:[1,1,2],gem:"",gold:"",life:"",item:"",soul:""},{id:4,name:"\u574e",rate:.1,factor:[.05,.05,.05],book:"",gem:"",gold:"",life:"",item:[1,1.2,1.5],soul:""},{id:5,name:"\u79bb",rate:.2,factor:[0,0,0],book:"",gem:"",gold:"",life:[5,8,12],item:"",soul:""},{id:6,name:"\u5151",rate:.25,factor:[0,0,0],book:"",gem:"",gold:"",life:"",item:"",soul:[1,2,3]}],i.getLevelCoins=function(t){return Math.floor(1.5*t+t*t/10+15)},i.getLevelExp=function(t){return Math.floor(8*t+t*t/5+10)};var m=function(t){if(-1!=t&&null!=t)return parseInt(t.toString().substring(0,1))};i.getTypeId=m,i.getWhoId=function(t){return parseInt(t.toString().substring(1,2))},i.getLvId=function(t){return parseInt(t.toString().substring(2,3))},i.getIndexId=function(t){if(-1!=t&&null!=t)return parseInt(t.toString().substring(3,5))},i.getSoulId=function(t){return parseInt(t.toString().substring(5,7))},i.getSoulIndexById=function(t){for(var e=0;e<f.length;e++)if(Number(f[e].id)==t)return e+1;return 0},i.getSoulDataById=function(t){return f[t]},i.getUpgradeId=function(t){return parseInt(t.toString().substring(7,9))};var g=function(t){return parseInt(t.toString().substring(0,5))};i.getJsonId=g,i.getDataById=function(t){var e=null;switch(m(t)){case 1:e=c;break;case 2:e=l;break;case 3:e=p;break;case 4:e=u;break;case 5:e=h;break;case 6:e=f;break;case 7:e=d}t=g(t);for(var i=0;i<e.length;i++){var n=e[i];if(n.id==t)return n}return null},i.getSoulIds=function(){var t=[];return f.forEach(function(e){t.push(e.id)}),t},cc._RF.pop()},{"../i18n/Language":"Language"}],CryptoJS:[function(t,e,i){"use strict";cc._RF.push(e,"dc1eeuYH2BEjqbXSSUiFzlr","CryptoJS"),Object.defineProperty(i,"__esModule",{value:!0});var n=t("crypto-js"),o="hfirenglelele",a=(n.enc.Utf8.parse("hfirenglelele"),n.enc.Utf8.parse("1245678922526")),s=function(){function t(){}return t.encode=function(t){return n.AES.encrypt(t,o).toString()},t.decode=function(t){return n.AES.decrypt(t,o).toString(n.enc.Utf8)},t.encode2=function(t){var e=n.enc.Utf8.parse(t);return n.AES.encrypt(e,o,{iv:a,mode:n.mode.CBC,padding:n.pad.Pkcs7}).ciphertext.toString()},t.decode2=function(t){var e=n.enc.Hex.parse(t),i=n.enc.Base64.stringify(e);return n.AES.decrypt(i,o,{iv:a,mode:n.mode.CBC,padding:n.pad.Pkcs7}).toString(n.enc.Utf8).toString()},t.encodeBase64=function(t){return n.enc.Base64.stringify(t)},t.decodeBase64=function(t){return n.enc.Base64.parse(t)},t.parseUtf8=function(t){return n.enc.Utf8.parse(t)},t.stringifyUtf8=function(t){return n.enc.Utf8.stringify(t)},t}();i.default=s,cc._RF.pop()},{"crypto-js":"crypto-js"}],DataMgr:[function(t,e,i){"use strict";cc._RF.push(e,"8b606xRa9FG1r76YEQK2b+W","DataMgr"),Object.defineProperty(i,"__esModule",{value:!0});var n=t("./Hero/HeroGlobal"),o=t("./Tool/Statistics"),a=t("./Tool/TimeMgr"),s=t("./UserDataInfo"),r=function(){function t(){this.needOpenSign=!1,this.winLimit=0,this.failLimit=0,this.limitCount=8}return Object.defineProperty(t,"instance",{get:function(){return t._instance||(t._instance=new t),t._instance},enumerable:!1,configurable:!0}),t.prototype.init=function(){this.coinsAttrs=[200,300,400],this.lifeAttrs=[5,7,10],this.jadeAttrs=[20,30,40],this.loadUuid(),this.loadSetting(),this.loadMapData(),this.loadMapBox(),this.loadHeroGlobal(),this.loadHeroData(),this.loadTimeLimitData(),this.loadSaveDate()},t.prototype.loadUuid=function(){o.default.getInstance().reportEvent("\u8fdb\u5165\u6e38\u620f")},t.prototype.loadSetting=function(){var t=s.UserDataInfo.instance.getDataByType(s.DataFields.music),e=s.UserDataInfo.instance.getDataByType(s.DataFields.effect);n.default.instance.BgmSwitch=t,n.default.instance.EffectSwitch=e},t.prototype.loadMapData=function(){var t=s.UserDataInfo.instance.getDataByType(s.DataFields.map_data);n.default.instance.setMapData(t)},t.prototype.loadMapBox=function(){var t=s.UserDataInfo.instance.getDataByType(s.DataFields.map_box);n.default.instance.setMapBox(t)},t.prototype.loadHeroGlobal=function(){var t=s.UserDataInfo.instance.getDataByType(s.DataFields.hero_global_data);n.default.instance.setHeroGlobal(t)},t.prototype.loadHeroData=function(){for(var t=s.UserDataInfo.instance.getDataByType(s.DataFields.hero_data),e=0;e<3;e++)n.default.instance.setHeroData(e,t[e])},t.prototype.loadSaveDate=function(){var t=s.UserDataInfo.instance.getDataByType(s.DataFields.save_date);if(a.default.getDelayNow(t.date)>0){this.needOpenSign=!0;var e=JSON.stringify({date:a.default.getFullYMDToday(),lifeCount:0,coinsCount:0,jadeCount:0,activityCount:0,taskCountData:[1,0,0,0,0,0,0,0,0],taskGetCountData:[0,0,0,0,0,0,0,0,0]});s.UserDataInfo.instance.changeDataByType(s.DataFields.save_date,e),this.lifeCount=0,this.coinsCount=0,this.jadeCount=0,this.activityCount=0,this.taskCountData=[1,0,0,0,0,0,0,0,0],this.taskGetCountData=[0,0,0,0,0,0,0,0,0],this.timeLimitNum=3600,this.oppoLimitNum=7,this.vivoLimitNum=7,n.default.instance.AchieveCountData[0]++,n.default.instance.saveHeroGlobal()}else n.default.instance.Life<20&&(n.default.instance.setLife(20),n.default.instance.saveHeroGlobal()),this.lifeCount=t.lifeCount,this.coinsCount=t.coinsCount,this.jadeCount=t.jadeCount,this.activityCount=t.activityCount,this.taskCountData=t.taskCountData?t.taskCountData:[1,0,0,0,0,0,0,0,0],this.taskGetCountData=t.taskGetCountData?t.taskGetCountData:[0,0,0,0,0,0,0,0,0],this.loadLimitData()},t.prototype.saveSaveDate=function(){var t=JSON.stringify({date:a.default.getFullYMDToday(),lifeCount:this.lifeCount,coinsCount:this.coinsCount,jadeCount:this.jadeCount,activityCount:this.activityCount,taskCountData:this.taskCountData,taskGetCountData:this.taskGetCountData});s.UserDataInfo.instance.changeDataByType(s.DataFields.save_date,t)},t.prototype.loadLimitData=function(){},t.prototype.saveLimitData=function(){},t.prototype.loadTimeLimitData=function(){var t=s.UserDataInfo.instance.getDataByType(s.DataFields.time_limit);this.timeLimitNum=Math.floor(Number(t))},t.prototype.saveTimeLimitData=function(){s.UserDataInfo.instance.changeDataByType(s.DataFields.time_limit,Math.floor(this.timeLimitNum)+"")},t._instance=null,t}();i.default=r,cc._RF.pop()},{"./Hero/HeroGlobal":"HeroGlobal","./Tool/Statistics":"Statistics","./Tool/TimeMgr":"TimeMgr","./UserDataInfo":"UserDataInfo"}],DelayComponent:[function(t,e,i){"use strict";cc._RF.push(e,"7da89T2e+hB+bFb4vT5mAi3","DelayComponent");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),a=this&&this.__decorate||function(t,e,i,n){var o,a=arguments.length,s=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var r=t.length-1;r>=0;r--)(o=t[r])&&(s=(a<3?o(s):a>3?o(e,i,s):o(e,i))||s);return a>3&&s&&Object.defineProperty(e,i,s),s};Object.defineProperty(i,"__esModule",{value:!0}),i.DelayComponent=void 0;var s=t("./ActionComponent"),r=cc._decorator,c=r.ccclass,l=r.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.target=null,e.moveTween=null,e}return o(e,t),e.prototype.getTween=function(){return this.moveTween||(this.moveTween=cc.tween(this.getTarget()).delay(this.speed).call(this.callFunc)),this.moveTween},e.prototype.startAction=function(){this.getTween().stop(),this.getTween().start()},e.prototype.endAction=function(){this.getTween().stop()},e.prototype.resetAction=function(){},a([l({type:cc.Node,override:!0,visible:!1})],e.prototype,"target",void 0),a([c],e)}(s.ActionComponent);i.DelayComponent=p,cc._RF.pop()},{"./ActionComponent":"ActionComponent"}],Director:[function(t,e,i){"use strict";cc._RF.push(e,"8b9d93a4p1HMYjzD3ABxzJ7","Director");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),a=this&&this.__decorate||function(t,e,i,n){var o,a=arguments.length,s=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var r=t.length-1;r>=0;r--)(o=t[r])&&(s=(a<3?o(s):a>3?o(e,i,s):o(e,i))||s);return a>3&&s&&Object.defineProperty(e,i,s),s},s=this&&this.__generator||function(t,e){var i,n,o,a,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:r(0),throw:r(1),return:r(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function r(t){return function(e){return c([t,e])}}function c(a){if(i)throw new TypeError("Generator is already executing.");for(;s;)try{if(i=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,n=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!(o=(o=s.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){s=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){s.label=a[1];break}if(6===a[0]&&s.label<o[1]){s.label=o[1],o=a;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(a);break}o[2]&&s.ops.pop(),s.trys.pop();continue}a=e.call(t,s)}catch(r){a=[6,r],n=0}finally{i=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}};Object.defineProperty(i,"__esModule",{value:!0});var r=t("./nativets/Global"),c=t("./TextureMgr"),l=t("./Hero/HeroFSM"),p=t("./Audio"),u=t("./Hero/HeroGlobal"),h=t("./Game"),d=t("./Hero/Hero"),f=t("./Map/Box"),m=cc._decorator,g=m.ccclass,y=m.property,v=["\u67aa\u795e","\u5927\u7f8e","\u5973\u795e","\u72ec\u773c\u6218\u795e","\u5251\u795e","\u864e\u58eb"],_=["\u6b65\u5175","\u67aa\u5175","\u72c2\u6218\u58eb","\u72c2\u6218\u58eb","\u65b9\u672f\u5e08","\u65b9\u672f\u5e08"],b=[{level:1,data1:[{isLeft:!0,iconIndex:0,text:"\u8fd9\u662f\u54ea\u91cc,\u6211\u600e\u4e48\u5728\u8fd9\u91cc-_-"},{isLeft:!1,iconIndex:3,text:"\u67aa\u795e,\u6b22\u8fce\u6765\u5230\u706b\u67f4\u4eba\u4e16\u754c,\u8fd9\u91cc\u88ab\u5916\u65cf\u4eba\u5165\u4fb5\u4e86"},{isLeft:!1,iconIndex:3,text:"\u9a71\u9664\u9791\u864f\u6062\u590d\u4e2d\u534e\u5c31\u9760\u60a8\u4e86^ ^"},{isLeft:!1,iconIndex:1,text:"\u6765\u4e86\u4e00\u6ce2\u654c\u519b\uff0c\u8bf7\u67aa\u795e\u5c0f\u5fc3"},{isLeft:!0,iconIndex:1,text:"\u6211\u77e5\u9053\u4e86\uff0c\u770b\u6211\u7684"},{isLeft:!0,iconIndex:1,text:"\uff08\u70b9\u51fb\u653b\u51fb\u6309\u94ae\u53ef\u4ee5\u653b\u51fb\u524d\u65b9\u654c\u4eba\uff0c\u957f\u6309\u653b\u51fb\u53ef\u4ee5\u8fde\u62db\uff0c\u5bf9\u654c\u4eba\u9020\u6210\u66f4\u5927\u4f24\u5bb3\uff09"}],data4:[{isLeft:!1,iconIndex:11,text:"\u67aa\u795e\u9976\u547d\uff0c\u6211\u53ea\u662f\u8def\u4eba\u7532\u554a"},{isLeft:!1,iconIndex:11,text:"\u6211\u7684\u5168\u90e8\u8eab\u5bb6\uff0c\u67aa\u795e\u60a8\u6311\u4e00\u4ef6\uff0c\u5c31\u653e\u8fc7\u6211\u5427>.<"},{isLeft:!0,iconIndex:0,text:"\u6211\u770b\u4e00\u770b\uff08\u5c0f\u5b69\u5b50\u624d\u505a\u9009\u62e9\u9898\uff01\uff09"}]},{level:2,data1:[{isLeft:!1,iconIndex:3,text:"\u67aa\u795e\u5c0f\u5fc3\uff0c\u524d\u65b9\u6765\u4e86\u4e00\u6ce2\u8fdc\u7a0b\u8d3c\u5bc7"},{isLeft:!0,iconIndex:1,text:"\u6211\u77e5\u9053\u4e86"}],data2:[{isLeft:!0,iconIndex:3,text:"\u6d1e\u5e9c\u5185\u6709\u5b9d\u7bb1\u548c\u66f4\u5f3a\u7684\u654c\u4eba,\u98ce\u9669\u66f4\u5927\uff0c\u673a\u4f1a\u66f4\u591a"},{isLeft:!1,iconIndex:1,text:"\u660e\u767d"}],data4:[{isLeft:!1,iconIndex:3,text:"\u5b9d\u7bb1\u6389\u843d\u4e86\uff0c\u5feb\u6253\u5f00\u5427~"},{isLeft:!0,iconIndex:0,text:"\u5f31\u6c34\u4e09\u5343\uff0c\u6211\u53ea\u53d6\u4e00\u74e2"}]},{level:3,data1:[{isLeft:!0,iconIndex:3,text:"\u5de8\u4eba\u529b\u5927\uff0c\u6ce8\u610f\u907f\u8ba9"},{isLeft:!1,iconIndex:1,text:"\uff08\u53ef\u4ee5\u4f7f\u7528\u6280\u80fd\u8fdc\u7a0b\u6d88\u8017\u654c\u4eba\uff09"}],data4:[{isLeft:!1,iconIndex:12,text:"\u6211\u53c8\u6765\u4e86\uff01\u7ed9\u60a8\u9001\u8425\u957f\u7684\u5b9d\u7269\u4e86"},{isLeft:!0,iconIndex:0,text:"(\u90fd\u62ff\u4e86\u4e0d\u592a\u597d\u5427\u3002\u3002\uff09"}]},{level:4,data2:[{isLeft:!0,iconIndex:3,text:"\u7adf\u7136\u8fd8\u6709\u7a7a\u4e2d\u5355\u4f4d,\u5feb\u70b9\u8df3\u8dc3\u52a0\u4e0a\u653b\u51fb\u6765\u89e3\u51b3\u4ed6\u4eec\u5427"},{isLeft:!1,iconIndex:0,text:"\u542c\u8d77\u6765\u4e0d\u9519"}],data4:[{isLeft:!1,iconIndex:3,text:"\u5b9d\u7bb1\u53c8\u6765\u54af~"},{isLeft:!0,iconIndex:0,text:"\uff08\u6ce8\u610f\u5f62\u8c61\uff0c\u4e0d\u80fd\u5168\u62ff\u4e86\uff09"}]},{level:5,data2:[{isLeft:!1,iconIndex:4,text:"\u5c14\u4e43\u4f55\u4eba,\u80c6\u6562\u95ef\u6211\u8425\u5730"},{isLeft:!0,iconIndex:0,text:"\u5251\u795e\u8352\u6deb\u65e0\u9053,\u4e0d\u8981\u518d\u52a9\u7ea3\u4e3a\u8650\u4e86\uff01"},{isLeft:!1,iconIndex:4,text:"\u5e9f\u8bdd\u5c11\u8bf4,\u5403\u6211\u4e00\u67aa\uff01"}],data4:[{isLeft:!1,iconIndex:4,text:"\u4f60\u4e0d\u9519\uff0c\u8ddf\u7740\u5251\u795e\u5427\uff0c\u8fd9\u4e9b\u90fd\u7ed9\u4f60"},{isLeft:!0,iconIndex:0,text:"\uff08\u6211\u624d\u4e0d\u8981\u5462\u3002\u3002\uff09"}]},{level:6,data4:[{isLeft:!1,iconIndex:16,text:"\u653e\u8fc7\u8001\u673d\u5427\uff0c\u6211\u5c31\u662f\u4e00\u4e2a\u6c5f\u6e56\u672f\u58eb"},{isLeft:!0,iconIndex:0,text:"\u597d\u8a00\u96be\u529d\u8be5\u6b7b\u7684\u9b3c\uff0c\u770b\u67aa\uff01"},{isLeft:!1,iconIndex:11,text:"\u6211\u5168\u90e8\u5bb6\u5f53\u5728\u6b64\uff01\u67aa\u795e\u9976\u547d\uff01"},{isLeft:!0,iconIndex:0,text:"\uff08\u65e9\u77e5\u9053\u4f60\u5728\u9a97\u4eba\u3002\u3002\uff09"}]},{level:7,data4:[{isLeft:!1,iconIndex:3,text:"\u5b9d\u7bb1\uff01"},{isLeft:!0,iconIndex:0,text:"\u55ef\u54fc"}]},{level:8,data4:[{isLeft:!1,iconIndex:16,text:"\u67aa\u795e\u5a01\u6b66\uff01\u5b9d\u7269\u5949\u4e0a\uff01"},{isLeft:!0,iconIndex:0,text:"\uff08\u6211\u5c31\u770b\u770b\u3002\u3002\uff09"}]},{level:9,data4:[{isLeft:!1,iconIndex:3,text:"\u5b9d\u7bb1\uff01\uff01"},{isLeft:!0,iconIndex:0,text:"\uff08\u8fd0\u6c14\u4e5f\u592a\u597d\u4e86\u5427\uff01\uff09"}]},{level:10,data3:[{isLeft:!1,iconIndex:4,text:"\u4f60\u8fd8\u6562\u6765\uff0c\u518d\u4e0e\u4ffa\u5927\u6218\u4e09\u767e\u56de\u5408\uff01\uff01"},{isLeft:!0,iconIndex:0,text:"\u9601\u4e0b\u7684\u9996\u7ea7,\u6211\u5c31\u6536\u4e0b\u4e86\uff01"}],data4:[{isLeft:!1,iconIndex:4,text:"\u597d\uff01\u5251\u795e\u5728\u7b49\u4f60\uff01\uff01"},{isLeft:!0,iconIndex:0,text:"...."}]},{level:11,data2:[{isLeft:!1,iconIndex:3,text:"\u8fd9\u662f\u4ec0\u4e48\u795e\u517d\uff01\u4e5f\u592a\u5927\u4e86"},{isLeft:!0,iconIndex:0,text:"\uff08...\u7adf\u7136\u662f\u5927\u8c61,\u5c0f\u5fc3\u70b9\uff0c\u86ee\u5b50\u4e5f\u6765\uff1f\uff09"}],data4:[{isLeft:!1,iconIndex:3,text:"\u54c7\uff01\uff01\u5b9d\u7bb1\uff01\uff01"},{isLeft:!0,iconIndex:0,text:"\uff08\u563f\u563f\uff01\uff09"}]},{level:12,data4:[{isLeft:!1,iconIndex:16,text:"\u67aa\u795e\u3002\u3002\u6211\u5176\u5b9e\u662f\u5367\u5e95"},{isLeft:!0,iconIndex:0,text:"\uff08\u600e\u4e48\u53c8\u662f\u4f60\uff09"},{isLeft:!1,iconIndex:11,text:"\u6211\u3002\u3002\u7ed9\u5b9d\u3002\u3002"},{isLeft:!0,iconIndex:0,text:"\uff08\u3002\u3002\u3002\u3002\u3002\uff09"}]},{level:13,data4:[{isLeft:!1,iconIndex:3,text:"\u54c7\uff01\uff01\u5b9d\u7bb1\uff01\uff01"},{isLeft:!0,iconIndex:0,text:"\uff08\u563f\u563f\uff01\uff09"}]},{level:14,data4:[{isLeft:!1,iconIndex:12,text:"\u6211\u4e0a\u6709\u8001\u4e0b\u6709\u5c0f\u3002\u3002"},{isLeft:!0,iconIndex:0,text:"\uff08\u6211\u5c31\u542c\u542c\u3002\u3002\uff09"}]},{level:15,data3:[{isLeft:!1,iconIndex:6,text:"\u4f60\u8fd9\u77ee\u5b50\uff0c\u5403\u4ffa\u4e00\u9524\uff01"},{isLeft:!0,iconIndex:0,text:"\u4f11\u5f97\u7316\u72c2\uff01"}],data4:[{isLeft:!1,iconIndex:6,text:"\u597d\u672c\u4e8b\uff0c\u4f60\u8fd9\u670b\u53cb\u4ffa\u4ea4\u4e86\uff01"},{isLeft:!0,iconIndex:0,text:"\uff08\u4e00\u8a00\u4e0d\u5408\u5c31\u9001\u88c5\u5907\uff1f\uff1f\uff09"}]},{level:16,data4:[{isLeft:!1,iconIndex:11,text:"\u67aa\u795e.\u4e0d\u8981\uff01"},{isLeft:!0,iconIndex:0,text:"\uff08\u3002\u3002\u3002\u3002\u3002\uff09"}]},{level:17,data4:[{isLeft:!1,iconIndex:3,text:"\u54c7\uff01\uff01\u5b9d\u7bb1\uff01\uff01"},{isLeft:!0,iconIndex:0,text:"\uff08\u6211\u679c\u7136\u662f\u4e3b\u89d2\uff01\uff09"}]},{level:18,data4:[{isLeft:!0,iconIndex:0,text:"\u5b9d\u7269\u5462"},{isLeft:!1,iconIndex:12,text:"-_-"}]},{level:19,data4:[{isLeft:!1,iconIndex:3,text:"(\u53c8\u662f\u5b9d\u7bb1\u3002\u3002)"},{isLeft:!0,iconIndex:0,text:"\uff08\u563f\u563f\uff09"}]},{level:20,data3:[{isLeft:!0,iconIndex:0,text:"\u864e\u58eb\uff01\u83ab\u8981\u611a\u5fe0,\u5251\u795e\u5df2\u7ecf\u5165\u9b54\u4e86\uff01"},{isLeft:!1,iconIndex:6,text:"...,\u8a93\u6b7b\u8ffd\u968f\u5251\u795e\uff01"},{isLeft:!1,iconIndex:6,text:"\u6740\uff01\uff01"}],data4:[{isLeft:!1,iconIndex:6,text:"\u4f60\u4eec\u4e0d\u662f\u5251\u795e\u7684\u5bf9\u624b\uff0c\u62ff\u4e0a\u8fd9\u4e9b\u88c5\u5907\uff0c\u6eda\u5427"},{isLeft:!0,iconIndex:0,text:"\u3002\u3002\u3002"}]},{level:21,data4:[{isLeft:!0,iconIndex:0,text:"^_^"}]},{level:22,data4:[{isLeft:!0,iconIndex:0,text:"\u5b9d\u7269"},{isLeft:!1,iconIndex:12,text:"-_-"}]},{level:23,data4:[{isLeft:!1,iconIndex:3,text:"(\u6709\u6bd2\u5427\u3002\u3002)"},{isLeft:!0,iconIndex:0,text:"-_-"}]},{level:24,data4:[{isLeft:!0,iconIndex:0,text:"\u5b9d!"},{isLeft:!1,iconIndex:12,text:"-_-"}]},{level:25,data4:[{isLeft:!1,iconIndex:4,text:"\u8bf7\u529d\u5251\u795e\u56de\u5934"},{isLeft:!0,iconIndex:0,text:"\u6211\u4f1a\u7684\uff01"}]},{level:26,data4:[{isLeft:!1,iconIndex:12,text:"\u592a\u5012\u9709\u4e86\uff0c\u6bcf\u6b21\u90fd\u9047\u5230\u8fd9\u4e2a\u707e\u661f"},{isLeft:!0,iconIndex:0,text:"\u563f\u563f"}]},{level:27,data4:[{isLeft:!1,iconIndex:3,text:"\u8fd9\u4e2a\u7bb1\u5b50\u8c8c\u4f3c\u8fd8\u4e0d\u9519"},{isLeft:!0,iconIndex:0,text:"\u563f"}]},{level:28,data4:[{isLeft:!0,iconIndex:0,text:"\u563f\u563f!"},{isLeft:!1,iconIndex:12,text:"\u6211\u81ea\u5df1\u6765"}]},{level:29,data4:[{isLeft:!0,iconIndex:0,text:"(\u51fa\u70b9\u597d\u8d27\u5427\uff01\uff09"}]},{level:30,data3:[{isLeft:!0,iconIndex:3,text:"\u72ec\u773c\u6218\u795e\uff01\u90aa\u4e0d\u80dc\u6b63,\u505c\u624b\u5427\uff01"},{isLeft:!1,iconIndex:5,text:"\u5475\u5475\uff01"}],data4:[{isLeft:!1,iconIndex:5,text:"...\u53ea\u6709\u4f60\u4eec\u80fd\u963b\u6b62\u5251\u795e\u4e86.."},{isLeft:!1,iconIndex:1,text:"\u5b89\u606f\u5427\uff01"}]},{level:31,data4:[{isLeft:!1,iconIndex:3,text:"666"},{isLeft:!0,iconIndex:0,text:"\u563f\u563f"}]},{level:32,data4:[{isLeft:!0,iconIndex:0,text:"\u563f\u563f!"},{isLeft:!1,iconIndex:12,text:"\u6211\u81ea\u5df1\u6765"}]},{level:33,data4:[{isLeft:!0,iconIndex:0,text:"\uff08\u51fa\u70b9\u597d\u8d27\u5427\uff01\uff09"}]},{level:32,data4:[{isLeft:!1,iconIndex:12,text:"\u67aa\u795e\u5a01\u6b66\uff0c\u5251\u795e\u5c31\u5728\u524d\u9762"},{isLeft:!0,iconIndex:0,text:"\uff08\u8981\u5c0f\u5fc3\u4e86\uff09"}]},{level:35,data3:[{isLeft:!1,iconIndex:5,text:"\u4e0d\u9519\uff01\u4f60\u4eec\u5c45\u7136\u80fd\u5230\u8fd9\u91cc\uff01"},{isLeft:!1,iconIndex:5,text:"\u8ffd\u968f\u6211\u5427\uff01\u4f60\u5c06\u662f\u6211\u6700\u5fe0\u5fc3\u7684\u624b\u4e0b\u3002"},{isLeft:!0,iconIndex:0,text:"..."},{isLeft:!0,iconIndex:0,text:"..."}],data4:[{isLeft:!1,iconIndex:5,text:"\u5475\u5475\uff01\u5c45\u7136\u80fd\u63a5\u6211\u4e00\u62db,\u6211\u7684\u8bdd\u6c38\u4e45\u6709\u6548"},{isLeft:!0,iconIndex:0,text:"\u5251\u795e\u4f11\u8d70"}]},{level:36,data4:[{isLeft:!0,iconIndex:0,text:"\uff08\u4eba\u54c1\u7206\u53d1\u5427\uff01\uff09"}]},{level:37,data4:[{isLeft:!1,iconIndex:17,text:"\u8001\u673d\u4e00\u70b9\u5fc3\u610f\uff0c\u67aa\u795e\u52a1\u5fc5\u7b11\u7eb3\uff01"},{isLeft:!0,iconIndex:0,text:"\uff08\u7ed9\u8001\u4eba\u5bb6\u7559\u70b9\u5427\uff09"}]},{level:38,data4:[{isLeft:!0,iconIndex:0,text:"\uff08\u8bd5\u8bd5\u65b0\u7684\u5f00\u7bb1\u5927\u6cd5\uff01\uff09"}]},{level:39,data4:[{isLeft:!1,iconIndex:16,text:"\u67aa\u795e\uff0c\u5251\u795e\u80cc\u540e\u6709\u9b54\u6c14\u5728\u64cd\u63a7"},{isLeft:!1,iconIndex:16,text:"\u8001\u673d\u4e00\u70b9\u5fc3\u610f\uff0c\u67aa\u795e\u52a1\u5fc5\u7b11\u7eb3\uff01"},{isLeft:!0,iconIndex:0,text:"\uff08\u662f\u6709\u70b9\u53ef\u7591\uff09"}]},{level:40,data3:[{isLeft:!1,iconIndex:5,text:"\u67aa\u795e,\u543e\u751a\u60dc\u624d\uff01\u8ddf\u968f\u543e,\u8ba9\u4f60\u505a\u6211\u7684\u526f\u624b0\uff01\uff01"},{isLeft:!0,iconIndex:0,text:"..."}],data4:[{isLeft:!0,iconIndex:0,text:"\u9b54\u6c14\u5df2\u7ecf\u6d88\u5931\uff01"},{isLeft:!1,iconIndex:5,text:"\u662f\u6211\u6267\u5ff5\u592a\u6df1,\u5c0f\u5fc3\u9791\u5b50\uff01"},{isLeft:!0,iconIndex:0,text:"\u4e0d\uff01\uff01"},{isLeft:!1,iconIndex:5,text:"..(\u5251\u795e\u5df2\u7ecf\u81ea\u5c3d\uff09"},{isLeft:!1,iconIndex:3,text:"\u8d70\u5427,\u867d\u7136\u6740\u4e86\u5251\u795e\u4f46\u662f\u9791\u5b50\u8fd8\u5728\uff01"}]}],C=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.monsterPrefab=null,e.berserkerPrefab=null,e.fangshuPrefab=null,e.boxPrefab=null,e}var i;return o(e,t),i=e,e.prototype.init=function(){i.instance=this,this.heroCameraNode=cc.director.getScene().getComponentInChildren(cc.Canvas).node.getChildByName("heroCamera"),this.left=this.node.getChildByName("left"),this.right=this.node.getChildByName("right"),this.leftIcon=this.left.getChildByName("icon").getComponent(cc.Sprite),this.rightIcon=this.right.getChildByName("icon").getComponent(cc.Sprite),this.leftLabel=this.left.getChildByName("text").getComponent(cc.Label),this.rightLabel=this.right.getChildByName("text").getComponent(cc.Label),this.leftName=this.left.getChildByName("name").getComponent(cc.Label),this.rightName=this.right.getChildByName("name").getComponent(cc.Label)},e.prototype.onOpen=function(t,e){this.openLv=t,this.openIndex=e,r.default.getInstance().MoveState=0,this.needWin=!1;var i=this.getDataByLv(t);if(!i)return r.default.getInstance().inGame||(r.default.getInstance().inGame=!0),void(3==e&&l.default.instance.fsm.can("win")&&l.default.instance.fsm.win());switch(this.data=null,e){case 0:i.data1&&(this.data=i.data1);break;case 1:i.data2&&(this.data=i.data2);break;case 2:i.data3&&(this.data=i.data3);break;case 3:i.data4?(this.data=i.data4,this.needWin=!0):l.default.instance.fsm.can("win")&&l.default.instance.fsm.win()}this.data?(r.default.getInstance().inGame=!1,this.index=0,this.count=this.data.length,this.showDialog(),this.node.active=!0):r.default.getInstance().inGame||(r.default.getInstance().inGame=!0)},e.prototype.showType=function(t){switch(t){case 2:var e=this.getDataByLv(r.default.getInstance().nowLevel).data4[0].iconIndex;this.showRewardMonster(e);break;case 1:this.showRewardBox();break;case 3:this.onOpen(r.default.getInstance().nowLevel,3)}},e.prototype.showRewardMonster=function(t){var e=this,i=null;switch(t){case 11:case 12:i=cc.instantiate(this.monsterPrefab);break;case 13:case 14:i=cc.instantiate(this.berserkerPrefab);break;case 17:case 16:i=cc.instantiate(this.fangshuPrefab);break;default:return void this.onOpen(r.default.getInstance().nowLevel,3)}i.parent=h.default.instance.gameEventNode,i.position=cc.v3(this.heroCameraNode.x+.5*cc.winSize.width,-192),d.default.instance.node.x<i.x&&(i.scaleX*=-1);var n=i.getComponent(sp.Skeleton),o="";switch(t){case 11:o="sword_";break;case 12:o="spear_";break;case 13:n.setSkin("001_\u8fd1\u6218");break;case 14:n.setSkin("001_\u8fdc\u653b");break;case 17:n.setSkin("001_\u51b0");break;case 16:n.setSkin("002_\u706b")}var a=""==o?"\u8fdb\u573a":"show",s=""==o?"\u7ad9\u7acb":"stand";n.setAnimation(0,o+a,!1),n.setCompleteListener(function(){n.animation!=o+s&&(n.setAnimation(0,o+s,!0),e.onOpen(r.default.getInstance().nowLevel,3))})},e.prototype.showRewardBox=function(){var t=this,e=cc.instantiate(this.boxPrefab);e.parent=h.default.instance.gameEventNode,e.position=cc.v3(this.heroCameraNode.x+.5*cc.winSize.width,200);var i=e.getComponent(f.default);i.init(),cc.tween(e).by(.5,{x:-392}).call(function(){i.onlyOpen(),t.onOpen(r.default.getInstance().nowLevel,3)}).start()},e.prototype.onClose=function(){this.left.active=!1,this.right.active=!1,this.node.active=!1,r.default.getInstance().inGame=!0,this.needWin&&l.default.instance.fsm.can("win")&&l.default.instance.fsm.win()},e.prototype.onBtnNext=function(){this.gen||(this.index++,this.index==this.count?(this.onClose(),1==this.openLv&&0==this.openIndex&&(h.default.instance.skillHalo.active=!0,this.scheduleOnce(function(){h.default.instance.skillHalo.active=!1},3))):this.showDialog())},e.prototype.showActionText=function(t,e){var i=this;this.textLength=e.length,this.tIndex=0,this.originText=e,this.tLabel=t,this.subText="",this.gen=this.generateText(),this.schedule(function(){i.gen.next().done&&(i.gen=null)},.04,this.textLength)},e.prototype.generateText=function(){var t;return s(this,function(e){switch(e.label){case 0:t=0,e.label=1;case 1:return t<this.textLength?[4,this.getSubText()]:[3,4];case 2:e.sent(),e.label=3;case 3:return t++,[3,1];case 4:return[2]}})},e.prototype.getSubText=function(){this.tIndex++,this.subText=this.originText.substring(0,this.tIndex),this.tIndex%12==1&&p.default.instance.playAudio("Typing"),this.tLabel.string=this.subText},e.prototype.showDialog=function(){var t=this.data[this.index];t&&(!this.left.active&&t.isLeft&&(this.leftIcon.spriteFrame=this.getIcon(t.iconIndex),this.leftName.string=this.getName(t.iconIndex),this.left.active=!0),this.right.active||t.isLeft||(this.rightIcon.spriteFrame=this.getIcon(t.iconIndex),this.rightIcon.node.scaleX=1,t.iconIndex>3&&t.iconIndex<7&&(this.rightIcon.node.scaleX=-1),t.iconIndex>10&&(this.rightIcon.node.scaleX=-1),this.rightName.string=this.getName(t.iconIndex),this.right.active=!0),t.isLeft?(this.leftLabel.string="",this.showActionText(this.leftLabel,t.text)):(this.rightLabel.string="",this.showActionText(this.rightLabel,t.text)))},e.prototype.getName=function(t){return 0==t?v[u.default.instance.MainHeroIndex]:t>10&&t<15?_[t-=11]:t>15?_[t-=12]:v[t-1]},e.prototype.getIcon=function(t){return 0==t?c.default.instance.heroIconGameSf[u.default.instance.MainHeroIndex]:t>3&&t<7?c.default.instance.bossIconGameSf[t-4]:t>10&&t<15?(t-=11,c.default.instance.monsterIconGameSf[t]):t>15?(t-=12,c.default.instance.monsterIconGameSf[t]):c.default.instance.heroIconGameSf[t-1]},e.prototype.getDataByLv=function(t){for(var e=0;e<b.length;e++)if(b[e].level==t)return b[e];return null},e.instance=null,a([y(cc.Prefab)],e.prototype,"monsterPrefab",void 0),a([y(cc.Prefab)],e.prototype,"berserkerPrefab",void 0),a([y(cc.Prefab)],e.prototype,"fangshuPrefab",void 0),a([y(cc.Prefab)],e.prototype,"boxPrefab",void 0),i=a([g],e)}(cc.Component);i.default=C,cc._RF.pop()},{"./Audio":"Audio","./Game":"Game","./Hero/Hero":"Hero","./Hero/HeroFSM":"HeroFSM","./Hero/HeroGlobal":"HeroGlobal","./Map/Box":"Box","./TextureMgr":"TextureMgr","./nativets/Global":"Global"}],DisplayComponent:[function(t,e,i){"use strict";cc._RF.push(e,"58d47If2GhGeqoNwEfZuLJi","DisplayComponent");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),a=this&&this.__decorate||function(t,e,i,n){var o,a=arguments.length,s=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var r=t.length-1;r>=0;r--)(o=t[r])&&(s=(a<3?o(s):a>3?o(e,i,s):o(e,i))||s);return a>3&&s&&Object.defineProperty(e,i,s),s};Object.defineProperty(i,"__esModule",{value:!0}),i.DisplayComponent=void 0;var s=cc._decorator,r=s.ccclass,c=s.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.isActive=!0,e.nodeArray=[],e.backNodeArray=[],e}return o(e,t),e.prototype.onLoad=function(){var t=this;this.nodeArray.forEach(function(e){e&&(e.active=t.isActive)}),this.backNodeArray.forEach(function(e){e&&(e.active=!t.isActive)})},e.prototype.showAction=function(){this.node.active=!0,this.nodeArray.forEach(function(t){t&&(t.active=!0)}),this.backNodeArray.forEach(function(t){t&&(t.active=!1)})},e.prototype.hideAction=function(){this.nodeArray.forEach(function(t){t&&(t.active=!1)}),this.backNodeArray.forEach(function(t){t&&(t.active=!0)})},e.prototype.toggleAction=function(){this.nodeArray.forEach(function(t){t&&(t.active=!t.active)}),this.backNodeArray.forEach(function(t){t&&(t.active=!t.active)})},a([c({displayName:"\u521d\u59cb\u662f\u5426\u663e\u793a"})],e.prototype,"isActive",void 0),a([c({displayName:"\u63a7\u5236\u5bf9\u8c61",type:cc.Node})],e.prototype,"nodeArray",void 0),a([c({displayName:"\u63a7\u5236\u76f8\u53cd\u5bf9\u8c61",type:cc.Node})],e.prototype,"backNodeArray",void 0),a([r],e)}(cc.Component);i.DisplayComponent=l,cc._RF.pop()},{}],DmgMgr:[function(t,e,i){"use strict";cc._RF.push(e,"d3108XB2NtEdobVkz4jN97G","DmgMgr");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),a=this&&this.__decorate||function(t,e,i,n){var o,a=arguments.length,s=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var r=t.length-1;r>=0;r--)(o=t[r])&&(s=(a<3?o(s):a>3?o(e,i,s):o(e,i))||s);return a>3&&s&&Object.defineProperty(e,i,s),s};Object.defineProperty(i,"__esModule",{value:!0});var s=cc._decorator,r=s.ccclass,c=s.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.dmgPrefab=null,e.normFont=null,e.CRFont=null,e.dmgEvent=null,e.count=10,e}return o(e,t),e.prototype.start=function(){this.dmgPool=new cc.NodePool;for(var t=0;t<this.count;t++){var e=cc.instantiate(this.dmgPrefab);this.dmgPool.put(e)}cc.director.on("dmgGC",this.GCAll,this),cc.director.on("showdmg",this.showDmg,this)},e.prototype.showDmg=function(t,e,i,n){var o=this,a=this.create();a.parent=this.dmgEvent;var s=a.getComponent(cc.Label),r=30*Math.random()-30;s.fontSize=40,s.font=this.normFont,a.scale=.3,i&&(r=40+60*Math.random(),s.fontSize=45,s.font=this.CRFont),n&&(r=0),a.position=cc.v3(e,r),i?(s.string="\u66b4"+2*t,cc.tween(a).parallel(cc.tween(a).by(.5,{y:90}),cc.tween(a).to(.3,{scale:1.1}).delay(.2)).call(function(){s.string="",o.recycle(a)}).start()):(s.string="-"+t,cc.tween(a).parallel(cc.tween(a).by(.3,{y:70}),cc.tween(a).to(.1,{scale:1.2}).delay(.2).to(.1,{scale:0})).call(function(){s.string="",o.recycle(a)}).start())},e.prototype.create=function(){return this.dmgPool.size()>0?this.dmgPool.get():cc.instantiate(this.dmgPrefab)},e.prototype.GCAll=function(){for(var t=this.dmgEvent.children,e=t.length-1;e>=0;e--)this.recycle(t[e])},e.prototype.recycle=function(t){this.dmgPool.put(t)},e.prototype.update=function(){this.startDate=Date.now()},e.prototype.onDestroy=function(){cc.director.off("dmgGC",this.GCAll,this),cc.director.off("showdmg",this.showDmg,this)},a([c(cc.Prefab)],e.prototype,"dmgPrefab",void 0),a([c(cc.Font)],e.prototype,"normFont",void 0),a([c(cc.Font)],e.prototype,"CRFont",void 0),a([c(cc.Node)],e.prototype,"dmgEvent",void 0),a([r],e)}(cc.Component);i.default=l,cc._RF.pop()},{}],DragComponent:[function(t,e,i){"use strict";cc._RF.push(e,"a74edzeHQJAIpYpqhaxGsqt","DragComponent");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),a=this&&this.__decorate||function(t,e,i,n){var o,a=arguments.length,s=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var r=t.length-1;r>=0;r--)(o=t[r])&&(s=(a<3?o(s):a>3?o(e,i,s):o(e,i))||s);return a>3&&s&&Object.defineProperty(e,i,s),s};Object.defineProperty(i,"__esModule",{value:!0}),i.DragComponent=i.DragDir=void 0;var s,r=t("./DragUtils"),c=t("./DragDropContainer"),l=cc._decorator,p=l.ccclass,u=l.property;(function(t){t[t.NONE=0]="NONE",t[t["\u5de6\u53f3"]=1]="\u5de6\u53f3",t[t["\u4e0a\u4e0b"]=2]="\u4e0a\u4e0b"})(s=i.DragDir||(i.DragDir={}));var h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.dragType="",e.dragValue="",e.isOriginDrag=!0,e.limit=s.NONE,e.dragLimitNode=null,e.dropedHide=!0,e.dropedStatic=!1,e.dragImage=null,e.isDropParent=!1,e.isBackPos=!1,e.isChangeParent=!1,e.dropFailNoBack=!1,e.dragStart=[],e.dropFail=[],e.canTouch=!1,e.canDrag=!0,e.startPos=new cc.Vec3,e.originPos=new cc.Vec3,e.dropInfo={target:e,drop:null},e}return o(e,t),e.prototype.onLoad=function(){this.sprite=this.node.getComponent(cc.Sprite)||this.node.getComponentInChildren(cc.Sprite),this.sprite&&(this.originFrame=this.sprite.spriteFrame.clone()),cc.Vec3.copy(this.originPos,this.node.position),this.initEvent(),this.parentNode=this.node.parent,this.originIndex=this.node.getSiblingIndex()},e.prototype.getContainer=function(){return this.container||(this.container=cc.director.getScene().getComponentInChildren(c.DragDropContainer)),this.container},e.prototype.getOriginParent=function(){return this.parentNode},e.prototype.initEvent=function(){this.node.on(cc.Node.EventType.TOUCH_START,this.onTouchStart,this),this.node.on(cc.Node.EventType.TOUCH_MOVE,this.onTouchMove,this),this.node.on(cc.Node.EventType.TOUCH_END,this.onTouchEnd,this),this.node.on(cc.Node.EventType.TOUCH_CANCEL,this.onTouchEnd,this),this.node.on(r.onDrop,this.onDrop,this),this.node.on(r.dragBack,this.onDragBack,this)},e.prototype.changeParent=function(t){var e=this.node.parent.convertToWorldSpaceAR(this.node.position);if(this.getContainer().suspension&&!this.isChangeParent)if(t){var i=this.getContainer().suspension.convertToNodeSpaceAR(e);this.node.parent=this.getContainer().suspension,this.node.setPosition(i)}else i=this.parentNode.convertToNodeSpaceAR(e),this.node.parent=this.parentNode,this.node.setPosition(i),this.node.setSiblingIndex(this.originIndex)},e.prototype.changeImage=function(t){this.sprite&&this.dragImage&&(this.sprite.spriteFrame=t?this.dragImage:this.originFrame)},e.prototype.onTouchStart=function(t){if(this.isOriginDrag&&this.canDrag){this.canTouch=!0;var e=t.getLocation();this.startPos.set(cc.v3(e.x,e.y,this.startPos.z)),this.node.emit(r.dragStart,{touchEvent:t,drag:this}),this.changeParent(!0),this.changeImage(!0),cc.Component.EventHandler.emitEvents(this.dragStart),this.getContainer().node.emit(r.dragStart,this)}},e.prototype.getDragDelta=function(t){var e=this.node.position.clone();switch(this.limit){case s.NONE:e.x+=t.x,e.y+=t.y;break;case s.\u4e0a\u4e0b:e.y+=t.y;break;case s.\u5de6\u53f3:e.x+=t.x}if(this.dragLimitNode){var i=this.dragLimitNode.getContentSize(),n=this.node.parent.convertToNodeSpaceAR(this.dragLimitNode.parent.convertToWorldSpaceAR(this.dragLimitNode.position)),o=n.y+i.height/2,a=n.x+i.width/2,r=n.y-i.height/2,c=n.x-i.width/2;e.x>a&&(e.x=a),e.x<c&&(e.x=c),e.y>o&&(e.y=o),e.y<r&&(e.y=r)}return e},e.prototype.onTouchMove=function(t){if(this.isOriginDrag&&this.canDrag&&this.canTouch){var e=t.getDelta();t.getLocation(),this.node.setPosition(this.getDragDelta(e))}},e.prototype.onTouchEnd=function(t){this.isOriginDrag&&this.canDrag&&this.canTouch&&(this.canTouch=!1,this.node.emit(r.dragEnd,{touchEvent:t,drag:this}),this.changeImage(!1),this.getContainer().node.emit(r.dragEnd,{touchEvent:t,drag:this}))},e.prototype.onDrop=function(){var t=this;this.dropedHide&&(this.node.active=!1),this.dropedStatic&&(this.canDrag=!1),this.isBackPos&&this.scheduleOnce(function(){t.resetDrag()})},e.prototype.onDragBack=function(t){this.node.emit("drag_back",t),this.dropFailNoBack||this.resetDrag(),cc.Component.EventHandler.emitEvents(this.dropFail),this.getContainer().dropFail&&cc.Component.EventHandler.emitEvents(this.getContainer().dropFail)},e.prototype.backToOrigin=function(){this.changeParent(!1)},e.prototype.changePosition=function(t){var e=this.node.parent.convertToNodeSpaceAR(t);this.node.setPosition(e)},e.prototype.resetDrag=function(){this.node.parent=this.parentNode,this.node.setPosition(this.originPos),this.node.setSiblingIndex(this.originIndex)},e.prototype.changeOriginCanDrag=function(){this.isOriginDrag=!0},e.prototype.changeOriginNotDrag=function(){this.isOriginDrag=!1},e.prototype.notDragFunc=function(){this.canDrag=!1},e.prototype.canDragFunc=function(){this.canDrag=!0},e.prototype.changeOriginPos=function(){cc.Vec3.copy(this.originPos,this.node.position)},e.prototype.changeOriginParent=function(){this.parentNode=this.node.parent},e.prototype.setDropCom=function(t){this.dropInfo.drop=t},a([u({displayName:"\u5438\u9644\u7c7b\u578b"})],e.prototype,"dragType",void 0),a([u({displayName:"\u503c"})],e.prototype,"dragValue",void 0),a([u({displayName:"\u662f\u5426\u53ef\u62d6\u52a8"})],e.prototype,"isOriginDrag",void 0),a([u({displayName:"\u62d6\u52a8\u9650\u5236",type:cc.Enum(s)})],e.prototype,"limit",void 0),a([u({displayName:"\u8303\u56f4",type:cc.Node})],e.prototype,"dragLimitNode",void 0),a([u({displayName:"\u662f\u5426\u6d88\u5931"})],e.prototype,"dropedHide",void 0),a([u({displayName:"\u4e0d\u80fd\u518d\u62d6\u52a8"})],e.prototype,"dropedStatic",void 0),a([u({displayName:"\u62d6\u62fd\u65f6\u56fe\u7247",type:cc.SpriteFrame})],e.prototype,"dragImage",void 0),a([u({displayName:"\u8f6c\u79fb\u5230\u653e\u7f6e\u533a"})],e.prototype,"isDropParent",void 0),a([u({displayName:"\u56de\u5230\u539f\u4f4d\u7f6e"})],e.prototype,"isBackPos",void 0),a([u({displayName:"\u62d6\u52a8\u4e0d\u6362\u8282\u70b9"})],e.prototype,"isChangeParent",void 0),a([u],e.prototype,"dropFailNoBack",void 0),a([u({displayName:"\u62d6\u62fd\u5f00\u59cb",type:cc.Component.EventHandler})],e.prototype,"dragStart",void 0),a([u({displayName:"\u5438\u9644\u5931\u8d25",type:cc.Component.EventHandler})],e.prototype,"dropFail",void 0),a([p],e)}(cc.Component);i.DragComponent=h,cc._RF.pop()},{"./DragDropContainer":"DragDropContainer","./DragUtils":"DragUtils"}],DragDropContainer:[function(t,e,i){"use strict";cc._RF.push(e,"ae711ZzbINNsKguZTnCG2J9","DragDropContainer");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),a=this&&this.__decorate||function(t,e,i,n){var o,a=arguments.length,s=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var r=t.length-1;r>=0;r--)(o=t[r])&&(s=(a<3?o(s):a>3?o(e,i,s):o(e,i))||s);return a>3&&s&&Object.defineProperty(e,i,s),s};Object.defineProperty(i,"__esModule",{value:!0}),i.DragDropContainer=i.ContainType=void 0;var s,r=t("./DropComponent"),c=t("./DragUtils"),l=cc._decorator,p=l.ccclass,u=l.property;(function(t){t[t["\u5305\u56f4\u76d2\u76f8\u4ea4"]=0]="\u5305\u56f4\u76d2\u76f8\u4ea4",t[t["\u4e2d\u5fc3\u70b9\u62d6\u5165"]=1]="\u4e2d\u5fc3\u70b9\u62d6\u5165"})(s=i.ContainType||(i.ContainType={}));var h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.suspension=null,e.containType=s.\u5305\u56f4\u76d2\u76f8\u4ea4,e.dropFail=[],e.dropArray=[],e.curDragCom=null,e.curDropCom=null,e}return o(e,t),e.prototype.onLoad=function(){this.dropArray=this.getComponentsInChildren(r.DropComponent),this.initEvent()},e.prototype.initEvent=function(){var t=this;this.node.on(c.dragStart,function(e){t.curDragCom=e}),this.node.on(c.dragEnd,function(e){t.onDragEnd(e)})},e.prototype.onDragEnd=function(t){this.curDropCom?(this.curDropCom.node.emit(c.onDrop,t),this.curDropCom=null,this.node.emit(c.onDrop,t)):this.curDragCom&&this.curDragCom.node.emit(c.dragBack,t),this.curDragCom=null},e.prototype.checkDrop=function(){for(var t=this.curDragCom.node.parent.convertToWorldSpaceAR(this.curDragCom.node.position),e=cc.v2(t.x,t.y),i=this.curDragCom.node.getBoundingBoxToWorld(),n=null,o=0;o<this.dropArray.length;o++)if((n=this.dropArray[o])&&n.node&&n.node.activeInHierarchy&&n.canDrop&&n.dragType==this.curDragCom.dragType)if(s.\u4e2d\u5fc3\u70b9\u62d6\u5165==this.containType){if(n.node.getBoundingBoxToWorld().contains(e))return n}else if(this.curDragCom.node.getBoundingBoxToWorld().intersects(i))return n;return null},e.prototype.update=function(){if(this.curDragCom){var t=this.checkDrop();t?this.curDropCom?this.curDropCom!=t&&(this.curDropCom.node.emit(c.dropLeave),t.node.emit(c.dropOver),this.curDropCom=t):(this.curDropCom=t,this.curDropCom.node.emit(c.dropOver)):this.curDropCom&&(this.curDropCom.node.emit(c.dropLeave),this.curDropCom=null)}},a([u({displayName:"\u60ac\u6d6e\u5c42",type:cc.Node})],e.prototype,"suspension",void 0),a([u({type:cc.Enum(s)})],e.prototype,"containType",void 0),a([u({displayName:"\u653e\u7f6e\u5931\u8d25",type:cc.Component.EventHandler})],e.prototype,"dropFail",void 0),a([p],e)}(cc.Component);i.DragDropContainer=h,cc._RF.pop()},{"./DragUtils":"DragUtils","./DropComponent":"DropComponent"}],DragUtils:[function(t,e,i){"use strict";cc._RF.push(e,"1bc40wGCVVJJ43BOwJ5Lvdx","DragUtils"),Object.defineProperty(i,"__esModule",{value:!0}),i.dragBack=i.dragEnd=i.dragStart=i.dropLeave=i.dropOver=i.onDrop=void 0,i.onDrop="onDrop",i.dropOver="drop-over",i.dropLeave="drop-leave",i.dragStart="drag-start",i.dragEnd="drag-end",i.dragBack="drag-back",cc._RF.pop()},{}],Draggable:[function(t,e,i){"use strict";cc._RF.push(e,"9c5f6k3ARVFdYJ4PN3JUwf+","Draggable");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),a=this&&this.__decorate||function(t,e,i,n){var o,a=arguments.length,s=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var r=t.length-1;r>=0;r--)(o=t[r])&&(s=(a<3?o(s):a>3?o(e,i,s):o(e,i))||s);return a>3&&s&&Object.defineProperty(e,i,s),s};Object.defineProperty(i,"__esModule",{value:!0}),i.Draggable=i.DragDir=void 0;var s,r=t("./DragUtils"),c=cc._decorator,l=c.ccclass,p=c.property;(function(t){t[t.NONE=0]="NONE",t[t["\u5de6\u53f3"]=1]="\u5de6\u53f3",t[t["\u4e0a\u4e0b"]=2]="\u4e0a\u4e0b"})(s=i.DragDir||(i.DragDir={}));var u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.isOriginDrag=!0,e.limit=s.NONE,e.dragLimitNode=null,e.dragImage=null,e.suspension=null,e.isJudge=!1,e.judgePosArray=[],e.dragGap=10,e.isChangeParent=!1,e.dragStart=[],e.canDrag=!0,e.originPos=new cc.Vec3,e.judgeArray=[],e}return o(e,t),e.prototype.onLoad=function(){this.sprite=this.node.getComponent(cc.Sprite)||this.node.getComponentInChildren(cc.Sprite),this.sprite&&(this.originFrame=this.sprite.spriteFrame.clone()),this.initEvent(),this.initData()},e.prototype.initData=function(){cc.Vec3.copy(this.originPos,this.node.position),this.parentNode=this.node.parent,this.originIndex=this.node.getSiblingIndex()},e.prototype.getOriginParent=function(){return this.parentNode},e.prototype.setJudgePos=function(t){this.judgeArray=[],this.judgeArray=t},e.prototype.setJudgeRect=function(t){this.judgeRect=t},e.prototype.initEvent=function(){this.node.on(cc.Node.EventType.TOUCH_START,this.onTouchStart,this),this.node.on(cc.Node.EventType.TOUCH_MOVE,this.onTouchMove,this),this.node.on(cc.Node.EventType.TOUCH_END,this.onTouchEnd,this),this.node.on(cc.Node.EventType.TOUCH_CANCEL,this.onTouchEnd,this)},e.prototype.changeParent=function(t){var e=this.node.parent.convertToWorldSpaceAR(this.node.position);if(this.suspension&&!this.isChangeParent)if(t){var i=this.suspension.convertToNodeSpaceAR(e);this.node.parent=this.suspension,this.node.setPosition(i)}else i=this.parentNode.convertToNodeSpaceAR(e),this.node.parent=this.parentNode,this.node.setPosition(i),this.node.setSiblingIndex(this.originIndex)},e.prototype.changeImage=function(t){this.sprite&&this.dragImage&&(this.sprite.spriteFrame=t?this.dragImage:this.originFrame)},e.prototype.onTouchStart=function(t){this.isOriginDrag&&this.canDrag&&(this.node.emit(r.dragStart,{touchEvent:t,drag:this}),this.changeParent(!0),this.changeImage(!0),cc.Component.EventHandler.emitEvents(this.dragStart))},e.prototype.getDragDelta=function(t){var e=this.node.position.clone();switch(this.limit){case s.NONE:e.x+=t.x,e.y+=t.y;break;case s.\u4e0a\u4e0b:e.y+=t.y;break;case s.\u5de6\u53f3:e.x+=t.x}if(this.dragLimitNode){var i=this.dragLimitNode.getContentSize(),n=this.node.parent.convertToNodeSpaceAR(this.dragLimitNode.parent.convertToWorldSpaceAR(this.dragLimitNode.position)),o=n.y+i.height/2,a=n.x+i.width/2,r=n.y-i.height/2,c=n.x-i.width/2;e.x>a&&(e.x=a),e.x<c&&(e.x=c),e.y>o&&(e.y=o),e.y<r&&(e.y=r)}return e},e.prototype.onTouchMove=function(t){if(this.isOriginDrag&&this.canDrag){var e=t.getDelta();this.node.setPosition(this.getDragDelta(e));var i=t.getLocation();this.isJudge&&(this.judgePos(i)?this.node.emit("change_state"):this.node.emit("recover_state"))}},e.prototype.judgePos=function(t){for(var e=cc.v2(t),i=0;i<this.judgePosArray.length;i++)if(cc.Vec2.distance(this.judgePosArray[i],e)<=this.dragGap)return cc.v3(this.judgePosArray[i]);for(i=0;i<this.judgeArray.length;i++)if(cc.Vec2.distance(this.judgeArray[i],e)<=this.dragGap)return cc.v3(this.judgeArray[i]);return this.judgeRect&&cc.Intersection.rectRect(this.judgeRect,this.node.getBoundingBoxToWorld())?this.node.parent.convertToNodeSpaceAR(cc.v3(this.judgeRect.x+this.judgeRect.width/2,this.judgeRect.y+this.judgeRect.height/2)):null},e.prototype.onTouchEnd=function(t){if(this.isOriginDrag&&this.canDrag){this.node.emit(r.dragEnd,{touchEvent:t,drag:this}),this.changeImage(!1);var e=t.getLocation();if(this.isJudge){var i=this.judgePos(e);i?(this.node.setPosition(i),cc.director.emit("drag_judge_success")):this.resetDrag()}else this.resetDrag()}},e.prototype.resetDrag=function(){this.node.parent=this.parentNode,this.node.setPosition(this.originPos),this.node.setSiblingIndex(this.originIndex)},e.prototype.changeOriginCanDrag=function(){this.isOriginDrag=!0},e.prototype.changeOriginNotDrag=function(){this.isOriginDrag=!1},e.prototype.notDragFunc=function(){this.canDrag=!1},e.prototype.canDragFunc=function(){this.canDrag=!0},a([p({displayName:"\u662f\u5426\u53ef\u62d6\u52a8"})],e.prototype,"isOriginDrag",void 0),a([p({displayName:"\u62d6\u52a8\u9650\u5236",type:cc.Enum(s)})],e.prototype,"limit",void 0),a([p({displayName:"\u8303\u56f4",type:cc.Node})],e.prototype,"dragLimitNode",void 0),a([p({displayName:"\u62d6\u62fd\u65f6\u56fe\u7247",type:cc.SpriteFrame})],e.prototype,"dragImage",void 0),a([p({displayName:"\u62d6\u52a8\u65f6\u5019\u7236\u8282\u70b9",type:cc.Node})],e.prototype,"suspension",void 0),a([p({displayName:"\u7ed3\u675f\u65f6\u5224\u65ad\u4f4d\u7f6e"})],e.prototype,"isJudge",void 0),a([p({displayName:"\u7ed3\u675f\u65f6\u4f4d\u7f6e",type:cc.Vec3,visible:function(){return this.isJudge}})],e.prototype,"judgePosArray",void 0),a([p({displayName:"\u5dee\u8ddd",visible:function(){return this.isJudge}})],e.prototype,"dragGap",void 0),a([p({displayName:"\u62d6\u52a8\u4e0d\u6362\u8282\u70b9"})],e.prototype,"isChangeParent",void 0),a([p({displayName:"\u62d6\u62fd\u5f00\u59cb",type:cc.Component.EventHandler})],e.prototype,"dragStart",void 0),a([l],e)}(cc.Component);i.Draggable=u,cc._RF.pop()},{"./DragUtils":"DragUtils"}],DropComponent:[function(t,e,i){"use strict";cc._RF.push(e,"6b730D0fDRGgqIBmC8U+RVy","DropComponent");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),a=this&&this.__assign||function(){return(a=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var o in e=arguments[i])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},s=this&&this.__decorate||function(t,e,i,n){var o,a=arguments.length,s=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var r=t.length-1;r>=0;r--)(o=t[r])&&(s=(a<3?o(s):a>3?o(e,i,s):o(e,i))||s);return a>3&&s&&Object.defineProperty(e,i,s),s};Object.defineProperty(i,"__esModule",{value:!0}),i.DropComponent=void 0;var r=t("./DragUtils"),c=cc._decorator,l=c.ccclass,p=c.property,u=function(){function t(){this.canDrop=!0,this.dragValue="",this.dropFinish=[],this.canDragOnce=!1,this.againEvent=[],this.dragFinish=!1}return s([p({displayName:"\u662f\u5426\u53ef\u5438\u9644"})],t.prototype,"canDrop",void 0),s([p({displayName:"\u5438\u9644\u7684\u503c"})],t.prototype,"dragValue",void 0),s([p({type:cc.Component.EventHandler})],t.prototype,"dropFinish",void 0),s([p({displayName:"\u53ea\u53ef\u62d6\u5165\u4e00\u6b21",visible:function(){return this.canDrop}})],t.prototype,"canDragOnce",void 0),s([p({displayName:"\u518d\u6b21\u62d6\u5165\u4e8b\u4ef6",type:cc.Component.EventHandler,visible:function(){return this.canDrop&&this.canDragOnce}})],t.prototype,"againEvent",void 0),s([l("DropTypeEvent")],t)}(),h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.dragType="",e.dropValue="",e.dropEvents=[],e.dropOverEvents=[],e.dropLeaveEvents=[],e.canDrop=!0,e.dropTypeEvent=[],e.dropHide=!1,e.dropEventObj={},e}return o(e,t),e.prototype.onLoad=function(){this.dropEvent(),this.node.on(r.onDrop,this.onDrop,this),this.node.on(r.dropOver,this.onDropOver,this),this.node.on(r.dropLeave,this.onDropLeave,this)},e.prototype.dropEvent=function(){var t=this;this.dropTypeEvent.forEach(function(e){e.dragValue.split("&").forEach(function(i){i&&(t.dropEventObj[i]=e)})})},e.prototype.onDrop=function(t){if(this.node.childrenCount>0)t.drag.node.emit(r.dragBack);else{if(this.dropTypeEvent.length){var e=this.dropEventObj[t.drag.dragValue];if(!e)return void t.drag.node.emit(r.dragBack,t);if(!e.canDrop)return cc.Component.EventHandler.emitEvents(e.dropFinish),void t.drag.node.emit(r.dragBack,t);if(e.dragFinish&&e.canDragOnce)return cc.Component.EventHandler.emitEvents(e.againEvent),void t.drag.node.emit(r.dragBack,t);e.dragFinish=!0,cc.Component.EventHandler.emitEvents(e.dropFinish)}t.drag.node.emit(r.onDrop,t),cc.Component.EventHandler.emitEvents(this.dropEvents),t.drag.changePosition(this.node.parent.convertToWorldSpaceAR(this.node.position)),t.drag.isDropParent&&(t.drag.node.parent=this.node,t.drag.node.setPosition(0,0)),this.node.emit("singleDone",a(a({},t),{name:t.drag.dragValue})),this.dropHide&&(this.node.active=!1)}},e.prototype.onDropOver=function(){cc.Component.EventHandler.emitEvents(this.dropOverEvents)},e.prototype.onDropLeave=function(){cc.Component.EventHandler.emitEvents(this.dropLeaveEvents)},e.prototype.canDropFunc=function(){this.canDrop=!0},e.prototype.canNotDropFunc=function(){this.canDrop=!1},s([p({displayName:"\u5438\u9644\u7c7b\u578b"})],e.prototype,"dragType",void 0),s([p({displayName:"\u503c"})],e.prototype,"dropValue",void 0),s([p({displayName:"\u6210\u529f\u52a8\u4f5c",type:cc.Component.EventHandler})],e.prototype,"dropEvents",void 0),s([p({displayName:"\u5230\u653e\u7f6e\u533a\u7684\u52a8\u4f5c",type:cc.Component.EventHandler})],e.prototype,"dropOverEvents",void 0),s([p({displayName:"\u8d70\u7684\u52a8\u4f5c",type:cc.Component.EventHandler})],e.prototype,"dropLeaveEvents",void 0),s([p({displayName:"\u662f\u5426\u53ef\u4ee5\u653e\u7f6e"})],e.prototype,"canDrop",void 0),s([p({displayName:"\u5438\u9644\u5224\u65ad",type:u})],e.prototype,"dropTypeEvent",void 0),s([p({displayName:"\u653e\u7f6e\u540e\u6d88\u5931"})],e.prototype,"dropHide",void 0),s([l],e)}(cc.Component);i.DropComponent=h,cc._RF.pop()},{"./DragUtils":"DragUtils"}],EN:[function(t,e,i){"use strict";cc._RF.push(e,"38f0fO59LJN67DxzSuT9t2I","EN"),Object.defineProperty(i,"__esModule",{value:!0}),i.default={endHome:"Home"},cc._RF.pop()},{}],EquipmentDialog:[function(t,e,i){"use strict";cc._RF.push(e,"b36adnybMlAqaSxIynHjHhW","EquipmentDialog");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),a=this&&this.__decorate||function(t,e,i,n){var o,a=arguments.length,s=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var r=t.length-1;r>=0;r--)(o=t[r])&&(s=(a<3?o(s):a>3?o(e,i,s):o(e,i))||s);return a>3&&s&&Object.defineProperty(e,i,s),s};Object.defineProperty(i,"__esModule",{value:!0});var s=t("../TextureMgr"),r=t("../nativets/Config"),c=t("../i18n/Language"),l=t("../Hero/HeroGlobal"),p=t("../Audio"),u=t("../Tool/Statistics"),h=t("../DataMgr"),d=t("../Hall/Message"),f=t("../GameUtils"),m=cc._decorator.ccclass,g=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.init=function(t){this.equipCom=t,this.icon=this.node.getChildByName("icon").getComponent(cc.Sprite),this.lvBg=this.node.getChildByName("lvbg").getComponent(cc.Sprite),this.soulIcon=this.node.getChildByName("soulicon").getComponent(cc.Sprite),this.nameLabel=this.node.getChildByName("name").getComponent(cc.Label),this.lvLabel=this.node.getChildByName("lv").getComponent(cc.Label),this.equipLabel=this.node.getChildByName("textequip").getComponent(cc.Label),this.textLabel0=this.node.getChildByName("text0").getComponent(cc.Label),this.textLabel1=this.node.getChildByName("text1").getComponent(cc.Label),this.textLabel2=this.node.getChildByName("text2").getComponent(cc.Label),this.upBtn=this.node.getChildByName("up").getComponent(cc.Button),this.priceLabel=this.upBtn.node.getChildByName("coins").getComponent(cc.Label),this.recycleBtn=this.node.getChildByName("recycle").getComponent(cc.Button),this.equipBtn=this.node.getChildByName("equip").getComponent(cc.Button),this.unEquipBtn=this.node.getChildByName("unequip").getComponent(cc.Button)},e.prototype.setButtonState=function(t){this.equipBtn.node.active=!t,this.equipBtn.node.active=t},e.prototype.onOpen=function(t){this.typeIndex=this.equipCom.titleIndex+1,this.id=t,this.icon.spriteFrame=s.default.instance.getEquipmentIconById(t),this.lvBg.spriteFrame=s.default.instance.getLvIconById(t),-1!=this.equipCom.equippedAttrs.indexOf(t)?this.setEquipState(!0):this.setEquipState(!1);var e=r.getDataById(t);this.nameLabel.string=e.name;var i=r.getUpgradeId(t);this.lvLabel.string=c.default.lv+(i+1),this.equipPrice=parseFloat(e.price)+i*parseFloat(e.priceup),this.priceLabel.string=this.equipPrice+"";var n="";e.atk&&(n+=c.default.equipmentAtk+"+"+(parseFloat(e.atk)+i*parseFloat(e.atkup))+"\n"),e.def&&(n+=c.default.equipmentDef+"+"+(parseFloat(e.def)+i*parseFloat(e.defup))),this.textLabel0.string=n;var o="";e.hp&&(o+=c.default.equipmentHp+"+"+(parseFloat(e.hp)+i*parseFloat(e.hpup)).toFixed(1)+"        "),e.ls&&(o+=c.default.equipmentLs+"+"+(parseFloat(e.ls)+i*parseFloat(e.lsup)).toFixed(1)+"%        "),e.sp&&(o+=c.default.equipmentSp+"+"+(parseFloat(e.sp)+i*parseFloat(e.spup)).toFixed(1)+"%        "),e.cr&&(o+=c.default.equipmentCr+"+"+(parseFloat(e.cr)+i*parseFloat(e.crup)).toFixed(1)+"%        "),e.arp&&(o+=c.default.equipmentArp+"+"+(parseFloat(e.arp)+i*parseFloat(e.arpup)).toFixed(1)+"        "),e.bonus&&(o+=c.default.equipmentBonus+"+"+(parseFloat(e.bonus)+i*parseFloat(e.bonusup)).toFixed(1)+"%        "),e.cd&&(o+=c.default.equipmentCd+"-"+(parseFloat(e.cd)+i*parseFloat(e.cdup)).toFixed(1)+"%        "),e.miss&&(o+=c.default.equipmentMiss+"+"+(parseFloat(e.miss)+i*parseFloat(e.missup)).toFixed(1)+"%        "),e.exp&&(o+=c.default.equipmentExp+"+"+(parseFloat(e.exp)+i*parseFloat(e.expup)).toFixed(1)+"%        "),e.gold&&(o+=c.default.equipmentGold+"+"+(parseFloat(e.gold)+i*parseFloat(e.goldup)).toFixed(1)+"%        "),this.textLabel1.string=o;var a="",l=r.getSoulId(t);if(0==l)a=c.default.textNull,this.soulIcon.spriteFrame=null;else{var p=r.getSoulDataById(l-1);this.nameLabel.string=p.name+"\xb7"+this.nameLabel.string,this.soulIcon.spriteFrame=s.default.instance.getSoulIconById(p.id),p.atk&&(a+=c.default.equipmentAtk+"+"+p.atk+"        "),p.def&&(a+=c.default.equipmentDef+"+"+p.def+"        "),p.hp&&(a+=c.default.equipmentHp+"+"+p.hp+"        "),p.ls&&(a+=c.default.equipmentLs+"+"+p.ls+"%        "),p.sp&&(a+=c.default.equipmentSp+"+"+p.sp+"%        "),p.cr&&(a+=c.default.equipmentCr+"+"+p.cr+"%        "),p.arp&&(a+=c.default.equipmentArp+"+"+p.arp+"        "),p.bonus&&(a+=c.default.equipmentBonus+"+"+p.bonus+"%        "),p.cd&&(a+=c.default.equipmentCd+"-"+p.cd+"%        "),p.miss&&(a+=c.default.equipmentMiss+"+"+p.miss+"%        "),p.exp&&(a+=c.default.equipmentExp+"+"+p.exp+"%        "),p.gold&&(a+=c.default.equipmentGold+"+"+p.gold+"%        ")}this.textLabel2.string=a,this.node.active=!0},e.prototype.onBtnEquip=function(){p.default.instance.playAudio("BtnClick"),this.onEquip()},e.prototype.onEquip=function(){l.default.instance.getDataAttrsByIndex(this.typeIndex).indexOf(this.id),l.default.instance.HeroDataAttr[this.equipCom.menuSelectCom.selectIndex].setEquip(this.typeIndex,this.id),this.setEquipState(!0),this.equipCom.refreshTitle()},e.prototype.onBtnUneuquip=function(){p.default.instance.playAudio("BtnClick"),this.onUnEquip()},e.prototype.onUnEquip=function(){l.default.instance.HeroDataAttr[this.equipCom.menuSelectCom.selectIndex].setEquip(this.typeIndex,-1),this.setEquipState(!1),this.equipCom.refreshTitle()},e.prototype.setEquipState=function(t){this.isEquipped=t,this.equipIndex=l.default.instance.getDataAttrsByIndex(this.typeIndex).indexOf(this.id),this.equipLabel.string=1==t?c.default.equiped:c.default.notEquip,this.equipBtn.node.active=!t,this.unEquipBtn.node.active=t,t&&(this.unEquipBtn.interactable=this.typeIndex>2)},e.prototype.onBtnWeaponToSoul=function(){p.default.instance.playAudio("BtnClick"),this.equipCom.equipmentNode.active=!1,this.equipCom.listIndex=3,this.equipCom.soulNode.active=!0,this.equipCom.soulDialog.active=!1,this.equipCom.soulHC.active=!1,this.equipCom.soulFM.active=!0,this.equipCom.soulEnchantAttrs[0]=this.id,this.equipCom.fmIcon0.spriteFrame=this.icon.spriteFrame,this.equipCom.fmlv.spriteFrame=this.lvBg.spriteFrame,this.equipCom.menuSelectCom.node.active=!1,cc.director.emit("hall_left",!1)},e.prototype.onBtnUpgrade=function(){p.default.instance.playAudio("BtnClick"),r.getUpgradeId(this.id)>=19||(l.default.instance.Coins>this.equipPrice?(l.default.instance.Coins-=this.equipPrice,l.default.instance.setCoins(l.default.instance.Coins),this.onUpgrade(),cc.director.emit("daily_reward",f.DailyAward.Total,0),l.default.instance.saveHeroGlobal(),u.default.getInstance().reportEvent("\u5347\u7ea7\u88c5\u5907")):d.default.instance.showLack("coins"))},e.prototype.onUpgrade=function(){h.default.instance.taskCountData[6]++,h.default.instance.saveSaveDate(),l.default.instance.AchieveCountData[6]++;var t=r.getUpgradeId(this.id);if(!(t>=19)){var e=++t>9?""+t:"0"+t,i=parseInt(this.id.toString().substring(0,7)+e);cc.log(t,e,i,"TITLEINDEX",this.equipCom.titleIndex);var n=l.default.instance.getDataAttrsByIndex(this.typeIndex).indexOf(this.id);switch(this.equipCom.titleIndex){case 0:l.default.instance.WeaponAttrs[n]=i;break;case 1:l.default.instance.ArmorAttrs[n]=i;break;case 2:l.default.instance.RingAttrs[n]=i;break;case 3:l.default.instance.OrnamentAttrs[n]=i;break;case 4:l.default.instance.WingAttrs[n]=i}l.default.instance.saveEquipmentAttrs(),this.isEquipped&&l.default.instance.HeroDataAttr[this.equipCom.menuSelectCom.selectIndex].setEquip(this.typeIndex,i),this.onOpen(i)}},a([m],e)}(cc.Component);i.default=g,cc._RF.pop()},{"../Audio":"Audio","../DataMgr":"DataMgr","../GameUtils":"GameUtils","../Hall/Message":"Message","../Hero/HeroGlobal":"HeroGlobal","../TextureMgr":"TextureMgr","../Tool/Statistics":"Statistics","../i18n/Language":"Language","../nativets/Config":"Config"}],Equipment:[function(t,e,i){"use strict";cc._RF.push(e,"cd38dudBPhMzKi4HueOskWZ","Equipment");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),a=this&&this.__decorate||function(t,e,i,n){var o,a=arguments.length,s=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var r=t.length-1;r>=0;r--)(o=t[r])&&(s=(a<3?o(s):a>3?o(e,i,s):o(e,i))||s);return a>3&&s&&Object.defineProperty(e,i,s),s};Object.defineProperty(i,"__esModule",{value:!0});var s=t("../Audio"),r=t("../DataMgr"),c=t("../GameSDKManger"),l=t("../GameUtils"),p=t("../Hall/Message"),u=t("../Hero/HeroGlobal"),h=t("../nativets/Config"),d=t("../TextureMgr"),f=t("../Tool/Statistics"),m=t("./EquipmentDialog"),g=t("./MenuSelect"),y=t("./SoulDialog"),v=cc._decorator,_=v.ccclass,b=v.property,C=["Weapon","Armor","Wing","Ornament","Ring"],S=["","","","%","%","%","","%","%","%","%","%"],x=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.itemPrefab=null,e.leftSf=[],e.listIndex=-1,e.titleSelects=[],e.boxLvAttrs=[],e.boxIconsAttrs=[],e.soulBoxLvAttrs=[],e.soulBoxIconsAttrs=[],e.extJade=0,e}var i;return o(e,t),i=e,e.prototype.init=function(){this.listSelect=this.node.getChildByName("list").getChildByName("select"),this.leftNode=this.node.getChildByName("Left"),this.rightNode=this.node.getChildByName("Right"),this.equipmentNode=this.node.getChildByName("Equipment"),this.equipmentLeft=this.equipmentNode.getChildByName("Left"),this.skillNode=this.node.getChildByName("Skill"),this.soulNode=this.node.getChildByName("Soul"),this.petNode=this.node.getChildByName("Pet"),this.listLayoutAttrs=[this.equipmentNode,this.skillNode,this.soulNode,this.petNode],this.initEquipment(),this.initSkill(),this.initPet(),this.initSoul(),this.titleIndex=0,this.refreshTitle(),this.soulTitleIndex=0,this.refreshSoulTitle(),cc.director.on("RefreshSelect",this.refreshOnSelect,this),cc.director.on("RefreshSp",this.onRefreshSp,this);for(var t=0;t<3;t++)this.refreshEquipmentIcon(t)},e.prototype.onRefreshSp=function(t){this.heroIndex!=t&&(this.heroIndex=t,this.equipmentDialog.active&&(this.equipmentRight.active=!0,this.equipmentDialog.active=!1)),this.refreshEquipmentIcon(t)},e.prototype.initEquipment=function(){this.DetailNode=this.equipmentLeft.getChildByName("Detail"),this.detailName=this.DetailNode.getChildByName("name").getComponent(cc.Label),this.detailHp=this.DetailNode.getChildByName("hp").getComponent(cc.Label),this.detailDef=this.DetailNode.getChildByName("def").getComponent(cc.Label),this.detailAtk=this.DetailNode.getChildByName("atk").getComponent(cc.Label),this.detailBonus=this.DetailNode.getChildByName("bonus").getComponent(cc.Label),this.detailCr=this.DetailNode.getChildByName("cr").getComponent(cc.Label),this.detailMiss=this.DetailNode.getChildByName("miss").getComponent(cc.Label),this.equipmentRight=this.equipmentNode.getChildByName("Right"),this.equipmentDialog=this.equipmentNode.getChildByName("Dialog"),this.eDialogCom=this.equipmentDialog.getComponent(m.default),this.eDialogCom.init(this),this.equipmentLayout=this.equipmentRight.getChildByName("Layout"),this.boxSelect=this.equipmentLayout.getChildByName("select");for(var t=0;t<5;t++)this.titleSelects.push(this.equipmentRight.getChildByName(""+t).getChildByName("select"));this.equipmentIconAttrs=[],this.equipmentBgAttrs=[],this.equipmentLockAttrs=[];for(var e=0;e<5;e++){var i=this.equipmentLeft.getChildByName(C[e]);this.equipmentIconAttrs.push(i.getChildByName("icon").getComponent(cc.Sprite)),this.equipmentBgAttrs.push(i.getChildByName("bg").getComponent(cc.Sprite)),this.equipmentLockAttrs.push(i.getChildByName("lock"))}this.createLayout()},e.prototype.initSoul=function(){this.soulLeft=this.soulNode.getChildByName("Left"),this.soulRight=this.soulNode.getChildByName("Right"),this.soulBg=this.soulNode.getChildByName("bg"),this.soulHC=this.soulLeft.getChildByName("hc"),this.soulFM=this.soulLeft.getChildByName("fm"),this.soulEffect=this.soulHC.getChildByName("effect"),this.soulLayout=this.soulRight.getChildByName("Layout"),this.soulBoxSelect=this.soulLayout.getChildByName("select"),this.soulRateVideo=-1,this.soulCompressAttrs=[0,0,0],this.soulEnchantAttrs=[0,0],this.soulTitleSelects=[];for(var t=0;t<6;t++)this.soulTitleSelects.push(this.soulRight.getChildByName(""+t).getChildByName("select"));this.soulIconAttrs=[],this.icon0=this.soulHC.getChildByName("0").getComponent(cc.Sprite),this.icon1=this.soulHC.getChildByName("1").getComponent(cc.Sprite),this.icon2=this.soulHC.getChildByName("2").getComponent(cc.Sprite),this.soulHCTitle=this.soulHC.getChildByName("title").getComponent(cc.Label),this.soulHCText=this.soulHC.getChildByName("text").getComponent(cc.Label),this.soulHCJade=this.soulHC.getChildByName("compress").getChildByName("jade").getComponent(cc.Label),this.soulHCRate=this.soulHC.getChildByName("rate").getComponent(cc.Label),this.soulCheck0=this.soulHC.getChildByName("check0").getComponent(cc.Toggle),this.soulCheck1=this.soulHC.getChildByName("check1").getComponent(cc.Toggle),this.soulIconAttrs=[this.icon0,this.icon1,this.icon2],this.fmIcon0=this.soulFM.getChildByName("0").getComponent(cc.Sprite),this.fmIcon1=this.soulFM.getChildByName("1").getComponent(cc.Sprite),this.soulFMTitle=this.soulFM.getChildByName("title").getComponent(cc.Label),this.soulFMText=this.soulFM.getChildByName("text").getComponent(cc.Label),this.fmlv=this.soulFM.getChildByName("lv").getComponent(cc.Sprite),this.createSoulLayout(),this.soulDialog=this.soulNode.getChildByName("Dialog"),this.sDialogCom=this.soulDialog.getComponent(y.default),this.sDialogCom.init(this)},e.prototype.initSkill=function(){this.skillRight=this.skillNode.getChildByName("Right"),this.skillName=this.skillRight.getChildByName("name").getComponent(cc.Label),this.skillIcon=this.skillRight.getChildByName("icon").getComponent(cc.Sprite),this.skillLv=this.skillRight.getChildByName("lv").getComponent(cc.Label),this.skillCd=this.skillRight.getChildByName("cd").getComponent(cc.Label),this.skillUp=this.skillRight.getChildByName("up"),this.skillCionsLabel=this.skillUp.getChildByName("coins").getComponent(cc.Label),this.skillDmg=this.skillRight.getChildByName("dmgLabel").getComponent(cc.Label),this.skillDes=this.skillRight.getChildByName("desLabel").getComponent(cc.Label);var t=this.skillRight.getChildByName("0");this.skillStarAttrs=[t.getComponent(cc.Sprite)];for(var e=1;e<20;e++){var i=cc.instantiate(t),n=e<10?0:1,o=0==n?e:e-10;i.parent=this.skillRight,i.x=35*o-157.5,i.y=-112-32*n,this.skillStarAttrs.push(i.getComponent(cc.Sprite))}this.setStar(1),this.skillSelect=this.skillNode.getChildByName("select"),this.skillIconAttrs=[],this.skillLvAttrs=[],this.skillNameAttrs=[],this.skillBgAttrs=[];for(var a=0;a<7;a++)this.skillIconAttrs.push(this.skillNode.getChildByName(""+a).getComponent(cc.Sprite)),this.skillLvAttrs.push(this.skillNode.getChildByName("lv"+a).getComponent(cc.Label)),this.skillBgAttrs.push(this.skillNode.getChildByName("c"+a)),this.skillNameAttrs.push(this.skillNode.getChildByName("name"+a).getComponent(cc.Label))},e.prototype.initPet=function(){this.petRight=this.petNode.getChildByName("Right"),this.petIcon=this.petRight.getChildByName("icon").getComponent(cc.Sprite),this.petName=this.petRight.getChildByName("name").getComponent(cc.Label),this.petLv=this.petRight.getChildByName("lv").getComponent(cc.Label),this.petLvCur=this.petRight.getChildByName("lvnow").getComponent(cc.Label),this.petLvNext=this.petRight.getChildByName("lvnext").getComponent(cc.Label),this.petHpCur=this.petRight.getChildByName("hpnow").getComponent(cc.Label),this.petHpNext=this.petRight.getChildByName("hpnext").getComponent(cc.Label),this.petDescription0=this.petRight.getChildByName("d0").getComponent(cc.Label),this.petDescription1=this.petRight.getChildByName("d1").getComponent(cc.Label),this.petJade=this.petRight.getChildByName("coins").getComponent(cc.Label),this.petItem=this.petRight.getChildByName("item").getComponent(cc.Sprite),this.petUpgrade=this.petRight.getChildByName("upgrade"),this.petItem.spriteFrame=d.default.instance.rewardSfInGame[0],this.petLeftName=this.petNode.getChildByName("name").getComponent(cc.Label),this.petLeftValue0=this.petNode.getChildByName("v0").getComponent(cc.Label),this.petLeftValue1=this.petNode.getChildByName("v1").getComponent(cc.Label),this.petLeftText0=this.petNode.getChildByName("t0").getComponent(cc.Label),this.petLeftText1=this.petNode.getChildByName("t1").getComponent(cc.Label)},e.prototype.createLayout=function(){var t=new cc.Component.EventHandler;t.target=this.node,t.component="Equipment",t.handler="onBtnBoxSelect",this.boxLvAttrs=[],this.boxIconsAttrs=[];for(var e=0;e<5;e++)for(var i=0;i<4;i++){var n=4*e+i,o=cc.instantiate(this.itemPrefab);o.name=n+"",o.getComponent(cc.Button).clickEvents.push(t),o.parent=this.equipmentLayout,o.position=cc.v3(110*i-165,192.5-107*e),this.boxLvAttrs.push(o.getChildByName("lv").getComponent(cc.Sprite)),this.boxIconsAttrs.push(o.getChildByName("icon").getComponent(cc.Sprite))}this.boxSelect.parent=null,this.boxSelect.parent=this.equipmentLayout},e.prototype.createSoulLayout=function(){var t=new cc.Component.EventHandler;t.target=this.node,t.component="Equipment",t.handler="onBtnSoulBoxSelect";for(var e=0;e<5;e++)for(var i=0;i<4;i++){var n=4*e+i,o=cc.instantiate(this.itemPrefab);o.name=n+"",o.getComponent(cc.Button).clickEvents.push(t),o.parent=this.soulLayout,o.position=cc.v3(110*i-165,192.5-107*e),this.soulBoxLvAttrs.push(o.getChildByName("lv").getComponent(cc.Sprite)),this.soulBoxIconsAttrs.push(o.getChildByName("icon").getComponent(cc.Sprite))}this.soulBoxSelect.parent=null,this.soulBoxSelect.parent=this.soulLayout},e.prototype.onLoad=function(){i.instance=this,this.messageCom=cc.director.getScene().getComponentInChildren(p.default),this.menuSelectCom=this.getComponentInChildren(g.default),this.init()},e.prototype.onBtnTitleSelect=function(t){s.default.instance.playAudio("BtnClick");var e=parseInt(t.target.name);this.titleIndex!=e&&(this.titleIndex=e,this.refreshTitle())},e.prototype.onBtnEquipmentLeftSelect=function(t){s.default.instance.playAudio("BtnClick");var e=parseInt(t.target.name),i=this.equippedAttrs[[0,1,3,4,2][e]];i?(this.titleIndex!=e&&(this.titleIndex=e,this.refreshTitle()),this.eDialogCom.onOpen(i),this.equipmentRight.active=!1):(this.equipmentRight.active=!0,this.equipmentDialog.active=!1,this.titleIndex!=e&&(this.titleIndex=e,this.refreshTitle()))},e.prototype.onBtnSoulTitleSelect=function(t){s.default.instance.playAudio("BtnClick");var e=parseInt(t.target.name);this.soulTitleIndex!=e&&(this.soulTitleIndex=e,this.refreshSoulTitle())},e.prototype.setSoulTitleIndex=function(t){this.soulTitleIndex=t,this.refreshSoulTitle()},e.prototype.onBtnListSelect=function(t){s.default.instance.playAudio("BtnClick");var e=parseInt(t.target.name);this.onListSelect(e),this.node.active=!0},e.prototype.onListSelect=function(t){this.listIndex=t;for(var e=0;e<4;e++)this.listLayoutAttrs[e].active=e==t;this.soulHC.active=!0,this.soulFM.active=!1,this.soulRight.active=!this.soulDialog.active,this.equipmentLeft.active=!0,this.menuSelectCom.node.active=2!=t,cc.director.emit("RefreshIcon"),this.refreshList()},e.prototype.onBtnBoxSelect=function(t){if(s.default.instance.playAudio("BtnClick"),this.equipmentLeft.active){var e=parseInt(t.target.name);this.boxSelect.position=cc.v3(t.target.x,t.target.y+2),this.dataAttrs&&this.dataAttrs[e]&&(this.eDialogCom.onOpen(this.dataAttrs[e]),this.equipmentRight.active=!1)}else{var i=t.target.getChildByName("icon").getComponent(cc.Sprite).spriteFrame,n=t.target.getChildByName("lv").getComponent(cc.Sprite).spriteFrame;this.fmIcon1.spriteFrame=i,this.fmlv.spriteFrame=n}},e.prototype.onBtnSoulBoxSelect=function(t){s.default.instance.playAudio("BtnClick");var e=parseInt(t.target.name);if(this.soulBoxSelect.position=cc.v3(t.target.x,t.target.y+2),this.soulHC.active)this.soulDataAttrs&&this.soulDataAttrs[e]&&(this.sDialogCom.onOpen(this.soulDataAttrs[e]),this.soulRight.active=!1);else{this.soulEnchantAttrs[1]=this.soulDataAttrs[e];var i=t.target.getChildByName("icon").getComponent(cc.Sprite).spriteFrame;this.fmIcon1.spriteFrame=i;var n=h.getDataById(this.soulDataAttrs[e]);this.soulFMTitle.string=n.name;var o=this.getDetailByJson(n);this.soulFMText.string=o}},e.prototype.getDetailByJson=function(t){for(var e=0,i="",n=0;n<l.BaseAttrs.length;n++){var o=l.BaseAttrs[n];t[o]&&(i+=l.textAttrs[n]+"+"+t[o]+S[n],i+=++e%2==0?"\n":"  ")}return i},e.prototype.refreshSoulCompressRate=function(){if(this.soulCompressAttrs[0])if(this.soulCompressAttrs[1]||this.soulCompressAttrs[2]){var t=h.getLvId(this.soulCompressAttrs[0]),e=h.SoulRate[t-1],i=0;this.soulCheck0.isChecked&&(e+=.15,i+=20),this.soulCheck1.isChecked&&(e+=.3,i+=40);var n=0;this.soulCompressAttrs[1]&&(n+=h.SoulSubRate[h.getLvId(this.soulCompressAttrs[1])-1]),this.soulCompressAttrs[2]&&(n+=h.SoulSubRate[h.getLvId(this.soulCompressAttrs[2])-1]),this.extJade=10*t+i,this.extRate=e+n,1==this.soulRateVideo&&(this.extRate+=.3),this.extRate>1&&(this.extRate=1),this.soulHCJade.string=this.extJade+"",this.soulHCRate.string="(\u8fdb\u9636\u6210\u529f\u7387: "+(100*this.extRate).toFixed(0)+"%)"}else this.soulHCRate.string="";else this.soulHCRate.string=""},e.prototype.onBtnSoulCheck=function(){this.refreshSoulCompressRate()},e.prototype.onBtnSoulCompress=function(){var t=this;if(s.default.instance.playAudio("BtnClick"),this.soulCompressAttrs[0]&&(this.soulCompressAttrs[1]||this.soulCompressAttrs[2])){var e=u.default.instance.SoulAttrs.indexOf(this.soulCompressAttrs[1]);-1!=e&&u.default.instance.SoulAttrs.splice(e,1);var i=u.default.instance.SoulAttrs.indexOf(this.soulCompressAttrs[2]);if(-1!=i&&u.default.instance.SoulAttrs.splice(i,1),-1==this.soulRateVideo&&this.extRate<=.7)return void this.messageCom.show("\u63d0\u793a","\u672c\u6b21\u8fdb\u9636\u6210\u529f\u7387\u4f4e\uff0c\u662f\u5426\u89c2\u770b\u89c6\u9891\u63d0\u534730%\u6210\u529f\u51e0\u7387?",function(){c.shareAd(function(){t.soulRateVideo=1,t.refreshSoulCompressRate()})},!0,function(){t.soulRateVideo=0});u.default.instance.Jade>=this.extJade?(u.default.instance.Jade-=this.extJade,cc.director.emit("daily_reward",l.DailyAward.Total,0),this.soulRateVideo=-1,Math.random()<this.extRate?(r.default.instance.taskCountData[7]++,r.default.instance.saveSaveDate(),u.default.instance.AchieveCountData[7]++,u.default.instance.saveHeroGlobal(),cc.tween(this.soulBg).by(1,{angle:360}).call(function(){var e=parseInt(t.soulCompressAttrs[0]),i=h.getLvId(e);if(i<6){60508==e||60507==e?e=60609:e+=100;var n=u.default.instance.SoulAttrs.indexOf(t.soulCompressAttrs[0]);u.default.instance.SoulAttrs[n]=e,t.icon1.spriteFrame=null,t.icon2.spriteFrame=null,t.soulCompressAttrs[1]=0,t.soulCompressAttrs[2]=0,t.icon0.spriteFrame=d.default.instance.getSoulIconById(e),t.soulCompressAttrs[0]=e,t.setSoulHCDialog(e),t.setSoulTitleIndex(i),t.showSoulEffect(),u.default.instance.saveEquipmentAttrs()}}).start(),cc.director.emit("tips_show",0,!0),f.default.getInstance().reportEvent("\u5347\u7ea7\u6b66\u9b42")):(this.showSoulEffect(),this.icon1.spriteFrame=null,this.icon2.spriteFrame=null,this.soulCompressAttrs[1]=0,this.soulCompressAttrs[2]=0,this.refreshSoulCompressRate(),this.setSoulTitleIndex(this.soulTitleIndex),cc.director.emit("tips_show",0,!1),u.default.instance.saveHeroGlobal())):this.messageCom.showLack("jade")}},e.prototype.showSoulEffect=function(){var t=this;this.soulEffect.active=!0;var e=this.soulEffect.getComponent(cc.Animation);e.play(),e.on(cc.Animation.EventType.LASTFRAME,function(){t.soulEffect.active=!1})},e.prototype.onBtnSoulEnchant=function(){var t=this;s.default.instance.playAudio("BtnClick"),cc.tween(this.soulBg).by(1,{angle:360}).call(function(){var e=u.default.instance.getDataAttrsByIndex(t.titleIndex+1).indexOf(t.soulEnchantAttrs[0]),i=h.getSoulIndexById(t.soulEnchantAttrs[1]),n=i>9?""+i:"0"+i,o=t.soulEnchantAttrs[0]+"",a=o.split("");a[5]=n[0],a[6]=n[1],o=a.join("");var s=u.default.instance.SoulAttrs.indexOf(t.soulEnchantAttrs[1]);switch(u.default.instance.SoulAttrs.splice(s,1),t.titleIndex){case 0:u.default.instance.WeaponAttrs[e]=parseInt(o);break;case 1:u.default.instance.ArmorAttrs[e]=parseInt(o);break;case 2:u.default.instance.RingAttrs[e]=parseInt(o);break;case 3:u.default.instance.OrnamentAttrs[e]=parseInt(o);break;case 4:u.default.instance.WingAttrs[e]=parseInt(o)}u.default.instance.saveEquipmentAttrs();var r=t.equippedAttrs.indexOf(t.soulEnchantAttrs[0]);-1!=r&&(t.equippedAttrs[r]=parseInt(o),u.default.instance.HeroDataAttr[t.menuSelectCom.selectIndex].setEquip(t.titleIndex+1,parseInt(o))),t.fmIcon0.spriteFrame=null,t.fmIcon1.spriteFrame=null,t.fmlv.spriteFrame=null,t.equipmentNode.active=!1,t.soulRight.active=!0,t.onListSelect(0),t.eDialogCom.onOpen(parseInt(o)),t.equipmentRight.active=!1,u.default.instance.HeroDataAttr[t.menuSelectCom.selectIndex].updateAttribute(),t.refreshEquipmentIcon(t.menuSelectCom.selectIndex),f.default.getInstance().reportEvent("\u70b9\u51fb\u9576\u5d4c\u6b66\u9b42")})},e.prototype.showSoulBgRotate=function(){var t=this;cc.tween(this.soulBg).by(1,{angle:360},{easing:"backIn"}).call(function(){t.fmIcon0.spriteFrame=null,t.fmIcon1.spriteFrame=null,t.fmlv.spriteFrame=null,t.equipmentNode.active=!1,t.soulRight.active=!0}).start()},e.prototype.onBtnSoulIconCancel=function(t){s.default.instance.playAudio("BtnClick");var e=parseInt(t.target.name);this.soulCompressAttrs[e]=0,0==e&&this.setSoulHCDialog(null),this.soulIconAttrs[e].spriteFrame=null,this.refreshSoulCompressRate()},e.prototype.onBtnSkillSelect=function(t){s.default.instance.playAudio("BtnClick");var e=parseInt(t.target.name);this.setSkillByIndex(e)},e.prototype.onBtnClose=function(){s.default.instance.playAudio("BtnClick"),this.node.active=!1,cc.director.emit("CloseEquipment")},e.prototype.onBtnDialogClose=function(){s.default.instance.playAudio("BtnClick"),this.equipmentRight.active=!0,this.equipmentDialog.active=!1},e.prototype.onBtnSoulDialogClose=function(){s.default.instance.playAudio("BtnClick"),this.onSoulDialogClose()},e.prototype.onSoulDialogClose=function(){this.soulRight.active=!0,this.soulDialog.active=!1},e.prototype.setSoulHCDialog=function(t){if(t){this.refreshSoulCompressRate();var e=h.getLvId(t);t=parseInt(t),e<6&&(60508==t||60507==t?t=60609:t+=100);var i=h.getDataById(t);this.soulHCTitle.string=""+i.name;var n=this.getDetailByJson(i);this.soulHCText.string=n}else this.soulHCJade.string="10",this.soulHCTitle.string="",this.soulHCText.string=""},e.prototype.setStar=function(t){for(var e=0;e<20;e++)e<t?this.skillStarAttrs[e].setMaterial(0,cc.MaterialVariant.createWithBuiltin("2d-sprite",this.skillStarAttrs[e])):this.skillStarAttrs[e].setMaterial(0,cc.MaterialVariant.createWithBuiltin("2d-gray-sprite",this.skillStarAttrs[e]))},e.prototype.setSkillLv=function(){for(var t=0;t<this.heroSkillAttrs.length;t++){this.heroSkillAttrs[t]>-1&&(this.skillLvAttrs[t].string=this.heroSkillAttrs[t]+1+"");var e=h.Skill[7*this.menuSelectCom.selectIndex+t];u.default.instance.Level<parseInt(e.unlock)?(this.skillNameAttrs[t].string=e.unlock+"\u7ea7\u89e3\u9501",this.skillBgAttrs[t].active=!1,this.skillIconAttrs[t].spriteFrame=d.default.instance.lockSf,this.skillLvAttrs[t].string=""):(this.skillBgAttrs[t].active=!0,this.skillLvAttrs[t].string=this.heroSkillAttrs[t]+1+"")}},e.prototype.setSkillByIndex=function(t){this.skillIndex=t,this.skillSelect.position=this.skillIconAttrs[t].node.position,this.skillName.string=h.SkillNameArrs[this.menuSelectCom.selectIndex][t];var e=h.Skill[7*this.menuSelectCom.selectIndex+t],i=u.default.instance.HeroDataAttr[this.menuSelectCom.selectIndex].SkillAttrs;this.heroSkillAttrs=i;var n=i[t]+1;this.skillUp.active=u.default.instance.Level>=parseInt(e.unlock),this.setStar(n),this.setSkillLv(),this.skillLv.string="LV."+n;var o="\u65e0",a=i[t];if(-1==a&&(a=0),this.skillPrice=parseFloat(e.price)+parseFloat(e.priceup)*(a+Math.floor(a/3)),this.skillCionsLabel.string=this.skillPrice+"",e.cd){o=parseFloat(e.cd)-parseFloat(e.cdup)*a+"";var s=e.text;this.skillDmg.string=s.replace("wave*dmg",parseFloat(e.wave)*(parseFloat(e.dmg)+parseFloat(e.dmgup)*a)+"%")}else{var r=e.text;this.skillDmg.string=r.replace("dmg",parseFloat(e.dmg)+parseFloat(e.dmgup)*a+"")}this.skillCd.string=o,this.skillDes.string=e.description,t>3&&(t+=2),this.skillIcon.spriteFrame=d.default.instance.SkillAttrs[this.menuSelectCom.selectIndex][t]},e.prototype.onBtnSKillUpgrade=function(){s.default.instance.playAudio("BtnClick"),this.heroSkillAttrs[this.skillIndex]<19&&(u.default.instance.Coins>this.skillPrice?(u.default.instance.Coins-=this.skillPrice,u.default.instance.setCoins(u.default.instance.Coins),this.onSkillUpgrade(),cc.director.emit("daily_reward",l.DailyAward.Total,0),u.default.instance.saveHeroGlobal(),f.default.getInstance().reportEvent("\u5347\u7ea7\u6280\u80fd")):this.messageCom.showLack("coins"))},e.prototype.onSkillUpgrade=function(){r.default.instance.taskCountData[5]++,r.default.instance.saveSaveDate(),u.default.instance.AchieveCountData[5]++;var t=this.heroSkillAttrs[this.skillIndex];t<19&&t++,this.heroSkillAttrs[this.skillIndex]=t,this.setSkillByIndex(this.skillIndex),u.default.instance.HeroDataAttr[this.menuSelectCom.selectIndex].setSkillArrs(this.heroSkillAttrs)},e.prototype.refreshOnSelect=function(t){3==this.listIndex&&this.refreshPet(t),1==this.listIndex&&this.refreshSkill(t)},e.prototype.refreshPet=function(t){t<0&&(t=0),this.petIndex=t,this.petIcon.spriteFrame=d.default.instance.petIconBoxSf[t];var e=h.Pet[t];this.petName.string=h.PetName[t],this.petLeftName.string=h.PetName[t];var i=u.default.instance.PetLvAttrs[t];-1==i&&(i=0),0==i?(this.petLv.string="20\u5173\u89e3\u9501",0==t?this.petLv.string="\u7b7e\u5230\u89e3\u9501":1==t&&(this.petLv.string="\u9650\u65f6\u9886\u53d6"),this.petUpgrade.active=!1,this.petJade.string="",this.petItem.node.active=!1):(this.petUpgrade.active=!0,this.petLv.string="LV."+i,this.petPrice=parseFloat(e.price)+parseFloat(e.priceup)*i,this.petJade.string="x"+this.petPrice,this.petItem.node.active=!0),this.petLevel=i;var n=this.getPetDetailByJson(e,i);this.petLvCur.string=n[0].value,this.petLvNext.string=n[0].valueNext,this.petHpCur.string=n[1].value,this.petHpNext.string=n[1].valueNext,this.petLeftText0.string=n[0].text,this.petLeftText1.string=n[1].text,this.petLeftValue0.string=n[0].value,this.petLeftValue1.string=n[1].value,this.petDescription0.string=n[0].text+"\u63d0\u5347",this.petDescription1.string=n[1].text+"\u63d0\u5347"},e.prototype.getPetDetailByJson=function(t,e){for(var i=[],n=0;n<l.BaseAttrs.length;n++){var o=l.BaseAttrs[n];if(t[o]){var a=parseFloat(t[o])+e*parseFloat(t[o+"up"]),s=a;e<19&&(s=parseFloat(t[o])+(e+1)*parseFloat(t[o+"up"]));var r={text:l.textAttrs[n],value:a+S[n],valueNext:s+S[n]};i.push(r)}}return i},e.prototype.onBtnPetUpgrade=function(){s.default.instance.playAudio("BtnClick"),this.petLevel<20&&(u.default.instance.Jade>this.petPrice?(r.default.instance.taskCountData[8]++,r.default.instance.saveSaveDate(),u.default.instance.AchieveCountData[8]++,u.default.instance.Jade-=this.petPrice,u.default.instance.setJade(u.default.instance.Jade),cc.director.emit("daily_reward",l.DailyAward.Total,0),u.default.instance.saveHeroGlobal(),u.default.instance.PetLvAttrs[this.petIndex]=this.petLevel+1,u.default.instance.saveEquipmentAttrs(),this.refreshPet(this.petIndex)):this.messageCom.showLack("jade"))},e.prototype.refreshSkill=function(t){for(var e=0;e<4;e++)this.skillIconAttrs[e].spriteFrame=d.default.instance.SkillAttrs[t][e],this.skillNameAttrs[e].string=h.SkillNameArrs[t][e];for(var i=4;i<7;i++)this.skillIconAttrs[i].spriteFrame=d.default.instance.SkillAttrs[t][i+2],this.skillNameAttrs[i].string=h.SkillNameArrs[t][i];this.setSkillByIndex(0)},e.prototype.refreshList=function(){this.listSelect.y=-40-80*this.listIndex},e.prototype.refreshTitle=function(){for(var t=0;t<this.titleSelects.length;t++)this.titleSelects[t].active=this.titleIndex==t;for(var e=0;e<this.boxLvAttrs.length;e++)this.boxLvAttrs[e].spriteFrame=null,this.boxIconsAttrs[e].spriteFrame=null;var i=u.default.instance.getDataAttrsByIndex(this.titleIndex+1),n=[],o=u.default.instance.MainHeroIndex;this.menuSelectCom&&(o=this.menuSelectCom.selectIndex);for(var a=0;a<i.length;a++){var s=h.getWhoId(i[a]);0!=s&&s!=o+1||this.checkEquipped(i[a])||n.push(i[a])}this.dataAttrs=n;for(var r=0;r<n.length;r++)this.boxLvAttrs[r].spriteFrame=d.default.instance.getLvIconById(n[r]),this.boxIconsAttrs[r].spriteFrame=d.default.instance.getEquipmentIconById(n[r])},e.prototype.inBlackList=function(t){return-1!=[12205e4,13107e4,11202e4,11303e4,12306e4,13208e4,13309e4,22205e4,23107e4,21203e4,21302e4,22306e4,23208e4,23309e4].indexOf(t)},e.prototype.checkEquipped=function(t){for(var e=0;e<3;e++)if(u.default.instance.HeroDataAttr[e].equippedAttrs&&-1!=u.default.instance.HeroDataAttr[e].equippedAttrs.indexOf(t))return!0;return!1},e.prototype.refreshSoulTitle=function(){for(var t=0;t<this.soulTitleSelects.length;t++)this.soulTitleSelects[t].active=this.soulTitleIndex==t;for(var e=0;e<this.soulBoxLvAttrs.length;e++)this.soulBoxLvAttrs[e].spriteFrame=null,this.soulBoxIconsAttrs[e].spriteFrame=null;for(var i=u.default.instance.SoulAttrs,n=[],o=0;o<i.length;o++)h.getLvId(i[o])==this.soulTitleIndex+1&&n.push(i[o]);this.soulDataAttrs=n;for(var a=0;a<n.length;a++)this.soulBoxIconsAttrs[a].spriteFrame=d.default.instance.getSoulIconById(n[a])},e.prototype.refreshDetail=function(t){if(this.detailName){this.detailName.string=h.HeroName[t];var e=u.default.instance.HeroDataAttr[t];this.detailHp.string=e.HP+"",this.detailAtk.string=e.ATK+"",this.detailDef.string=e.DEF+"",this.detailBonus.string=(e.BONUS+100|0)+"%",this.detailCr.string=(0|e.CR)+"%",this.detailMiss.string=(0|e.MISS)+"%"}},e.prototype.refreshEquipmentIcon=function(t){this.equippedAttrs=[];var e=u.default.instance.HeroDataAttr[t];this.equipmentIconAttrs[0].spriteFrame=d.default.instance.getEquipmentIconById(e.Weapon),this.equipmentBgAttrs[0].spriteFrame=d.default.instance.getLvIconById(e.Weapon),this.equipmentLockAttrs[0].active=-1==e.Weapon,this.equipmentIconAttrs[1].spriteFrame=d.default.instance.getEquipmentIconById(e.Armor),this.equipmentBgAttrs[1].spriteFrame=d.default.instance.getLvIconById(e.Armor),this.equipmentLockAttrs[1].active=-1==e.Armor,this.equippedAttrs=[e.Weapon,e.Armor],this.reSizeEquipmentIcon(),e.Wing>-1?(this.equipmentIconAttrs[2].spriteFrame=d.default.instance.getEquipmentIconById(e.Wing),this.equipmentBgAttrs[2].spriteFrame=d.default.instance.getLvIconById(e.Wing),this.equipmentLockAttrs[2].active=!1,this.equippedAttrs.push(e.Wing),this.equipmentIconAttrs[2].node.setContentSize(84,84),this.equipmentBgAttrs[2].node.setContentSize(84,84)):(this.equippedAttrs.push(null),this.equipmentIconAttrs[2].spriteFrame=this.leftSf[0],this.equipmentBgAttrs[2].spriteFrame=null),e.Ring>-1?(this.equipmentIconAttrs[4].spriteFrame=d.default.instance.getEquipmentIconById(e.Ring),this.equipmentBgAttrs[4].spriteFrame=d.default.instance.getLvIconById(e.Ring),this.equippedAttrs.push(e.Ring),this.equipmentIconAttrs[4].node.setContentSize(84,84),this.equipmentBgAttrs[4].node.setContentSize(84,84)):(this.equippedAttrs.push(null),this.equipmentIconAttrs[4].spriteFrame=this.leftSf[2],this.equipmentBgAttrs[4].spriteFrame=null),this.equipmentLockAttrs[4].active=!1,e.Ornament>-1?(this.equipmentIconAttrs[3].spriteFrame=d.default.instance.getEquipmentIconById(e.Ornament),this.equipmentBgAttrs[3].spriteFrame=d.default.instance.getLvIconById(e.Ornament),this.equippedAttrs.push(e.Ornament),this.equipmentIconAttrs[3].node.setContentSize(84,84),this.equipmentBgAttrs[3].node.setContentSize(84,84)):(this.equippedAttrs.push(null),this.equipmentIconAttrs[3].spriteFrame=this.leftSf[1],this.equipmentBgAttrs[3].spriteFrame=null),this.equipmentLockAttrs[3].active=!1,this.refreshTitle(),this.refreshDetail(t),cc.director.emit("refresh_fight",t),u.default.instance.HeroDataAttr[t].equippedAttrs=this.equippedAttrs},e.prototype.reSizeEquipmentIcon=function(){for(var t=0;t<2;t++)this.equipmentIconAttrs[t].node.setContentSize(84,84),this.equipmentBgAttrs[t].node.setContentSize(84,84)},e.prototype.onDestroy=function(){cc.director.off("RefreshSelect"),cc.director.off("RefreshSp",this.onRefreshSp,this)},e.instance=null,a([b(cc.Prefab)],e.prototype,"itemPrefab",void 0),a([b([cc.SpriteFrame])],e.prototype,"leftSf",void 0),i=a([_],e)}(cc.Component);i.default=x,cc._RF.pop()},{"../Audio":"Audio","../DataMgr":"DataMgr","../GameSDKManger":"GameSDKManger","../GameUtils":"GameUtils","../Hall/Message":"Message","../Hero/HeroGlobal":"HeroGlobal","../TextureMgr":"TextureMgr","../Tool/Statistics":"Statistics","../nativets/Config":"Config","./EquipmentDialog":"EquipmentDialog","./MenuSelect":"MenuSelect","./SoulDialog":"SoulDialog"}],FirstSelect:[function(t,e,i){"use strict";cc._RF.push(e,"d1d2cLImQlD3pw9pV77EGNr","FirstSelect");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),a=this&&this.__decorate||function(t,e,i,n){var o,a=arguments.length,s=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var r=t.length-1;r>=0;r--)(o=t[r])&&(s=(a<3?o(s):a>3?o(e,i,s):o(e,i))||s);return a>3&&s&&Object.defineProperty(e,i,s),s};Object.defineProperty(i,"__esModule",{value:!0});var s=t("../TextureMgr"),r=t("../i18n/Language"),c=t("../Audio"),l=t("../nativets/Global"),p=t("../Hero/HeroGlobal"),u=t("../UserDataInfo"),h=cc._decorator,d=h.ccclass,f=(h.property,[[230,250,250,200],[240,230,220,250]]),m=[[r.default.skillZY0,r.default.skillZY1,r.default.skillZY2,r.default.skillZY3,r.default.skillZY4,r.default.skillZY5,r.default.skillZY6],[r.default.skillDC0,r.default.skillDC1,r.default.skillDC2,r.default.skillDC3,r.default.skillDC4,r.default.skillDC5,r.default.skillDC6],[r.default.skillDQ0,r.default.skillDQ1,r.default.skillDQ2,r.default.skillDQ3,r.default.skillDQ4,r.default.skillDQ5,r.default.skillDQ6]],g=["\u67aa\u795e","\u5927\u7f8e"],y=[l.default.getInstance().ZYAudio.\u51fa\u573a,l.default.getInstance().DCAudio.\u51fa\u573a],v=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.init=function(){this.heroName=this.node.getChildByName("name").getComponent(cc.Label);var t=this.node.getChildByName("Left"),e=this.node.getChildByName("Right");this.attrs1=[],this.attrs2=[],this.attrs3=[];for(var i=0;i<4;i++)this.attrs1.push(e.getChildByName(""+i)),this.attrs2.push(t.getChildByName(""+i).getComponent(cc.Sprite)),this.attrs3.push(t.getChildByName("t"+i).getComponent(cc.Label));this.initHeroIcon()},e.prototype.initHeroIcon=function(){for(var t=this.node.getChildByName("select"),e=0;e<3;e++)t.getChildByName(""+e).getComponent(cc.Sprite).spriteFrame=s.default.instance.heroIconSf[e];t.getChildByName("2").getComponent(cc.Sprite).spriteFrame=s.default.instance.lockSf},e.prototype.onLoad=function(){this.init(),cc.director.on("RefreshSelect",this.onSelect,this)},e.prototype.start=function(){this.onSelect(0)},e.prototype.onSelect=function(t){c.default.instance.playFirst(y[t]),this.heroName.string=g[t];for(var e=0;e<4;e++)this.attrs1[e].width=f[t][e],this.attrs2[e].spriteFrame=s.default.instance.SkillAttrs[t][e],this.attrs3[e].string=m[t][e];p.default.instance.MainHeroIndex=t},e.prototype.onBtnCLose=function(){this.onClose(),l.default.getInstance().gameDifficulty=0,l.default.getInstance().BgIndex=l.default.getInstance().gameDifficulty,l.default.getInstance().nowLevel=1,this.node.emit("select_done")},e.prototype.onDestroy=function(){cc.director.off("RefreshSelect")},e.prototype.onClose=function(){u.UserDataInfo.instance.changeDataByType(u.DataFields.first_select,"1"),this.node.destroy()},a([d],e)}(cc.Component);i.default=v,cc._RF.pop()},{"../Audio":"Audio","../Hero/HeroGlobal":"HeroGlobal","../TextureMgr":"TextureMgr","../UserDataInfo":"UserDataInfo","../i18n/Language":"Language","../nativets/Global":"Global"}],GameAtlas:[function(t,e,i){"use strict";cc._RF.push(e,"c5272GcAZZLtamGwYuzMUz0","GameAtlas");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),a=this&&this.__decorate||function(t,e,i,n){var o,a=arguments.length,s=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var r=t.length-1;r>=0;r--)(o=t[r])&&(s=(a<3?o(s):a>3?o(e,i,s):o(e,i))||s);return a>3&&s&&Object.defineProperty(e,i,s),s};Object.defineProperty(i,"__esModule",{value:!0});var s=cc._decorator,r=s.ccclass,c=s.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.atlas=null,e.imageName="",e.gapTime=.5,e.startNum=1,e.atlasMax=0,e.isLoop=!0,e.curNum=0,e.maxNum=0,e.curTime=0,e.sprite=null,e}return o(e,t),e.prototype.onLoad=function(){if(this.sprite=this.getComponent(cc.Sprite),this.atlas){var t=this.atlas._spriteFrames,e=Object.keys(t);this.maxNum=this.atlasMax?this.atlasMax:e.length-1+this.startNum}this.curNum=this.startNum,this.sprite.spriteFrame=this.atlas.getSpriteFrame(this.imageName+this.startNum)},e.prototype.play=function(){this.curNum=this.startNum,this.curTime=0,this.sprite.spriteFrame=this.atlas.getSpriteFrame(this.imageName+this.startNum)},e.prototype.update=function(t){(this.isLoop||this.curNum<this.maxNum)&&(this.curTime>=this.gapTime?(this.curTime=0,this.maxNum<++this.curNum&&(this.curNum=this.startNum),this.sprite.spriteFrame=this.atlas.getSpriteFrame(this.imageName+this.curNum),this.isLoop||this.curNum!==this.maxNum-1||this.node.emit("atlas_done")):this.curTime+=t)},a([c(cc.SpriteAtlas)],e.prototype,"atlas",void 0),a([c({displayName:"name"})],e.prototype,"imageName",void 0),a([c({displayName:"\u95f4\u9694\u65f6\u95f4"})],e.prototype,"gapTime",void 0),a([c],e.prototype,"startNum",void 0),a([c({displayName:"\u6700\u5927\u6570\u91cf"})],e.prototype,"atlasMax",void 0),a([c({displayName:"\u662f\u5426\u5faa\u73af"})],e.prototype,"isLoop",void 0),a([r],e)}(cc.Component);i.default=l,cc._RF.pop()},{}],GameEvent:[function(t,e,i){"use strict";cc._RF.push(e,"f72d8ekRMBGs7skiEPTSyTi","GameEvent");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(i,"__esModule",{value:!0});var a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),Object.defineProperty(e,"instance",{get:function(){return this._instance||(this._instance=new e),this._instance},enumerable:!1,configurable:!0}),e.prototype.bubbleEvent=function(t,e,i){var n=new cc.Event.EventCustom(e,!0);i&&n.setUserData(i),t.dispatchEvent(n)},e}(cc.EventTarget);i.default=a,cc._RF.pop()},{}],GameManager:[function(t,e,i){"use strict";cc._RF.push(e,"32053zIacBJB5tmYryee13O","GameManager");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),a=this&&this.__decorate||function(t,e,i,n){var o,a=arguments.length,s=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var r=t.length-1;r>=0;r--)(o=t[r])&&(s=(a<3?o(s):a>3?o(e,i,s):o(e,i))||s);return a>3&&s&&Object.defineProperty(e,i,s),s};Object.defineProperty(i,"__esModule",{value:!0});var s=t("./DataMgr"),r=t("./Hero/HeroGlobal"),c=t("./UserDataInfo"),l=cc._decorator,p=l.ccclass,u=l.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.hallLayer=null,e.gameLayer=null,e.mapLayer=null,e.loadLayer=null,e}return o(e,t),e.prototype.onLoad=function(){this.canvas=cc.director.getScene().getComponentInChildren(cc.Canvas);var t=(new Date).getTime();c.UserDataInfo.instance.changeDataByType(c.DataFields.lastLoginTime,String(t)),r.default.instance.init(),s.default.instance.init(),this.gotoHall()},e.prototype.gotoHall=function(){this.hideAllLayer(),this.hallNodeLayer=cc.instantiate(this.hallLayer),this.canvas.node.addChild(this.hallNodeLayer)},e.prototype.gotoMap=function(){this.hideAllLayer(),this.mapNodeLayer=cc.instantiate(this.mapLayer),this.canvas.node.addChild(this.mapNodeLayer)},e.prototype.gotoLoad=function(){this.hideAllLayer(),this.loadNodeLayer=cc.instantiate(this.loadLayer),this.canvas.node.addChild(this.loadNodeLayer),this.loadNodeLayer.zIndex=1},e.prototype.gotoGame=function(){this.gameNodeLayer=cc.instantiate(this.gameLayer),this.canvas.node.addChild(this.gameNodeLayer)},e.prototype.hideAllLayer=function(){this.hallNodeLayer&&(this.hallNodeLayer.destroy(),this.hallNodeLayer=null),this.loadNodeLayer&&(this.loadNodeLayer.isValid&&this.loadNodeLayer.destroy(),this.loadNodeLayer=null),this.gameNodeLayer&&(this.gameNodeLayer.destroy(),this.gameNodeLayer=null),this.mapNodeLayer&&(this.mapNodeLayer.destroy(),this.mapNodeLayer=null)},e.prototype.onEnable=function(){cc.director.on("hall_layer",this.gotoHall,this),cc.director.on("load_game",this.gotoLoad,this),cc.director.on("game_play",this.gotoGame,this),cc.director.on("game_map",this.gotoMap,this)},e.prototype.onDisable=function(){cc.director.off("hall_layer",this.gotoHall,this),cc.director.off("load_game",this.gotoLoad,this),cc.director.off("game_play",this.gotoGame,this),cc.director.off("game_map",this.gotoMap,this)},a([u({displayName:"hall\u754c\u9762",type:cc.Prefab})],e.prototype,"hallLayer",void 0),a([u({displayName:"game\u754c\u9762",type:cc.Prefab})],e.prototype,"gameLayer",void 0),a([u({displayName:"map\u754c\u9762",type:cc.Prefab})],e.prototype,"mapLayer",void 0),a([u({displayName:"\u6e38\u620f\u52a0\u8f7d\u754c\u9762",type:cc.Prefab})],e.prototype,"loadLayer",void 0),a([p],e)}(cc.Component);i.default=h,cc._RF.pop()},{"./DataMgr":"DataMgr","./Hero/HeroGlobal":"HeroGlobal","./UserDataInfo":"UserDataInfo"}],GameSDKManger:[function(t,e,i){"use strict";cc._RF.push(e,"30cb6RKgj1K4K8JVIMt/BQw","GameSDKManger"),Object.defineProperty(i,"__esModule",{value:!0}),i.UM_event=i.recordStop=i.recordStart=i.shareVideo=i.shareVisitFriend=i.shareAd=i.login=i.subscribeGame=i.addToDesktop=i.gotoSidebar=i.checkSidebar=i.sidebarMonitor=void 0;var n;i.sidebarMonitor=function(){cc.sys.BYTEDANCE_GAME==cc.sys.platform&&tt.onShow(function(t){"homepage"==t.launch_from&&"sidebar_card"==t.location&&cc.director.emit("sidebar_show")})},i.checkSidebar=function(){cc.sys.BYTEDANCE_GAME==cc.sys.platform&&tt.checkScene({scene:"sidebar",success:function(t){t.isExist&&cc.director.emit("sidebar_canShow")}})},i.gotoSidebar=function(){cc.sys.BYTEDANCE_GAME==cc.sys.platform&&tt.navigateToScene({scene:"sidebar"})},i.addToDesktop=function(){cc.sys.BYTEDANCE_GAME==cc.sys.platform&&tt.addShortcut({success:function(){},fail:function(){}})},i.subscribeGame=function(){cc.sys.BYTEDANCE_GAME==cc.sys.platform&&tt.requestSubscribeMessage({tmplIds:[""],complete:function(){tt.showModal({title:"\u8ba2\u9605\u6210\u529f"})}})},i.login=function(){cc.sys.BYTEDANCE_GAME==cc.sys.platform?tt.login({force:!0,success:function(){},fail:function(){}}):(cc.sys.WECHAT_GAME,cc.sys.platform)},i.shareAd=function(t){if(cc.sys.BYTEDANCE_GAME==cc.sys.platform){var e;n?e=n:((e=n=tt.createRewardedVideoAd({adUnitId:""})).onLoad(function(){e.show().then(function(){}).catch(function(){e.load().then(function(){e.show()})})}),e.onError(function(){}));var i=function(n){n&&(n.isEnded?t&&t():n.count&&t&&t(),e.offClose(i))};e.onClose(i),e.load()}else cc.sys.WECHAT_GAME==cc.sys.platform?t&&t():(cc.sys.MOBILE_BROWSER,cc.sys.platform,t&&t())},i.shareVisitFriend=function(){cc.sys.BYTEDANCE_GAME==cc.sys.platform&&tt.shareAppMessage({channel:"invite",title:"\u8fd9\u5173\u600e\u4e48\u8fc7\u5173\u5462\uff1f\u5feb\u6765\u5e2e\u5e2e\u6211\u5427\uff01",desc:"\u70b9\u6211\u8fdb\u5165\u6e38\u620f",imageUrl:"",query:"",success:function(){},fail:function(){}})},i.shareVideo=function(){cc.sys.BYTEDANCE_GAME==cc.sys.platform&&tt.shareAppMessage({title:"",channel:"video",extra:{videoTopics:[],videoPath:"",withVideoId:!0},success:function(){tt.showModal({content:"\u5206\u4eab\u6210\u529f"})},fail:function(){tt.showModal({content:"\u5206\u4eab\u5931\u8d25"})}})};var o=null,a=null,s=0;function r(){if(cc.sys.BYTEDANCE_GAME==cc.sys.platform)return o||((o=tt.getGameRecorderManager()).onStart(function(){}),o.onStop(function(){})),o}function c(t){void 0===t&&(t=!1),cc.sys.BYTEDANCE_GAME==cc.sys.platform&&(a&&(clearInterval(a),a=null),s>3?r().stop():t?r().stop():setTimeout(function(){r().stop()},5e3))}i.recordStart=function(){if(cc.sys.BYTEDANCE_GAME==cc.sys.platform){var t=-cc.winSize.width/2,e=cc.winSize.height/2;r().start({duration:300,isMarkOpen:!0,locLeft:t,locTop:e}),s=0,a=setInterval(function(){++s>=300&&(clearInterval(a),a=null,c())},1e3)}},i.recordStop=c,i.UM_event=function(t,e){cc.sys.BYTEDANCE_GAME==cc.sys.platform&&tt&&tt.uma&&tt.uma.trackEvent(t,e)},cc._RF.pop()},{}],GameUtils:[function(t,e,i){"use strict";cc._RF.push(e,"c92d2lI5v5EcqGAOHRj4MFK","GameUtils"),Object.defineProperty(i,"__esModule",{value:!0}),i.numFormat=i.textAttrs=i.SkeletonPosY=i.AtkAttrs=i.DesAttrs=i.BaseAttrs=i.DailyAward=void 0;var n=t("./i18n/Language");(function(t){t[t.coin=0]="coin",t[t.life=1]="life",t[t.jade=2]="jade",t[t.Total=3]="Total"})(i.DailyAward||(i.DailyAward={})),i.BaseAttrs=["atk","def","hp","ls","sp","cr","arp","bonus","cd","miss","exp","gold"],i.DesAttrs=["\u53ef\u83b7\u5f97\u5b9d\u77f3","\u53ef\u83b7\u5f97\u91d1\u5e01","\u53ef\u83b7\u5f97\u519b\u7cae","\u53ef\u83b7\u5f97\u88c5\u5907","\u53ef\u4e0e\u88c5\u5907\u878d\u5408","\u6c38\u4e45\u63d0\u5347\u5c5e\u6027"],i.AtkAttrs=["gem","gold","life","item","soul","book"],i.SkeletonPosY=[-110.5,0,110.5],i.textAttrs=[n.default.equipmentAtk,n.default.equipmentDef,n.default.equipmentHp,n.default.equipmentLs,n.default.equipmentSp,n.default.equipmentCr,n.default.equipmentArp,n.default.equipmentBonus,n.default.equipmentCd,n.default.equipmentMiss,n.default.equipmentExp,n.default.equipmentGold],i.numFormat=function(t){return t<1e3?String(t):t<1e6?(t/1e3).toFixed(2)+"K":t<1e9?(t/1e6).toFixed(2)+"M":t<1e12?(t/1e9).toFixed(2)+"B":(t/1e12).toFixed(2)+"T"},cc._RF.pop()},{"./i18n/Language":"Language"}],Game:[function(t,e,i){"use strict";cc._RF.push(e,"5a20c9zCUBCJr0+QkGMAPEN","Game");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),a=this&&this.__decorate||function(t,e,i,n){var o,a=arguments.length,s=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var r=t.length-1;r>=0;r--)(o=t[r])&&(s=(a<3?o(s):a>3?o(e,i,s):o(e,i))||s);return a>3&&s&&Object.defineProperty(e,i,s),s},s=this&&this.__awaiter||function(t,e,i,n){return new(i||(i=Promise))(function(o,a){function s(t){try{c(n.next(t))}catch(e){a(e)}}function r(t){try{c(n.throw(t))}catch(e){a(e)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof i?e:new i(function(t){t(e)})).then(s,r)}c((n=n.apply(t,e||[])).next())})},r=this&&this.__generator||function(t,e){var i,n,o,a,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:r(0),throw:r(1),return:r(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function r(t){return function(e){return c([t,e])}}function c(a){if(i)throw new TypeError("Generator is already executing.");for(;s;)try{if(i=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,n=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!(o=(o=s.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){s=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){s.label=a[1];break}if(6===a[0]&&s.label<o[1]){s.label=o[1],o=a;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(a);break}o[2]&&s.ops.pop(),s.trys.pop();continue}a=e.call(t,s)}catch(r){a=[6,r],n=0}finally{i=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}};Object.defineProperty(i,"__esModule",{value:!0});var c=t("./Hero/Hero"),l=t("./nativets/Global"),p=t("./Hero/HeroGlobal"),u=t("./Hero/HeroFSM"),h=t("./Monster/MonsterNodePool"),d=t("./BgMgr"),f=t("./nativets/Config"),m=t("./i18n/Language"),g=t("./TextureMgr"),y=t("./Audio"),v=t("./Director"),_=t("./Reward/RewardMgr"),b=t("./Hero/SkillProgress"),C=t("./Tool/Statistics"),S=t("./DataMgr"),x=t("./Reward/RewardAuto"),A=t("./nativets/Platform"),k=t("./Hall/Message"),B=t("./GameSDKManger"),I=cc._decorator,w=I.ccclass,M=I.property,P=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.heroSpAttrs=[],e.bossHpSf=[],e.flashMaterial=null,e.boxPrefab=null,e.rolePrefabArray=[],e.petPrefabArray=[],e.pauseDate=0,e.combo=0,e.maxCombo=0,e.onceNative=!1,e.canReleaseBundle=!1,e.curHeroIndex=0,e}var i;return o(e,t),i=e,e.prototype.init=function(){this.gameEventNode=this.node.getChildByName("GameEvent"),this.gameEffectNode=this.node.getChildByName("GameEffect"),this.dmgEventNode=this.node.getChildByName("DmgEvent"),this.rewardEventNode=this.node.getChildByName("RewardEvent"),this.uiNode=this.node.getChildByName("UI"),this.hudNode=this.uiNode.getChildByName("HUD"),this.initSkillIcon(),this.gamePauseNode=this.uiNode.getChildByName("GamePause");var t=this.gamePauseNode.getChildByName("box");this.gamePauseTask1=t.getChildByName("task1").getComponent(cc.Label),this.gamePauseTask2=t.getChildByName("task2").getComponent(cc.Label),this.gameEndNode=this.uiNode.getChildByName("GameEnd"),this.nextArrow=this.hudNode.getChildByName("next"),this.bossHp=this.hudNode.getChildByName("bossHp"),this.bossIcon=this.bossHp.getChildByName("icon").getComponent(cc.Sprite),this.bossName=this.bossHp.getChildByName("name").getComponent(cc.Label),this.mapProgress=this.hudNode.getChildByName("progress"),this.mapP1=[this.mapProgress.getChildByName("1"),this.mapProgress.getChildByName("11")],this.mapP2=[this.mapProgress.getChildByName("2"),this.mapProgress.getChildByName("22")];var e=this.gameEndNode.getChildByName("box");this.gameEndBg=this.gameEndNode.getChildByName("bg"),this.gameEndBox=e,this.gameEndWin=e.getChildByName("win"),this.gameEndLose=e.getChildByName("lose"),this.gameEndBase=e.getChildByName("Base"),this.gameEndLayout=this.gameEndWin.getChildByName("layout"),this.ttShareBtn=this.gameEndWin.getChildByName("share").getComponent(cc.Button),this.ttShareBtn.node.active=A.getPlatform()==A.Platform.TT,this.gameEndProgress=this.gameEndBase.getChildByName("ProgressBar").getComponent(cc.ProgressBar),this.gameEndTask1=this.gameEndBase.getChildByName("task1").getComponent(cc.Label),this.gameEndTask2=this.gameEndBase.getChildByName("task2").getComponent(cc.Label),this.gameEndExp=this.gameEndBase.getChildByName("exp").getComponent(cc.Label),this.gameEndLv=this.gameEndBase.getChildByName("lv").getComponent(cc.Label),this.reviveNode=this.uiNode.getChildByName("Revive"),this.reviveLabel=this.reviveNode.getChildByName("box").getChildByName("cancel").getChildByName("text").getComponent(cc.Label),this.hero=this.node.getChildByName("HeroRoot").getChildByName("Hero"),this.heroSk=this.hero.getComponent(sp.Skeleton),this.heroScript=this.hero.getComponent(c.default),this.heroScript.initInstance(),this.heroScript.init(),this.heroIcon0=this.ctrlNode.getChildByName("0").getComponent(cc.Sprite),this.heroIcon1=this.ctrlNode.getChildByName("1").getComponent(cc.Sprite);var i=this.hudNode.getChildByName("icon");this.hudLv=i.getChildByName("lv").getComponent(cc.Label),this.hudLv.string="LV"+p.default.instance.Level,this.heroName0=i.getChildByName("name0").getComponent(cc.Label),this.heroName1=i.getChildByName("name1").getComponent(cc.Label),this.heroIcon0.spriteFrame=g.default.instance.heroIconGameSf[p.default.instance.MainHeroIndex],this.heroIcon1.spriteFrame=g.default.instance.heroIconGameSf[p.default.instance.OtherHeroIndex],this.heroName0.string=f.HeroName[p.default.instance.MainHeroIndex],this.heroName1.string=f.HeroName[p.default.instance.OtherHeroIndex],this.pet=this.node.getChildByName("HeroRoot").getChildByName("pet"),this.petSk=this.pet.getComponent(sp.Skeleton),this.directorNode=this.node.getChildByName("Director"),this.directorNode.getComponent(v.default).init(),this.bgMgr=this.node.getChildByName("BgRoot").getComponent(d.default),this.bgMgr.init()},e.prototype.initSkillIcon=function(){var t=this;this.ctrlNode=this.uiNode.getChildByName("Ctrl"),this.skillHalo=this.ctrlNode.getChildByName("attack").getChildByName("halo"),this.scheduleOnce(function(){t.skillHalo.active=!1},5),this.lifeLabel=this.ctrlNode.getChildByName("skill4").getChildByName("life").getComponent(cc.Label),this.refreshLife(),this.skillIconAttrs=[],this.skillProgressAttrs=[],this.skillTextAttrs=[null];for(var e=["skill0","skill1","skill2","skill3","jump","attack"],i=0;i<e.length;i++)i<4&&(this.skillProgressAttrs.push(this.ctrlNode.getChildByName(e[i]).getComponent(b.default)),this.skillProgressAttrs[i].init(),0!=i&&this.skillTextAttrs.push(this.ctrlNode.getChildByName("t"+i).getComponent(cc.Label))),this.skillIconAttrs.push(this.ctrlNode.getChildByName(e[i]).getComponent(cc.Sprite));var n=this.ctrlNode.getChildByName("skill4").getComponent(b.default);n.init(),n.setSkill(4,8,g.default.instance.addHpSf)},e.prototype.onLoad=function(){cc.director.getCollisionManager().enabled=!0,this.messageCom=cc.director.getScene().getComponentInChildren(k.default),this.heroCameraNode=cc.director.getScene().getComponentInChildren(cc.Canvas).node.getChildByName("heroCamera"),i.instance=this,this.init(),this.setHeroSp(),this.loadBgAsync(l.default.getInstance().BgIndex),this.loadHeroSpAttrs(),this.onGameStart()},e.prototype.resetCD=function(){for(var t=0;t<this.skillProgressAttrs.length;t++)this.skillProgressAttrs[t].resetCD();this.ctrlNode.getChildByName("skill4").getComponent(b.default).resetCD()},e.prototype.onGameStart=function(){var t=this;C.default.getInstance().reportStage(l.default.getInstance().nowLevel,!0,!0),this.bossWarnOnce=!1,this.gamePauseNode.active=!1,this.gameEndNode.active=!1,this.bossHp.active=!1,this.monsterCount=0,this.ttShareBtn.interactable=!0,h.default.instance.GCAll(),_.default.instance&&_.default.instance.GCAll(),cc.director.emit("GameStart"),l.default.getInstance().inGame=!0,this.resetCD(),this.refreshLife(),this.startDate=Date.now(),this.setLevelTask(),this.unscheduleAllCallbacks(),l.default.getInstance().MapLevelIndex=0;var e=l.default.getInstance().nowLevel%40-1;-1==e&&(e=39);var i=f.MapData[e];this.mapData=i,this.getRewardItemAttrs(),l.default.getInstance().MapLevelCount=this.mapData.monster.length-1;var n=Number(i.wave);this.mult=n,this.multIndex=0,this.monsterTypeAttrs=[];for(var o=0;o<i.monster[l.default.getInstance().MapLevelIndex].length;o++)for(var a=this.getMonsterNum(i.monster[l.default.getInstance().MapLevelIndex][o]),s=0;s<a;s++)this.monsterTypeAttrs.push(i.monster[l.default.getInstance().MapLevelIndex][o]);l.default.getInstance().monsterCount=this.getMonsterCount(i.monster[l.default.getInstance().MapLevelIndex])*n,this.monsterCount+=l.default.getInstance().monsterCount,this.scheduleOnce(function(){t.gen=t.generateMonster(),t.createMonsterTime=0,t.createMonsterIndex=-1},5),this.scheduleOnce(function(){v.default.instance.onOpen(l.default.getInstance().nowLevel,0)},3.5),p.default.instance.onGameStart(),this.heroScript.onGameStart(),this.bgMgr.onGameStart(),this.setMapProgress(0)},e.prototype.createNext=function(){var t=this;l.default.getInstance().MapLevelIndex++,this.setMapProgress(l.default.getInstance().MapLevelIndex),this.bgMgr.setMapByIndex(this.isHole);var e=this.mapData,n=e.wave;this.mult=n,this.multIndex=0,this.monsterTypeAttrs=[];for(var o=0;o<e.monster[l.default.getInstance().MapLevelIndex].length;o++)for(var a=this.getMonsterNum(e.monster[l.default.getInstance().MapLevelIndex][o]),s=0;s<a;s++)this.monsterTypeAttrs.push(e.monster[l.default.getInstance().MapLevelIndex][o]);l.default.getInstance().monsterCount=this.getMonsterCount(e.monster[l.default.getInstance().MapLevelIndex])*n,this.monsterCount+=l.default.getInstance().monsterCount,this.scheduleOnce(function(){t.gen=t.generateMonster(),t.createMonsterTime=0,t.createMonsterIndex=-1},5),l.default.getInstance().MapLevelIndex==l.default.getInstance().MapLevelCount?(2==l.default.getInstance().MapLevelIndex&&c.default.instance.onExitHole(),l.default.getInstance().nowLevel%5==0?this.showBossWarn():this.scheduleOnce(function(){v.default.instance.onOpen(l.default.getInstance().nowLevel,l.default.getInstance().MapLevelIndex)},2)):this.scheduleOnce(function(){v.default.instance.onOpen(l.default.getInstance().nowLevel,l.default.getInstance().MapLevelIndex)},2),l.default.getInstance().canMove=!1,l.default.getInstance().MapLevelIndex==l.default.getInstance().MapLevelCount?(l.default.getInstance().levelNext=!1,i.instance.nextArrow.active=!1,l.default.getInstance().canMove=!0):cc.tween(this.heroCameraNode).by(.3,{x:.25*cc.winSize.width}).call(function(){l.default.getInstance().levelNext=!1,i.instance.nextArrow.active=!1,l.default.getInstance().canMove=!0}).start()},e.prototype.showBossWarn=function(){var t=this,e=this.hudNode.getChildByName("boss");e.active=!0;for(var i=[],n=[],o=0;o<4;o++)i.push(e.getChildByName(""+o)),i[o].active=!1,n.push(i[o].getComponent(cc.Animation)),n[o].stop();y.default.instance.playAudio("BossWarn"),i[0].active=!0,n[0].play(),n[0].on(cc.Animation.EventType.FINISHED,function(){i[1].active=!0,n[1].play(),n[1].on(cc.Animation.EventType.FINISHED,function(){i[2].active=!0,n[2].play(),n[2].on(cc.Animation.EventType.FINISHED,function(){i[3].active=!0,n[3].play(),n[3].on(cc.Animation.EventType.FINISHED,function(){if(e.active){e.active=!1,l.default.getInstance().inGame=!0,l.default.getInstance().monsterCount++,t.monsterCount++;var i=parseInt(t.mapData.boss.toString().substring(2,4));t.setBossHp(i),t.bossHp.active=!0,h.default.instance.create(1100+i,cc.v3(t.heroCameraNode.x+2*cc.winSize.width/4,-192))}})})})})},e.prototype.setBossHp=function(t){var e=t-97;this.bossName.string=["\u72ec\u773c\u6218\u795e","\u5251\u795e","\u864e\u58eb"][e],this.bossIcon.spriteFrame=g.default.instance.bossIconGameSf[e]},e.prototype.generateMonster=function(){var t;return r(this,function(e){switch(e.label){case 0:t=0,e.label=1;case 1:return t<this.monsterTypeAttrs.length?[4,this.createMonster()]:[3,4];case 2:e.sent(),e.label=3;case 3:return t++,[3,1];case 4:return[2]}})},e.prototype.createMonster=function(){var t=this.monsterTypeAttrs[this.createMonsterIndex],e=-192;7==this.getMonsterIndex(t)&&(e=160);var i=l.default.getInstance().MapLevelIndex;2==i&&(i=0);var n=i*l.default.getInstance().MapSplitWidth+[-400,1e3,1600][Math.floor(3*Math.random())]-25+50*Math.random();h.default.instance.create(t,cc.v3(n,e))},e.prototype.onEnd=function(t){var e=this;l.default.getInstance().inGame=!1,this.gameEndNode.active||this.scheduleOnce(function(){e.gameEndNode.active=!0,e.gameEndTask1.string=e.getTaskString(e.LevelAttrs[0]),e.gameEndTask2.string=e.getTaskString(e.LevelAttrs[1]),e.gameEndBg.active=t,e.gameEndBox.active=t,e.showGameEnd(t),C.default.getInstance().reportStage(l.default.getInstance().nowLevel,t)},.8)},e.prototype.showGameEnd=function(t){if(this.gameEndWin.active=t,this.gameEndLose.active=!t,t){var e=this.getLevelTaskBool(this.LevelAttrs[0]),i=this.getLevelTaskBool(this.LevelAttrs[1]),n=1;e&&n++,i&&n++,this.setEndStar(n),this.showTask(!0,e,i),this.showRewardItem();var o=f.getLevelCoins(l.default.getInstance().nowLevel),a=f.getLevelExp(l.default.getInstance().nowLevel);p.default.instance.setExp(p.default.instance.Exp+a),p.default.instance.setCoins(p.default.instance.Coins+o),p.default.instance.setLife(p.default.instance.Life+1),l.default.getInstance().nowLevel==p.default.instance.Unlock&&(p.default.instance.Unlock++,p.default.instance.setUnlock(p.default.instance.Unlock)),p.default.instance.MonsterKillCount+=this.monsterCount,C.default.getInstance().reportRank(C.default.RANKLIST.\u6740\u622e\u699c,p.default.instance.MonsterKillCount),S.default.instance.taskCountData[1]++,S.default.instance.taskCountData[2]+=this.monsterCount,p.default.instance.AchieveCountData[1]++,p.default.instance.AchieveCountData[2]+=this.monsterCount,S.default.instance.saveSaveDate();var s=p.default.instance.getProgress(0),r=p.default.instance.getProgress(a),u=p.default.instance.Level-p.default.instance.getIndex(p.default.instance.Exp-a,f.Exp);this.gameEndExp.string=p.default.instance.Exp+"/"+f.Exp[p.default.instance.Level-1],this.showProgress(r,s,u),p.default.instance.Life+=5,p.default.instance.saveHeroGlobal()}else y.default.instance.playAudio(c.default.instance.failAudioAttrs[p.default.instance.MainHeroIndex]),this.showProgress(p.default.instance.getProgress(0),p.default.instance.getProgress(0),0),this.gameEndExp.string=p.default.instance.Exp+"/"+f.Exp[p.default.instance.Level-1],this.setEndStar(0),this.showTask(!1,!1,!1)},e.prototype.getRewardItemAttrs=function(){for(var t=this.mapData.soul[l.default.getInstance().gameDifficulty],e=this.mapData.soulrate[l.default.getInstance().gameDifficulty],i=[],n=0;n<t.length;n++)Math.random()<e[n]&&i.push(t[n]);if(this.rewardSoulAttrs=i,this.mapData.item)if(1!=l.default.getInstance().nowLevel||0==p.default.instance.MapData[0][0]){var o=this.mapData.item[l.default.getInstance().gameDifficulty],a=this.mapData.itemrate[l.default.getInstance().gameDifficulty],s=[];if(o)for(var r=0;r<o.length;r++)Math.random()<a[r]&&s.push(o[r]);this.rewardItemAttrs=s}else this.rewardItemAttrs=[];else this.rewardItemAttrs=[]},e.prototype.showRewardItem=function(){this.gameEndLayout.removeAllChildren();for(var t=0;t<this.rewardItemAttrs.length;t++)p.default.instance.pushEquipmentData(1e4*this.rewardItemAttrs[t]),_.default.instance.createRewardEnd(this.rewardItemAttrs[t]);this.rewardItemAttrs[0]&&x.default.instance.open(this.rewardItemAttrs[0]);for(var e=0;e<this.rewardSoulAttrs.length;e++){var i=1+Math.floor(8*Math.random());p.default.instance.pushEquipmentData(this.rewardSoulAttrs[e]+i),_.default.instance.createRewardEnd(this.rewardSoulAttrs[e]+i)}},e.prototype.showProgress=function(t,e,i){var n=this,o=this.gameEndProgress;o.progress=t;var a=(e+i-t)/30;this.schedule(function(){var t=o.progress+a;t>1&&(t-=1,n.gameEndLv.string="Lv"+p.default.instance.Level),o.progress=t},.03,29)},e.prototype.showTask=function(t,e,i){this.gameEndBase.getChildByName("s0").active=t,this.gameEndBase.getChildByName("s1").active=e,this.gameEndBase.getChildByName("s2").active=i},e.prototype.setMapProgress=function(t){switch(t){case 0:this.mapP1[0].active=!1,this.mapP1[1].active=!1,this.mapP2[0].active=!1,this.mapP2[1].active=!1;break;case 1:this.mapP1[0].active=!0,this.mapP1[1].active=!0,this.mapP2[0].active=!1,this.mapP2[1].active=!1;break;case 2:this.mapP1[0].active=!0,this.mapP1[1].active=!0,this.mapP2[0].active=!0,this.mapP2[1].active=!0}},e.prototype.setEndStar=function(t){var e=this,i=p.default.instance.MapData[l.default.getInstance().gameDifficulty][l.default.getInstance().nowLevel-40*l.default.getInstance().gameDifficulty-1];t>i&&(p.default.instance.MapData[l.default.getInstance().gameDifficulty][l.default.getInstance().nowLevel-40*l.default.getInstance().gameDifficulty-1]=t,p.default.instance.setMapData(p.default.instance.MapData),S.default.instance.taskCountData[3]+=t-i,p.default.instance.AchieveCountData[3]+=t-i);for(var n=0;n<3;n++)this.gameEndBase.getChildByName(n+"").active=!1;var o=0;this.schedule(function(){var t=e.gameEndBase.getChildByName(o+"");cc.tween(t).stop(),t.scale=1,t.active=!0,cc.tween(t).to(.1,{scale:1.5}).to(.1,{scale:1}).start(),o++},.6,t-1)},e.prototype.setLevelTask=function(){this.LevelAttrs=[Math.floor(2*Math.random()),2+Math.floor(2*Math.random())],this.LevelHelpSkill=!1,this.LevelTime=Math.floor(3*l.default.getInstance().MapSplitWidth/100),this.ComboCount=3+5*Math.floor(.25*l.default.getInstance().nowLevel)},e.prototype.getLevelTaskBool=function(t){var e=!1;switch(t){case 0:e=Date.now()-this.startDate-this.pauseDate<=1e3*this.LevelTime;break;case 1:e=!this.LevelHelpSkill;break;case 2:e=this.maxCombo>=this.ComboCount;break;case 3:e=l.default.getInstance().HP>80}return e},e.prototype.getTaskString=function(t){var e="";switch(t){case 0:e=m.default.Task1.replace("${time}",""+this.LevelTime);break;case 1:e=m.default.Task2;break;case 2:e=m.default.Task3.replace("${combo}",""+this.ComboCount);break;case 3:e=m.default.Task4.replace("${hp}","60")}return e},e.prototype.setHeroSp=function(){return s(this,void 0,void 0,function(){var t;return r(this,function(e){switch(e.label){case 0:return t=this.heroSk,this.curHeroIndex=p.default.instance.MainHeroIndex,this.setSkillIcon(p.default.instance.MainHeroIndex),this.heroSpAttrs[p.default.instance.MainHeroIndex]?[3,2]:[4,this.loadHeroSpAttrs()];case 1:e.sent(),e.label=2;case 2:return t.skeletonData=this.heroSpAttrs[p.default.instance.MainHeroIndex],t.animation="stay",t._updateSkeletonData(),t.setSkin("001"),this.heroScript.initHeroData(),[2]}})})},e.prototype.setSkillIcon=function(t){for(var e=0;e<this.skillIconAttrs.length;e++)this.skillIconAttrs[e].spriteFrame=g.default.instance.SkillAttrs[t][e];for(var i=0;i<this.skillProgressAttrs.length;i++){var n=g.default.instance.SkillAttrs[t][i],o=f.Skill[7*t+i],a=p.default.instance.HeroDataAttr[t].SkillAttrs[i];-1==a&&(a=0);var s=parseFloat(o.cd)-parseFloat(o.cdup)*a;p.default.instance.Level<parseInt(o.unlock)?(n=g.default.instance.lockSf,s=-1,this.skillTextAttrs[i].string=o.unlock+"\u7ea7\u89e3\u9501"):this.skillTextAttrs[i]&&(this.skillTextAttrs[i].string=""),this.skillProgressAttrs[i].setSkill(i,s,n)}},e.prototype.onBtnExchange=function(t){y.default.instance.playAudio("BtnClick");var e=this.hero.getComponent(sp.Skeleton),i=parseInt(t.target.name);p.default.instance.MainHeroIndex!=i&&u.default.instance.fsm.is("state_stand")&&(this.curHeroIndex=i,p.default.instance.OtherHeroIndex=p.default.instance.MainHeroIndex,p.default.instance.MainHeroIndex=i,this.heroIcon0.spriteFrame=g.default.instance.heroIconGameSf[p.default.instance.MainHeroIndex],this.heroIcon1.spriteFrame=g.default.instance.heroIconGameSf[p.default.instance.OtherHeroIndex],this.heroName0.string=f.HeroName[p.default.instance.MainHeroIndex],this.heroName1.string=f.HeroName[p.default.instance.OtherHeroIndex],e.skeletonData=this.heroSpAttrs[i],e.animation="stay",e._updateSkeletonData(),e.setMaterial(0,this.flashMaterial),e.setSkin("001"),this.setSkillIcon(i),this.heroScript.initHeroData())},e.prototype.loadPet=function(t){return s(this,void 0,void 0,function(){var e;return r(this,function(){return t<0?[2]:(p.default.instance.PetLvAttrs[t]>0&&(e=cc.instantiate(this.petPrefabArray[t]),this.petSk.skeletonData=e._components[0].skeletonData,this.petSk.animation="fly",this.petSk._updateSkeletonData(),this.petSk.setSkin("default")),[2])})})},e.prototype.onBtnHome=function(){y.default.instance.playAudio("BtnClick"),cc.director.emit("hall_layer"),this.canReleaseBundle=!0},e.prototype.onBtnShareVideo=function(){},e.prototype.onBtnNextLevel=function(){if(y.default.instance.playAudio("BtnClick"),!(p.default.instance.Life<5)){p.default.instance.Life-=5,p.default.instance.saveHeroGlobal(),l.default.getInstance().nowLevel<120&&l.default.getInstance().nowLevel++,l.default.getInstance().gameDifficulty=Math.floor((l.default.getInstance().nowLevel-1)/40);var t=Math.floor((l.default.getInstance().nowLevel-40*l.default.getInstance().gameDifficulty-1)/10);l.default.getInstance().BgIndex=t,cc.director.emit("load_game")}},e.prototype.onBtnPause=function(){y.default.instance.playAudio("BtnClick"),l.default.getInstance().inGame=!1,this.gamePauseNode.active||(this.gamePauseNode.active=!0,this.gamePauseTask1.string=this.getTaskString(this.LevelAttrs[0]),this.gamePauseTask2.string=this.getTaskString(this.LevelAttrs[1]),this.pauseStartDate=Date.now())},e.prototype.onBtnResume=function(){y.default.instance.playAudio("BtnClick"),this.gamePauseNode.active=!1,l.default.getInstance().inGame=!0,this.pauseStartDate&&(this.pauseDate+=Date.now()-this.pauseStartDate,this.pauseStartDate=null)},e.prototype.onBtnRestart=function(){y.default.instance.playAudio("BtnClick"),this.onGameStart(),this.gamePauseNode.active=!1,l.default.getInstance().inGame=!0},e.prototype.onBtnRevive=function(){var t=this;y.default.instance.playAudio("BtnClick"),B.shareAd(function(){t.onRevive()})},e.prototype.onBtnReviveByVideo=function(){this.onBtnRevive(),this.reviveNode.active=!1},e.prototype.onBtnReviveByJade=function(){var t=1==c.default.instance.reviveCount?20:25;p.default.instance.Jade<t?this.messageCom.showLack("jade"):(p.default.instance.Jade-=t,p.default.instance.saveHeroGlobal(),this.onRevive(),this.reviveNode.active=!1)},e.prototype.onBtnReviveCancel=function(){y.default.instance.playAudio("BtnClick"),this.reviveNode.active=!1,this.onEnd(!1)},e.prototype.onRevive=function(){this.heroScript.revive(),this.gameEndNode.active=!1,l.default.getInstance().inGame=!0},e.prototype.onBtnCreateMonster=function(){y.default.instance.playAudio("BtnClick"),this.onGameStart()},e.prototype.getGameTime=function(){return Date.now()-this.startDate-this.pauseDate},e.prototype.loadHeroSpAttrs=function(){return s(this,void 0,void 0,function(){var t;return r(this,function(e){switch(e.label){case 0:this.heroSpAttrs=[null,null,null],t=0,e.label=1;case 1:return t<3?t!=p.default.instance.MainHeroIndex?[3,3]:[4,this.loadGameHeroSp(t)]:[3,4];case 2:e.sent(),e.label=3;case 3:return t++,[3,1];case 4:return[2]}})})},e.prototype.loadGameHeroSp=function(t){return s(this,void 0,void 0,function(){var e;return r(this,function(){return e=cc.instantiate(this.rolePrefabArray[t]),this.heroSpAttrs[t]=e._components[0].skeletonData,[2]})})},e.prototype.loadBgAsync=function(t){return s(this,void 0,void 0,function(){var e,i,n,o,a,s,c,u,h,d;return r(this,function(r){switch(r.label){case 0:return e="BG/bg"+(t+1),i=this,[4,this.loadSpriteFrame(e+f.BgName[t][0])];case 1:return i.nearSf=r.sent(),n=this,[4,this.loadSpriteFrame(e+f.BgName[t][1])];case 2:return n.midSf=r.sent(),o=this,[4,this.loadSpriteFrame(e+f.BgName[t][2])];case 3:return o.farSf=r.sent(),a=this,[4,this.loadSpriteFrame(e+f.BgName[t][3])];case 4:return a.holeSf=r.sent(),-1==(s=l.default.getInstance().nowLevel%40-1)&&(s=39),c=f.MapData[s],cc.director.emit("HeroShow"),cc.director.emit("game_start"),l.default.getInstance().inGame=!0,this.isHole=!1,this.isHole=!!c.cave,this.createBox(),this.bgMgr.setMapByIndex(this.isHole),u=this,[4,this.loadSpriteFrame(e+f.BgName[t][4])];case 5:return u.holeNearSf=r.sent(),h=this,[4,this.loadSpriteFrame(e+f.BgName[t][5])];case 6:return h.holeMidSf=r.sent(),d=this,[4,this.loadSpriteFrame(e+f.BgName[t][6])];case 7:return d.holeFarSf=r.sent(),this.loadPet(p.default.instance.PetIndex),[2]}})})},e.prototype.createBox=function(){},e.prototype.loadSpriteFrame=function(t){return new Promise(function(e,i){cc.assetManager.getBundle("game_res").load(t,cc.SpriteFrame,function(t,n){t?i(t):e(n)})})},e.prototype.getMonsterCount=function(t){for(var e=0,i=0;i<t.length;i++)e+=this.getMonsterNum(t[i]);return e},e.prototype.getMonsterNum=function(t){return parseInt(t.toString().substring(0,1))},e.prototype.getMonsterColor=function(t){return parseInt(t.toString().substring(1,2))},e.prototype.getMonsterIndex=function(t){return parseInt(t.toString().substring(2,4))},e.prototype.refreshLife=function(){this.lifeLabel.string=p.default.instance.Life+""},e.prototype.onDestroy=function(){if(y.default.instance.stopBgm(),this.canReleaseBundle){var t=cc.assetManager.getBundle("game_res");t.releaseAll(),cc.assetManager.removeBundle(t)}},e.prototype.update=function(t){var e=this;l.default.getInstance().inGame&&this.gen&&(this.createMonsterTime+=t,this.createMonsterTime>.2&&(this.createMonsterTime=0,this.createMonsterIndex++,this.gen.next().done&&(this.gen=null,this.multIndex++,this.multIndex<this.mult&&this.scheduleOnce(function(){e.gen=e.generateMonster(),e.createMonsterTime=0,e.createMonsterIndex=-1},5))))},e.instance=null,a([M([cc.SpriteFrame])],e.prototype,"bossHpSf",void 0),a([M(cc.Material)],e.prototype,"flashMaterial",void 0),a([M(cc.Prefab)],e.prototype,"boxPrefab",void 0),a([M(cc.Prefab)],e.prototype,"rolePrefabArray",void 0),a([M(cc.Prefab)],e.prototype,"petPrefabArray",void 0),i=a([w],e)}(cc.Component);i.default=P,cc._RF.pop()},{"./Audio":"Audio","./BgMgr":"BgMgr","./DataMgr":"DataMgr","./Director":"Director","./GameSDKManger":"GameSDKManger","./Hall/Message":"Message","./Hero/Hero":"Hero","./Hero/HeroFSM":"HeroFSM","./Hero/HeroGlobal":"HeroGlobal","./Hero/SkillProgress":"SkillProgress","./Monster/MonsterNodePool":"MonsterNodePool","./Reward/RewardAuto":"RewardAuto","./Reward/RewardMgr":"RewardMgr","./TextureMgr":"TextureMgr","./Tool/Statistics":"Statistics","./i18n/Language":"Language","./nativets/Config":"Config","./nativets/Global":"Global","./nativets/Platform":"Platform"}],GetJsonData:[function(t,e,i){"use strict";cc._RF.push(e,"759ad3tH5BA/JzTovFnJWQd","GetJsonData"),Object.defineProperty(i,"__esModule",{value:!0});var n=["hp","ls","sp","cr","arp","bonus","cd","miss","exp","gold"];i.default=function(t){for(var e=0,i={},o=0;o<n.length;o++){var a=n[o];t[a]&&(e++,i[a]=t[a],i[e]=e)}return i},cc._RF.pop()},{}],Global:[function(t,e,i){"use strict";cc._RF.push(e,"a6eec4GnJ5GE7SHs3oYU20C","Global"),Object.defineProperty(i,"__esModule",{value:!0});var n=function(){function t(){this.inGame=!1,this.STATE=cc.Enum({LEFT:3,RIGHT:4,STOP:0}),this.MonsterAudio=cc.Enum({"\u5200":"monsterSword","\u67aa":"monsterLancer","\u7bad":"monsterArrow","\u9b54\u6cd5":"monsterSkill","\u5927\u8c61\u653b\u51fb":"Eleplantattack","\u5927\u8c61\u6b7b\u4ea1":"Eleplantdead","\u706b":"Monsterfire","\u51b0":"Monsterice","\u5de8\u4eba\u653b\u51fb":"Giantstone","\u5de8\u4eba\u6b7b\u4ea1":"Giantdead","\u5de8\u4eba\u6eda\u77f3":"Giantroll","\u8001\u9e70\u653b\u51fb":"Eagleattack","\u8001\u9e70\u6b7b\u4ea1":"Eagledead"}),this.ZYAudio=cc.Enum({"\u653b\u51fb1":"ZYattack1","\u653b\u51fb2":"ZYattack2","\u653b\u51fb3\u4e0a\u6311":"ZYattack3up","\u653b\u51fb3\u591a\u6bb5":"ZYattackmulti","\u77ac\u79fb":"ZYfalsh","\u96f7\u51fb":"ZYthunder","\u88c2\u5730":"ZYsplitground","\u884c\u8d70":"walk","\u51fa\u573a":"ZYshow","\u5931\u8d25":"ZYfail","\u5927\u62db":"ZYultimate","\u5288\u5730":"ZYpd","\u96f7\u52a8\u4e5d\u5929":"ZYleidong"}),this.DCAudio=cc.Enum({"\u5bd2\u51b0\u98ce\u66b4":"DCjianyu","\u591a\u91cd\u7bad":"DCmulti","\u5ba1\u5224":"DCjudge","\u51fa\u573a":"DCshow","\u5931\u8d25":"DCfail","\u5927\u62db":"DCultimate","\u7bad":"DCArrow","\u8df3\u653b":"DCjumpattack","\u4e09\u6bb5":"DCattack3"}),this.DQAudio=cc.Enum({"\u653b\u51fb1":"DQattack1","\u653b\u51fb2":"DQattack2","\u653b\u51fb3":"DQattack3","\u8df3\u653b":"DQjumpattack","\u708e\u843d\u65a9":"DQyanluo","\u6d41\u661f\u96e8":"DQliuxingyu","\u9ed1\u6d1e":"DQheidong","\u5730\u7206\u5929\u661f":"DQdibaotianxing","\u51fa\u573a":"DQshow","\u5931\u8d25":"DQfail","\u5927\u62db":"DQultimate"}),this.MoveState=0,this.canMove=!0,this.deltaX=0,this.comboFlag=!0,this.attackMove=!1,this.MapSplitWidth=2160,this.MapLevelIndex=0,this.MapLevelCount=2,this.levelNext=!1,this.monsterCount=0,this.isMapFocus=!0,this.gameDifficulty=0,this.unlockDifficulty=0,this.nowLevel=1,this.gravity=4e3,this.uuid="",this.wxHead="",this.wxName="",this.wxOpenId="",this.vivoHead="",this.vivoName="",this.registerName="",this.registerHead="",this.preBuff=!1,this.ttAuthor=!1,this.gotoHallNum=0}return t.getInstance=function(){return this.instance||(this.instance=new t),this.instance},t.instance=null,t}();i.default=n,cc._RF.pop()},{}],God:[function(t,e,i){"use strict";cc._RF.push(e,"32dc9PPaEVCzKi6cleFSQPL","God");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),a=this&&this.__decorate||function(t,e,i,n){var o,a=arguments.length,s=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var r=t.length-1;r>=0;r--)(o=t[r])&&(s=(a<3?o(s):a>3?o(e,i,s):o(e,i))||s);return a>3&&s&&Object.defineProperty(e,i,s),s};Object.defineProperty(i,"__esModule",{value:!0});var s=t("../Hero/HeroGlobal"),r=t("../GameUtils"),c=cc._decorator,l=c.ccclass,p=(c.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.onEnable=function(){this.count=0},e.prototype.onBtnClick=function(){this.count++,20==this.count&&(cc.director.emit("daily_reward",r.DailyAward.life,99),s.default.instance.isGod=!0)},a([l],e)}(cc.Component));i.default=p,cc._RF.pop()},{"../GameUtils":"GameUtils","../Hero/HeroGlobal":"HeroGlobal"}],Gradient:[function(t,e,i){"use strict";cc._RF.push(e,"34198S8mTxAwJ2Yu5eiE9i0","Gradient");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),a=this&&this.__decorate||function(t,e,i,n){var o,a=arguments.length,s=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var r=t.length-1;r>=0;r--)(o=t[r])&&(s=(a<3?o(s):a>3?o(e,i,s):o(e,i))||s);return a>3&&s&&Object.defineProperty(e,i,s),s};Object.defineProperty(i,"__esModule",{value:!0});var s=t("../Audio"),r=t("../nativets/Config"),c=cc._decorator,l=c.ccclass,p=(c.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.time=0,e.canClose=!1,e.loadRes=!1,e}return o(e,t),e.prototype.setTips=function(){var t=r.TipString[Math.floor(Math.random()*r.TipString.length)];this.textLabel.string=t},e.prototype.onEnable=function(){var t=this;s.default.instance.playBgm("loading"),this.textLabel||(this.textLabel=this.node.getChildByName("text").getComponent(cc.Label)),this.setTips(),this.time=1.5,cc.assetManager.loadBundle("game_res",function(t){console.log("err -----  ",t),t||cc.director.emit("game_play")}),cc.director.on("game_start",function(){t.node.destroy()})},e.prototype.onDisable=function(){s.default.instance.stopBgm(),cc.director.off("game_start")},e.prototype.update=function(t){this.time>0&&(this.time-=t,this.time<=0&&(this.canClose&&(this.node.active=!1),this.canClose=!0))},a([l],e)}(cc.Component));i.default=p,cc._RF.pop()},{"../Audio":"Audio","../nativets/Config":"Config"}],HallComponent:[function(t,e,i){"use strict";cc._RF.push(e,"5c177RGivtIVo8znVrE5IUD","HallComponent");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),a=this&&this.__decorate||function(t,e,i,n){var o,a=arguments.length,s=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var r=t.length-1;r>=0;r--)(o=t[r])&&(s=(a<3?o(s):a>3?o(e,i,s):o(e,i))||s);return a>3&&s&&Object.defineProperty(e,i,s),s},s=this&&this.__awaiter||function(t,e,i,n){return new(i||(i=Promise))(function(o,a){function s(t){try{c(n.next(t))}catch(e){a(e)}}function r(t){try{c(n.throw(t))}catch(e){a(e)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof i?e:new i(function(t){t(e)})).then(s,r)}c((n=n.apply(t,e||[])).next())})},r=this&&this.__generator||function(t,e){var i,n,o,a,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:r(0),throw:r(1),return:r(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function r(t){return function(e){return c([t,e])}}function c(a){if(i)throw new TypeError("Generator is already executing.");for(;s;)try{if(i=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,n=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!(o=(o=s.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){s=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){s.label=a[1];break}if(6===a[0]&&s.label<o[1]){s.label=o[1],o=a;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(a);break}o[2]&&s.ops.pop(),s.trys.pop();continue}a=e.call(t,s)}catch(r){a=[6,r],n=0}finally{i=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}};Object.defineProperty(i,"__esModule",{value:!0});var c=t("../Audio"),l=t("../DataMgr"),p=t("../Hero/HeroGlobal"),u=t("./Message"),h=t("../nativets/Config"),d=t("../Others/Others"),f=t("./TimeLimit"),m=t("../TextureMgr"),g=t("../Tool/TimeMgr"),y=t("../UserDataInfo"),v=t("../nativets/Global"),_=t("../GameUtils"),b=t("./Tips"),C=t("../equip/Equipment"),S=cc._decorator,x=S.ccclass,A=S.property,k=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.firstSelectPrefab=null,e.setPrefab=null,e.petPrefab=null,e.mapPrefab=null,e.equipPrefab=null,e.otherUIPrefab=null,e.qiMenPrefab=null,e.timeLimitPrefab=null,e.tipsPrefab=null,e.roleArray=[],e.petArray=[],e.timeLimitSaveCount=0,e.onceNative=!1,e}return o(e,t),e.prototype.init=function(){this.LeftNode=this.node.getChildByName("Left"),this.LeftRoot=this.LeftNode.getChildByName("root"),this.hero=this.LeftRoot.getChildByName("Hero"),this.heroSk=this.hero.getComponent(sp.Skeleton),this.RightNode=this.node.getChildByName("Right"),this.timeLimitBtn=this.RightNode.getChildByName("TimeLimit"),this.timeLimitLabel=this.timeLimitBtn.getChildByName("text").getComponent(cc.Label),this.TopNode=this.node.getChildByName("Top"),this.TopIconNode=this.TopNode.getChildByName("icon"),this.lvLabel=this.TopIconNode.getChildByName("lv").getComponent(cc.Label),this.ceLabel=this.TopIconNode.getChildByName("ce").getComponent(cc.Label),this.experience=this.TopIconNode.getChildByName("experience"),this.nameLabel=this.TopIconNode.getChildByName("name").getComponent(cc.Label),this.heroIcon=this.TopIconNode.getChildByName("icon").getComponent(cc.Sprite),this.jadeLabel=this.TopNode.getChildByName("jade").getComponent(cc.Label),this.lifeLabel=this.TopNode.getChildByName("life").getComponent(cc.Label),this.coinsLabel=this.TopNode.getChildByName("coins").getComponent(cc.Label),cc.director.on("CloseEquipment",this.showRight,this),cc.director.on("RefreshIcon",this.refreshSelect,this)},e.prototype.onLoad=function(){this.init(),v.default.getInstance().gotoHallNum++,this.messageCom=cc.director.getScene().getComponentInChildren(u.default),this.initEvent()},e.prototype.initEvent=function(){var t=this;cc.director.on("daily_reward",function(e,i){switch(e){case _.DailyAward.coin:t.addCoins(i);break;case _.DailyAward.jade:t.addJade(i);break;case _.DailyAward.life:t.addLife(i);break;case _.DailyAward.Total:t.refreshTopLabel(!!i)}}),cc.director.on("refresh_fight",function(e){t.ceLabel.string=p.default.instance.HeroDataAttr[e].CE+""}),cc.director.on("hall_left",function(e){t.LeftNode.active=e}),cc.director.on("tips_show",function(e,i){0==e?t.getTipsCom().showRankUp(i):t.getTipsCom().showSuccess(i)}),cc.director.on("RefreshSelect",this.refreshSpine,this)},e.prototype.start=function(){var t=this;this.setTimeLimitState(),this.loadDefaultHeroSpAsync();var e=y.UserDataInfo.instance.getDataByType(y.DataFields.first_select),i=y.UserDataInfo.instance.getDataByType(y.DataFields.sign_data);l.default.instance.needOpenSign&&"1"==e&&i.hadRetro==g.default.getFullYMDToday()?(l.default.instance.needOpenSign=!1,this.OpenSign()):this.scheduleOnce(function(){3==v.default.getInstance().gotoHallNum?i.hadRetro==g.default.getFullYMDToday()&&t.OpenSign():4==v.default.getInstance().gotoHallNum?"1"!=y.UserDataInfo.instance.getDataByType(y.DataFields.reward_wing)&&t.getTimeLimitCom().open(!1):5==v.default.getInstance().gotoHallNum&&t.onBtnOpenQimen()},.3),this.checkRoleSelect(),this.experience.width=p.default.instance.Exp/h.Exp[p.default.instance.Level-1]*130},e.prototype.checkRoleSelect=function(){var t=this;if("0"==y.UserDataInfo.instance.getDataByType(y.DataFields.first_select)){var e=cc.instantiate(this.firstSelectPrefab);this.node.addChild(e),e.on("select_done",function(){t.selectDone()}),this.showSelectRole()}},e.prototype.showSelectRole=function(){this.LeftRoot.x=0,this.RightNode.active=!1,this.TopNode.active=!1},e.prototype.selectDone=function(){this.LeftRoot.x=-330,this.RightNode.active=!0,this.TopNode.active=!0},e.prototype.loadDefaultHeroSpAsync=function(){this.loadMenuHeroSp(p.default.instance.MainHeroIndex),this.refreshHero(p.default.instance.MainHeroIndex)},e.prototype.loadMenuHeroSp=function(t){return s(this,void 0,void 0,function(){var e;return r(this,function(){return e=cc.instantiate(this.roleArray[t]),this.hero.y=-210,this.heroSk.skeletonData=e._components[0].skeletonData,this.heroSk.animation="stay",this.heroSk._updateSkeletonData(),this.heroSk.setSkin("001"),cc.director.emit("RefreshSp",t),e.destroy(),[2]})})},e.prototype.loadMenuPetSp=function(t){return s(this,void 0,void 0,function(){var e;return r(this,function(){return e=cc.instantiate(this.petArray[t]),this.hero.y=-20,this.heroSk.skeletonData=e._components[0].skeletonData,this.heroSk.animation="fly",this.heroSk._updateSkeletonData(),this.heroSk.setSkin("default"),[2]})})},e.prototype.refreshSelect=function(){if(this.LeftNode.active=0==this.getEquipCom().listIndex||3==this.getEquipCom().listIndex,3==this.getEquipCom().listIndex){var t=p.default.instance.PetIndex;t<0&&(t=0),this.getEquipCom().menuSelectCom.setSelect(t),this.loadMenuPetSp(t)}else this.getEquipCom().menuSelectCom.setSelect(p.default.instance.MainHeroIndex),this.loadMenuHeroSp(p.default.instance.MainHeroIndex)},e.prototype.refreshSpine=function(t){3==this.getEquipCom().listIndex?(this.refreshPet(t),p.default.instance.setPetIndex(t)):this.refreshHero(t)},e.prototype.refreshHero=function(t){this.getEquipCom().refreshDetail(t),this.loadMenuHeroSp(t),this.heroIcon.spriteFrame=m.default.instance.heroIconRectSf[t],this.nameLabel.string=h.HeroName[t],this.ceLabel.string=p.default.instance.HeroDataAttr[t].CE+""},e.prototype.refreshPet=function(t){this.loadMenuPetSp(t)},e.prototype.refreshTopLabel=function(t){this.lvLabel&&(this.lvLabel.string="Lv."+p.default.instance.Level,t?(this.jadeLabel.string=_.numFormat(p.default.instance.Jade),this.coinsLabel.string=_.numFormat(p.default.instance.Coins),this.lifeLabel.string=_.numFormat(p.default.instance.Life)):(this.setTopLabel("jade"),this.setTopLabel("coins"),this.setTopLabel("life")))},e.prototype.setTopLabel=function(t){var e=this,i=null,n=0;switch(t){case"jade":i=this.jadeLabel,n=p.default.instance.Jade;break;case"coins":i=this.coinsLabel,n=p.default.instance.Coins;break;case"life":i=this.lifeLabel,n=p.default.instance.Life}var o=parseInt(i.string);if(n>o){this.isScrolling||(c.default.instance.playAudio("TopScroll"),this.isScrolling=!0);var a=this.generateRandomString(t);this.schedule(function(){a.next().done&&(a=null,i.string=_.numFormat(n),e.isScrolling=!1)},.05,15)}else i.string=_.numFormat(n)},e.prototype.generateRandomString=function(t){var e;return r(this,function(i){switch(i.label){case 0:e=0,i.label=1;case 1:return e<15?[4,this.setTopLabel2(t)]:[3,4];case 2:i.sent(),i.label=3;case 3:return e++,[3,1];case 4:return[2]}})},e.prototype.setTopLabel2=function(t){var e=null;switch(t){case"jade":e=this.jadeLabel,p.default.instance.Jade;break;case"coins":e=this.coinsLabel,p.default.instance.Coins;break;case"life":e=this.lifeLabel,p.default.instance.Life}var i=e.string.length;e.string=this.getRandomStr(i)},e.prototype.getRandomStr=function(t){for(var e="",i=0;i<t;i++)e+=Math.floor(10*Math.random())+"";return e},e.prototype.onBtnStart=function(){c.default.instance.playAudio("BtnClick"),this.loadMap()},e.prototype.onBtnOthers=function(t){c.default.instance.playAudio("BtnClick"),parseInt(t.target.name)},e.prototype.onBtnSetting=function(){c.default.instance.playAudio("BtnClick"),this.node.addChild(cc.instantiate(this.setPrefab))},e.prototype.onBtnAddLife=function(){c.default.instance.playAudio("BtnClick"),this.messageCom.showLack("life")},e.prototype.addLife=function(t){p.default.instance.Life+=t,p.default.instance.saveHeroGlobal(),this.refreshTopLabel()},e.prototype.onBtnAddCoins=function(){c.default.instance.playAudio("BtnClick"),this.messageCom.showLack("coins")},e.prototype.addCoins=function(t){p.default.instance.Coins+=t,p.default.instance.saveHeroGlobal(),this.refreshTopLabel()},e.prototype.onBtnAddJade=function(){c.default.instance.playAudio("BtnClick"),this.messageCom.showLack("jade")},e.prototype.addJade=function(t){p.default.instance.Jade+=t,p.default.instance.saveHeroGlobal(),this.refreshTopLabel()},e.prototype.onBtnOpenTimeLimit=function(){c.default.instance.playAudio("BtnClick"),this.getTimeLimitCom().open(!0)},e.prototype.onBtnOpenQimen=function(){c.default.instance.playAudio("BtnClick"),this.node.addChild(cc.instantiate(this.qiMenPrefab))},e.prototype.setTimeLimitState=function(){this.timeLimitBtn.active=p.default.instance.PetLvAttrs[1]<1},e.prototype.refreshTimeLimit=function(){var t=Math.floor(l.default.instance.timeLimitNum);t<=0&&(this.timeLimitBtn.active=!1,this.timeLimitSaveCount=0,l.default.instance.saveTimeLimitData());var e=g.default.formatTime(t);this.timeLimitLabel.string!=e&&(this.timeLimitLabel.string=e,this.timeLimitSaveCount++,this.timeLimitSaveCount>20&&(this.timeLimitSaveCount=0,l.default.instance.saveTimeLimitData()))},e.prototype.loadMap=function(){cc.director.emit("game_map")},e.prototype.showRight=function(){this.LeftNode.active=!0,this.RightNode.active=!0,this.loadMenuHeroSp(p.default.instance.MainHeroIndex)},e.prototype.hideRight=function(){this.RightNode.active=!1,this.LeftNode.active=!1},e.prototype.onBtnListSelect=function(t){this.hideRight(),this.getEquipCom().onBtnListSelect(t)},e.prototype.onBtnOthersSelect=function(t){this.hideRight(),this.getOtherCom().onBtnListSelect(t)},e.prototype.OpenRank=function(){c.default.instance.playAudio("BtnClick"),this.OpenOthers(1)},e.prototype.OpenFriend=function(){this.OpenOthers(9)},e.prototype.OpenSign=function(){this.OpenOthers(0)},e.prototype.getTipsCom=function(){if(!this.TipsCom){var t=cc.instantiate(this.tipsPrefab);this.node.addChild(t),this.TipsCom=t.getComponent(b.default)}return this.TipsCom},e.prototype.getEquipCom=function(){if(!this.equipCom){var t=cc.instantiate(this.equipPrefab);this.node.addChild(t),this.equipCom=t.getComponent(C.default),t.active=!1}return this.equipCom},e.prototype.getOtherCom=function(){var t=this;if(!this.otherCom){var e=cc.instantiate(this.otherUIPrefab);this.node.addChild(e),this.otherCom=e.getComponent(d.default),e.on("other_close",function(){t.showRight()})}return this.otherCom},e.prototype.getTimeLimitCom=function(){var t=this;if(!this.TimeLimitCom){var e=cc.instantiate(this.timeLimitPrefab);this.node.addChild(e),this.TimeLimitCom=e.getComponent(f.default),e.on("close_limit",function(){t.setTimeLimitState()})}return this.TimeLimitCom},e.prototype.OpenOthers=function(t){this.getOtherCom().open(t),this.hideRight()},e.prototype.onEnable=function(){this.refreshTopLabel(!0),c.default.instance&&c.default.instance.stopBgm(),this.scheduleOnce(function(){c.default.instance.playBgm("menu")},1)},e.prototype.onDestroy=function(){c.default.instance.stopBgm(),cc.director.off("CloseEquipment",this.showRight,this),cc.director.off("RefreshIcon",this.refreshSelect,this),cc.director.off("daily_reward"),cc.director.off("refresh_fight"),cc.director.off("tips_show"),cc.director.off("RefreshSelect"),cc.director.off("hall_left")},e.prototype.update=function(t){this.timeLimitBtn.active&&(l.default.instance.timeLimitNum-=t,this.refreshTimeLimit())},a([A(cc.Prefab)],e.prototype,"firstSelectPrefab",void 0),a([A(cc.Prefab)],e.prototype,"setPrefab",void 0),a([A(cc.Prefab)],e.prototype,"petPrefab",void 0),a([A(cc.Prefab)],e.prototype,"mapPrefab",void 0),a([A(cc.Prefab)],e.prototype,"equipPrefab",void 0),a([A(cc.Prefab)],e.prototype,"otherUIPrefab",void 0),a([A(cc.Prefab)],e.prototype,"qiMenPrefab",void 0),a([A(cc.Prefab)],e.prototype,"timeLimitPrefab",void 0),a([A(cc.Prefab)],e.prototype,"tipsPrefab",void 0),a([A(cc.Prefab)],e.prototype,"roleArray",void 0),a([A(cc.Prefab)],e.prototype,"petArray",void 0),a([x],e)}(cc.Component);i.default=k,cc._RF.pop()},{"../Audio":"Audio","../DataMgr":"DataMgr","../GameUtils":"GameUtils","../Hero/HeroGlobal":"HeroGlobal","../Others/Others":"Others","../TextureMgr":"TextureMgr","../Tool/TimeMgr":"TimeMgr","../UserDataInfo":"UserDataInfo","../equip/Equipment":"Equipment","../nativets/Config":"Config","../nativets/Global":"Global","./Message":"Message","./TimeLimit":"TimeLimit","./Tips":"Tips"}],HeroBody:[function(t,e,i){"use strict";cc._RF.push(e,"ef46b2BXWNHvr0udRw0bqPy","HeroBody");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),a=this&&this.__decorate||function(t,e,i,n){var o,a=arguments.length,s=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var r=t.length-1;r>=0;r--)(o=t[r])&&(s=(a<3?o(s):a>3?o(e,i,s):o(e,i))||s);return a>3&&s&&Object.defineProperty(e,i,s),s};Object.defineProperty(i,"__esModule",{value:!0});var s=t("./HeroFSM"),r=t("./Hero"),c=t("../nativets/Global"),l=cc._decorator,p=l.ccclass,u=(l.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.onCollisionEnter=function(t){s.default.instance.fsm.can("hit")&&c.default.getInstance().inGame&&r.default.instance.onHit(t.tag)},a([p],e)}(cc.Component));i.default=u,cc._RF.pop()},{"../nativets/Global":"Global","./Hero":"Hero","./HeroFSM":"HeroFSM"}],HeroData:[function(t,e,i){"use strict";cc._RF.push(e,"49019wPCmpIBa82u3cPWXLF","HeroData"),Object.defineProperty(i,"__esModule",{value:!0});var n=t("./HeroGlobal"),o=t("../nativets/Config"),a=t("./Hero"),s=t("../Tool/Statistics"),r=t("../equip/MenuSelect"),c=t("../UserDataInfo"),l=function(){function t(t,e){this.Type=t,this.Armor=e.Armor,this.Wing=e.Wing,this.Ornament=e.Ornament,this.Weapon=e.Weapon,this.Ring=e.Ring,this.SkillAttrs=e.SkillAttrs;for(var i=0;i<this.SkillAttrs.length;i++)-1==this.SkillAttrs[i]&&(this.SkillAttrs[i]=0);this.Armor<10&&(this.Armor=[21101e4,22104e4,23208e4][t]),this.Weapon<10&&(this.Weapon=[11101e4,12104e4,13107e4][t]),this.Wing>-1&&this.Wing<10&&(this.Wing=-1),this.Ornament>-1&&this.Ornament<10&&(this.Ornament=-1),this.Ring>-1&&this.Ring<10&&(this.Ring=-1),this.updateAttribute()}return t.prototype.init=function(){this.Armor=-1,this.Wing=-1,this.Ornament=-1,this.ATK=10,this.DEF=0,this.CR=10,this.SP=440,this.LS=0,this.Weapon=0,this.SkillCount=1,this.SkillAttrs=[1],this.ARP=0,this.BONUS=0,this.CD=0,this.MISS=0},t.prototype.getBaseAttribute=function(){this.ATK=10+3*(n.default.instance.Level-1),this.HP=400+35*(n.default.instance.Level-1),this.DEF=5,this.LS=0,this.CR=5,this.SP=770,this.ARP=0,this.BONUS=0,this.CD=0,this.MISS=0,this.EXP=0,this.GOLD=0},t.prototype.updateAttribute=function(){this.getBaseAttribute();var t=this.Weapon,e=this.Armor,i=null;this.Wing>-1&&(i=this.Wing);var a=null;this.Ornament>-1&&(a=this.Ornament);var s=null;this.Ring>-1&&(s=this.Ring);for(var r=[t,e,i,a,s],c=0;c<6;c++){var l=null,p=0;if(c<5){if(null==r[c])continue;l=o.getDataById(o.getJsonId(r[c])),p=o.getUpgradeId(r[c])}else n.default.instance.PetIndex>-1&&(l=o.Pet[n.default.instance.PetIndex],p=n.default.instance.PetLvAttrs[n.default.instance.PetIndex]);if(l&&(l.atk&&(this.ATK+=parseFloat(l.atk)+p*parseFloat(l.atkup)),l.def&&(this.DEF+=parseFloat(l.def)+p*parseFloat(l.defup)),l.hp&&(this.HP+=parseFloat(l.hp)+p*parseFloat(l.hpup)),l.ls&&(this.LS+=parseFloat(l.ls)+p*parseFloat(l.lsup)),l.sp&&(this.SP+=parseFloat(l.sp)+p*parseFloat(l.spup)),l.cr&&(this.CR+=parseFloat(l.cr)+p*parseFloat(l.crup)),l.arp&&(this.ARP+=parseFloat(l.arp)+p*parseFloat(l.arpup)),l.Bonus&&(this.BONUS+=parseFloat(l.bonus)+p*parseFloat(l.bonusup)),l.cd&&(this.CD+=parseFloat(l.cd)+p*parseFloat(l.cdup)),l.miss&&(this.MISS+=parseFloat(l.miss)+p*parseFloat(l.missup)),l.exp&&(this.EXP+=parseFloat(l.exp)+p*parseFloat(l.expup)),l.gold&&(this.GOLD+=parseFloat(l.gold)+p*parseFloat(l.goldup)),c<5)){var u=o.getSoulId(r[c]);if(0!=u){var h=o.getSoulDataById(u-1);h.atk&&(this.ATK+=parseFloat(h.atk)),h.def&&(this.DEF+=parseFloat(h.def)),h.hp&&(this.HP+=parseFloat(h.hp)),h.ls&&(this.LS+=parseFloat(h.ls)),h.sp&&(this.SP+=parseFloat(h.sp)),h.cr&&(this.CR+=parseFloat(h.cr)),h.arp&&(this.ARP+=parseFloat(h.arp)),h.Bonus&&(this.BONUS+=parseFloat(h.bonus)),h.cd&&(this.CD+=parseFloat(h.cd)),h.miss&&(this.MISS+=parseFloat(h.miss)),h.exp&&(this.EXP+=parseFloat(h.exp)),h.gold&&(this.GOLD+=parseFloat(h.gold))}}}for(c=0;c<n.default.instance.BookAttrs.length;c++){var d=o.getDataById(n.default.instance.BookAttrs[c]);d.atk&&(this.ATK+=parseFloat(d.atk)),d.def&&(this.DEF+=parseFloat(d.def)),d.hp&&(this.HP+=parseFloat(d.hp)),d.ls&&(this.LS+=parseFloat(d.ls)),d.sp&&(this.SP+=parseFloat(d.sp)),d.cr&&(this.CR+=parseFloat(d.cr)),d.arp&&(this.ARP+=parseFloat(d.arp)),d.Bonus&&(this.BONUS+=parseFloat(d.bonus)),d.cd&&(this.CD+=parseFloat(d.cd)),d.miss&&(this.MISS+=parseFloat(d.miss)),d.exp&&(this.EXP+=parseFloat(d.exp)),d.gold&&(this.GOLD+=parseFloat(d.gold))}this.CE=this.getCE()},t.prototype.buff=function(){this.updateAttribute(),a.default.instance&&(this.ATK*=1.2*a.default.instance.reviveCount,this.DEF*=1.2*a.default.instance.reviveCount)},t.prototype.setTempHP=function(){this.tempHP=200+35*(n.default.instance.Level-1)},t.prototype.setArmor=function(t){0!=o.getWhoId(t)&&o.getWhoId(t)!=this.Type+1||(this.Armor=t,this.saveData())},t.prototype.setWing=function(t){this.Wing=t,this.saveData()},t.prototype.setOrnament=function(t){this.Ornament=t,this.saveData()},t.prototype.setWeapon=function(t){0!=o.getWhoId(t)&&o.getWhoId(t)!=this.Type+1||(this.Weapon=t,this.saveData())},t.prototype.setRing=function(t){this.Ring=t,this.saveData()},t.prototype.setEquip=function(t,e){switch(t){case 1:this.setWeapon(e);break;case 2:this.setArmor(e);break;case 3:this.setRing(e);break;case 4:this.setOrnament(e);break;case 5:this.setWing(e)}},t.prototype.getDataByType=function(t){switch(t){case 1:return this.Weapon;case 2:return this.Armor;case 3:return this.Ring;case 4:return this.Ornament;case 5:return this.Wing}},t.prototype.setSkillArrs=function(t){this.SkillAttrs=t,this.saveData()},t.prototype.getType=function(){return this.Type},t.prototype.getCE=function(){var t;if((t=30*this.ATK+50*this.SP+500*this.CR+700*this.BONUS+150*this.CD+100*this.MISS+2*this.DEF+this.HP+600*this.LS)>this.CE){var e=this.CE+"\u4e0a"+(t-this.CE);cc.director.emit("tips_show",1,e)}return t>n.default.instance.HighestCE&&(n.default.instance.setHighestCE(t),n.default.instance.saveHeroGlobal(),s.default.getInstance().reportRank(s.default.RANKLIST.\u6218\u529b\u699c,t)),Math.floor(t)},t.prototype.saveData=function(){if(this.updateAttribute(),r.default.instance&&null!=r.default.instance.selectIndex&&null!=r.default.instance.selectIndex?cc.director.emit("RefreshSp",r.default.instance.selectIndex):cc.director.emit("RefreshSp",n.default.instance.MainHeroIndex),null!=this.Type){var t={Armor:this.Armor,Wing:this.Wing,Ring:this.Ring,Ornament:this.Ornament,Weapon:this.Weapon,SkillAttrs:this.SkillAttrs},e=c.UserDataInfo.instance.getDataByType(c.DataFields.hero_data);e[this.Type]=t,c.UserDataInfo.instance.changeDataByType(c.DataFields.hero_data,JSON.stringify(e))}},t}();i.default=l,cc._RF.pop()},{"../Tool/Statistics":"Statistics","../UserDataInfo":"UserDataInfo","../equip/MenuSelect":"MenuSelect","../nativets/Config":"Config","./Hero":"Hero","./HeroGlobal":"HeroGlobal"}],HeroFSM:[function(t,e,i){"use strict";cc._RF.push(e,"d798anw0gNAhYMbwahbp3FO","HeroFSM");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),a=this&&this.__decorate||function(t,e,i,n){var o,a=arguments.length,s=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var r=t.length-1;r>=0;r--)(o=t[r])&&(s=(a<3?o(s):a>3?o(e,i,s):o(e,i))||s);return a>3&&s&&Object.defineProperty(e,i,s),s};Object.defineProperty(i,"__esModule",{value:!0});var s=t("../nativets/Global"),r=t("./Hero"),c=t("../Audio"),l=t("../SkillMgr"),p=t("./HeroGlobal"),u=t("../BizarreAdventure/BizarreAdventure"),h=t("../lib/state-machine.min.js"),d=cc._decorator,f=d.ccclass,m=(d.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.jumpRotateCount=4,e.jumpCount=1,e.finalList=0,e}var i;return o(e,t),i=e,e.prototype.initInstance=function(){i.instance=this},e.prototype.init=function(){var t=this;this.sk=this.node.getComponent(sp.Skeleton),this.sk.setCompleteListener(function(){if(!t.fsm.is("state_move")&&!t.fsm.is("state_stand")){if(t.fsm.is("state_jumpattack")){if(t.jumpRotateCount>0)return t.jumpRotateCount--,r.default.instance.attackRotate(),0==p.default.instance.MainHeroIndex&&c.default.instance.playAudio(s.default.getInstance().ZYAudio.\u653b\u51fb1),void(1==p.default.instance.MainHeroIndex&&(t.sk.setAnimation(0,"jump_middle_attack",!0),l.default.instance.create("jump_middle_attack"),c.default.instance.playAudio(s.default.getInstance().DCAudio.\u8df3\u653b)));s.default.getInstance().gravity=4e3,cc.director.emit("MapActionBase")}if(t.fsm.is("state_jump")&&t.jumpCount>0)return t.jumpCount--,void t.sk.setAnimation(0,"jump_middle",!1);t.sk.animation,"skill_shunyi+gongji"==t.sk.animation&&(r.default.instance.node.scaleX=-r.default.instance.node.scaleX),t.sk.animation,"win"==t.sk.animation&&(u.default.instance.node.active=!0),t.fsm.can("stop")&&t.fsm.stop()}}),this.sk.setEventListener(function(e,i){var n=i.data.name;"gongji1"==n&&(s.default.getInstance().comboFlag=!1,r.default.instance.attack()),"gongji2"==n&&(s.default.getInstance().comboFlag=!1,s.default.getInstance().attackMove=!1,r.default.instance.attack()),"gongji4"!=n&&"gongji5"!=n&&"gongji6"!=n||(s.default.getInstance().attackMove=!1,cc.director.emit("MapAction"),"gongji5"==n&&0==p.default.instance.MainHeroIndex&&r.default.instance.attackZYFinal(),"gongji6"==n&&(r.default.instance.attackZYFinal(),c.default.instance.playAudio(s.default.getInstance().ZYAudio.\u88c2\u5730))),"gongji_jianyu"==n&&(cc.log("\u5bd2\u51b0\u98ce\u66b4"),t.scheduleOnce(function(){c.default.instance.playAudio(s.default.getInstance().DCAudio.\u5bd2\u51b0\u98ce\u66b4)},.06),t.scheduleOnce(function(){l.default.instance.create("texiao_jianyu")},.2))}),this.fsm=new h({init:"state_stand",transitions:[{name:"reset",from:"*",to:"state_stand"},{name:"move",from:"state_stand",to:"state_move"},{name:"jump",from:["state_stand","state_move","state_attack","state_attack1","state_attack2"],to:"state_jump"},{name:"attack",from:"state_jump",to:"state_jumpattack"},{name:"attack",from:["state_stand","state_move"],to:"state_attack"},{name:"attack",from:["state_attack"],to:"state_attack1"},{name:"attack",from:["state_attack1"],to:"state_attack2"},{name:"attack",from:["state_attack2"],to:"state_attack"},{name:"heavy",from:["state_stand","state_move"],to:"state_heavy"},{name:"spin",from:["state_stand","state_move"],to:"state_spin"},{name:"double",from:["state_stand","state_move"],to:"state_double"},{name:"ten",from:["state_stand","state_move"],to:"state_ten"},{name:"skill",from:["state_stand","state_move","state_flash"],to:"state_skill"},{name:"skill1",from:["state_stand","state_move"],to:"state_skill1"},{name:"skill2",from:["state_stand","state_move"],to:"state_skill2"},{name:"flash",from:["state_stand","state_move","state_attack","state_attack1","state_attack2","state_skill","state_skill1","state_skill2"],to:"state_flash"},{name:"block",from:["state_stand","state_move","state_attack","state_attack1","state_attack2","state_skill","state_skill1","state_skill2"],to:"state_block"},{name:"stop",from:["state_attack","state_attack1","state_attack2","state_heavy","state_spin","state_double","state_skill","state_skill1","state_skill2","state_ten","state_move","state_hit","state_flash","state_jump","state_jumpattack","state_show","state_win"],to:"state_stand"},{name:"hit",from:["state_attack","state_attack1","state_attack2","state_heavy","state_spin","state_double","state_skill1","state_skill2","state_ten","state_move","state_stand","state_jump","state_jumpattack"],to:"state_hit"},{name:"dead",from:["state_hit"],to:"state_dead"},{name:"show",from:"*",to:"state_show"},{name:"win",from:"*",to:"state_win"}],methods:{onLeaveStateAttack:function(){s.default.getInstance().comboFlag=!1},onLeaveStateAttack1:function(){s.default.getInstance().comboFlag=!1,s.default.getInstance().attackMove=!1},onLeaveStateAttack2:function(){s.default.getInstance().comboFlag=!1,s.default.getInstance().attackMove=!1},onShow:function(){t.sk.setAnimation(0,"show",!1)},onWin:function(){t.sk.setAnimation(0,"win",!0),c.default.instance.stopBgm(),c.default.instance.playAudio("Win")},onReset:function(){t.sk.setAnimation(0,"stay",!0),c.default.instance.stopAudio(s.default.getInstance().ZYAudio.\u884c\u8d70)},onMove:function(){t.sk.setAnimation(0,"run",!0),t.finalList=0,c.default.instance.playAudio(s.default.getInstance().ZYAudio.\u884c\u8d70)},onJump:function(){t.sk.setAnimation(0,"jump_start",!1),t.jumpCount=1},onAttack:function(){if(c.default.instance.stopAudio(s.default.getInstance().ZYAudio.\u884c\u8d70),s.default.getInstance().comboFlag=!0,t.fsm.is("state_attack")){var e="";t.sk.setAnimation(0,"attack_a"+e,!1),2==p.default.instance.MainHeroIndex&&l.default.instance.create("attack_a"),0==p.default.instance.MainHeroIndex&&c.default.instance.playAudio(s.default.getInstance().ZYAudio.\u653b\u51fb1)}else if(t.fsm.is("state_attack1"))e="",t.sk.setAnimation(0,"attack_b"+e,!1),2==p.default.instance.MainHeroIndex&&l.default.instance.create("attack_b"),0==p.default.instance.MainHeroIndex&&c.default.instance.playAudio(s.default.getInstance().ZYAudio.\u653b\u51fb2),s.default.getInstance().attackMove=!0;else if(t.fsm.is("state_attack2")){switch(e="attack_e",Math.random()<.5&&(e="attack_f"),Math.floor(3*Math.random())){case 0:e="attack_e",0==p.default.instance.MainHeroIndex&&c.default.instance.playAudio(s.default.getInstance().ZYAudio.\u653b\u51fb3\u591a\u6bb5);break;case 1:e="attack_f",0==p.default.instance.MainHeroIndex&&c.default.instance.playAudio(s.default.getInstance().ZYAudio.\u653b\u51fb3\u4e0a\u6311);break;case 2:e="attack_g"}if(t.finalList++,0==p.default.instance.MainHeroIndex?t.sk.setAnimation(0,e,!1):t.sk.setAnimation(0,"attack_e",!1),2==p.default.instance.MainHeroIndex){var i="attack_e";Math.random()<.5&&(i="attack_c"),l.default.instance.create(i)}s.default.getInstance().attackMove=!0,r.default.instance.attackFinal()}else if(t.fsm.is("state_jumpattack"))if(t.sk.setAnimation(0,"jump_middle_attack",!0),l.default.instance.create("jump_middle_attack"),0==p.default.instance.MainHeroIndex)c.default.instance.playAudio(s.default.getInstance().ZYAudio.\u653b\u51fb1),t.jumpRotateCount=3;else if(1==p.default.instance.MainHeroIndex){var n=.1;t.node.y<-100&&(n=.3),cc.tween(t.node).to(n,{position:cc.v3(t.node.x,60)}).call(function(){c.default.instance.playAudio(s.default.getInstance().DCAudio.\u8df3\u653b),t.jumpRotateCount=1}).start()}},onHeavy:function(){},onSpin:function(){},onDouble:function(){},onFlash:function(){t.scheduleOnce(function(){i.instance.fsm.can("skill")&&"skill_shunyi+gongji"==t.sk.animation&&(i.instance.fsm.skill(),l.default.instance.create("skill_shunyi+gongji"))},.8)},onBlock:function(){},onSkill1:function(){},onSkill2:function(){},onStop:function(){s.default.getInstance().comboFlag=!1,t.sk.setAnimation(0,"stay",!0),c.default.instance.stopAudio(s.default.getInstance().ZYAudio.\u884c\u8d70)},onHit:function(){t.sk.setAnimation(0,"hurt",!0),c.default.instance.stopAudio(s.default.getInstance().ZYAudio.\u884c\u8d70)},onDead:function(){t.sk.setAnimation(0,"lose",!0),c.default.instance.stopAudio(s.default.getInstance().ZYAudio.\u884c\u8d70),r.default.instance.afterDead()}}})},e.prototype.start=function(){this.init()},e.prototype.canJump=function(){return!(!this.fsm.is("state_stand")&&!this.fsm.is("state_move"))},e.prototype.canPushAway=function(){return!!(this.fsm.is("state_attack1")||this.fsm.is("state_attack2")||this.fsm.is("state_heavy")||this.fsm.is("state_spin"))},e.prototype.isAttack=function(){return!!(this.fsm.is("state_attack")||this.fsm.is("state_attack1")||this.fsm.is("state_attack2"))},e.prototype.isHyperArmor=function(){return!!(this.fsm.is("state_heavy")||this.fsm.is("state_ten")||this.fsm.is("state_attack2"))},e.prototype.isMulti=function(){return!(!this.fsm.is("state_double")&&!this.fsm.is("state_ten"))},e.prototype.isWin=function(){return!!this.fsm.is("state_win")},e.instance=null,i=a([f],e)}(cc.Component));i.default=m,cc._RF.pop()},{"../Audio":"Audio","../BizarreAdventure/BizarreAdventure":"BizarreAdventure","../SkillMgr":"SkillMgr","../lib/state-machine.min.js":"state-machine.min","../nativets/Global":"Global","./Hero":"Hero","./HeroGlobal":"HeroGlobal"}],HeroGlobal:[function(t,e,i){"use strict";cc._RF.push(e,"63436gcd41F2b7kG58jupZM","HeroGlobal"),Object.defineProperty(i,"__esModule",{value:!0});var n=t("../nativets/Config"),o=t("./HeroData"),a=t("../nativets/Global"),s=t("../Tool/Sort"),r=t("../Tool/Statistics"),c=t("../UserDataInfo"),l=function(){function t(){this.MonsterKillCount=0,this.HeroDataAttr=[],this.EffectSwitch="1",this.BgmSwitch="1",this.Level=0,this.StarCount=0,this.isGod=!1}return Object.defineProperty(t,"instance",{get:function(){return t._instance||(t._instance=new t),t._instance},enumerable:!1,configurable:!0}),t.prototype.init=function(){this.loadEquipmentAttrs()},t.prototype.onGameStart=function(){for(var t=0;t<3;t++)this.HeroDataAttr[t].setTempHP()},t.prototype.loadEquipmentAttrs=function(){var t=c.UserDataInfo.instance.getDataByType(c.DataFields.equipment_attrs);this.setEquipmentAttrs(t)},t.prototype.setEquipmentAttrs=function(t){this.WeaponAttrs=t.WeaponAttrs,this.ArmorAttrs=t.ArmorAttrs,this.RingAttrs=t.RingAttrs,this.OrnamentAttrs=t.OrnamentAttrs,this.WingAttrs=t.WingAttrs,this.PetLvAttrs=t.PetLvAttrs,this.SoulAttrs=t.SoulAttrs,t.BookAttrs?this.BookAttrs=t.BookAttrs:this.BookAttrs=[]},t.prototype.saveEquipmentAttrs=function(){var t={WeaponAttrs:this.WeaponAttrs,ArmorAttrs:this.ArmorAttrs,RingAttrs:this.RingAttrs,SoulAttrs:this.SoulAttrs,OrnamentAttrs:this.OrnamentAttrs,WingAttrs:this.WingAttrs,PetLvAttrs:this.PetLvAttrs,BookAttrs:this.BookAttrs};c.UserDataInfo.instance.changeDataByType(c.DataFields.equipment_attrs,JSON.stringify(t))},t.prototype.setExp=function(t){this.Exp=t;var e=this.getIndex(t,n.Exp);this.AchieveCountData&&(this.AchieveCountData[9]=e),this.Level=e,e>=2&&(this.SkillCount=2),e>=5&&(this.SkillCount=3),e>=10&&(this.SkillCount=4),e>=15&&(this.SkillCount=5)},t.prototype.setCoins=function(t){this.Coins=t,this.refreshCoins()},t.prototype.setLife=function(t){this.Life=t},t.prototype.setJade=function(t){t||(t=20),this.Jade=t},t.prototype.setUnlock=function(t){this.PetLvAttrs[0]<1&&t>19&&this.unlockPet(2),this.Unlock=t,a.default.getInstance().unlockDifficulty=Math.floor((t-1)/40),a.default.getInstance().gameDifficulty=a.default.getInstance().unlockDifficulty},t.prototype.setHeroIndex=function(t,e){this.MainHeroIndex=t,this.OtherHeroIndex=e},t.prototype.setPetIndex=function(t){this.PetIndex=t},t.prototype.setHeroData=function(t,e){this.HeroDataAttr[t]=new o.default(t,e)},t.prototype.setMonsterKillCount=function(t){this.MonsterKillCount=t},t.prototype.setHighestCE=function(t){this.HighestCE=t},t.prototype.setAchieveCountData=function(t){this.AchieveCountData=t},t.prototype.setAchieveGetCountData=function(t){this.AchieveGetCountData=t},t.prototype.pushEquipmentData=function(t){var e=n.getTypeId(t),i=this.getDataAttrsByIndex(e);i.push(t),i.sort(s.default)},t.prototype.setHeroGlobal=function(t){this.setExp(t.Exp),this.setCoins(t.Coins),this.setLife(t.Life),this.setJade(t.Jade),this.setUnlock(t.Unlock),this.setHeroIndex(t.MainHeroIndex,t.OtherHeroIndex),this.setPetIndex(t.PetIndex),t.MonsterKillCount?this.setMonsterKillCount(t.MonsterKillCount):this.setMonsterKillCount(0),t.HighestCE?this.setHighestCE(t.HighestCE):this.setHighestCE(0),t.AchieveCountData?this.setAchieveCountData(t.AchieveCountData):this.setAchieveCountData([1,0,0,0,0,0,0,0,0,0]),t.AchieveGetCountData?this.setAchieveGetCountData(t.AchieveGetCountData):this.setAchieveGetCountData([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1])},t.prototype.initMapBox=function(){this.MapBox=[];for(var t=0;t<12;t++){this.MapBox[t]=[];for(var e=0;e<3;e++)this.MapBox[t].push(0)}},t.prototype.setMapBox=function(t){this.MapBox=t,c.UserDataInfo.instance.changeDataByType(c.DataFields.map_box,JSON.stringify(t))},t.prototype.initMapData=function(){this.MapData=[[],[],[]];for(var t=0;t<3;t++)for(var e=0;e<40;e++)this.MapData[t].push(0)},t.prototype.setMapData=function(t){this.MapData=t;for(var e=0,i=0;i<3;i++)for(var n=0;n<this.MapData[i].length;n++){var o=this.MapData[i][n];if(0==o)break;e+=o}this.StarCount=e,r.default.getInstance().reportRank(r.default.RANKLIST.\u901a\u5173\u699c,e),c.UserDataInfo.instance.changeDataByType(c.DataFields.map_data,JSON.stringify(t))},t.prototype.saveHeroGlobal=function(){var t={Exp:this.Exp,Life:this.Life,Coins:this.Coins,Jade:this.Jade,Unlock:this.Unlock,MainHeroIndex:this.MainHeroIndex,OtherHeroIndex:this.OtherHeroIndex,PetIndex:this.PetIndex,MonsterKillCount:this.MonsterKillCount,HighestCE:this.HighestCE,AchieveCountData:this.AchieveCountData,AchieveGetCountData:this.AchieveGetCountData};c.UserDataInfo.instance.changeDataByType(c.DataFields.hero_global_data,JSON.stringify(t))},t.prototype.saveMapData=function(){c.UserDataInfo.instance.changeDataByType(c.DataFields.map_data,JSON.stringify(this.MapData))},t.prototype.refreshCoins=function(){cc.director.emit("RefreshCoins")},t.prototype.refreshLife=function(){cc.director.emit("RefreshLife")},t.prototype.getMainHeroData=function(){return this.HeroDataAttr[this.MainHeroIndex]},t.prototype.getOtherHeroData=function(){return this.HeroDataAttr[this.OtherHeroIndex]},t.prototype.unlockPet=function(t){this.PetLvAttrs[t]<1&&(this.PetLvAttrs[t]=1,this.saveEquipmentAttrs(),this.PetIndex<0&&(this.PetIndex=t,this.saveHeroGlobal()))},t.prototype.getDataAttrsByIndex=function(t){switch(t){case 1:return this.WeaponAttrs;case 2:return this.ArmorAttrs;case 3:return this.RingAttrs;case 4:return this.OrnamentAttrs;case 5:return this.WingAttrs;case 6:return this.SoulAttrs;case 7:return this.BookAttrs}},t.prototype.getIndex=function(t,e){for(var i=e.length-1;i>=0;i--)if(t>=e[i])return i+2;return 1},t.prototype.getProgress=function(t){var e=0;return this.getIndex(this.Exp-t,n.Exp)<this.Level&&(e=this.Level-this.getIndex(this.Exp-t,n.Exp)),this.Level-e==1?(this.Exp-t)/n.Exp[0]:this.Level-e>1&&this.Level-e<100?(this.Exp-t-n.Exp[this.Level-e-2])/(n.Exp[this.Level-e-1]-n.Exp[this.Level-e-2]):this.Level-e==100?1:void 0},t._instance=null,t}();i.default=l,cc._RF.pop()},{"../Tool/Sort":"Sort","../Tool/Statistics":"Statistics","../UserDataInfo":"UserDataInfo","../nativets/Config":"Config","../nativets/Global":"Global","./HeroData":"HeroData"}],HeroHit:[function(t,e,i){"use strict";cc._RF.push(e,"9e580pn7KdFzoille/JRgRE","HeroHit");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),a=this&&this.__decorate||function(t,e,i,n){var o,a=arguments.length,s=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var r=t.length-1;r>=0;r--)(o=t[r])&&(s=(a<3?o(s):a>3?o(e,i,s):o(e,i))||s);return a>3&&s&&Object.defineProperty(e,i,s),s};Object.defineProperty(i,"__esModule",{value:!0});var s=t("./Hero"),r=t("./HeroFSM"),c=t("../BulletItem"),l=t("../Map/Box"),p=t("../ComboMgr"),u=cc._decorator,h=u.ccclass,d=(u.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.onCollisionEnter=function(t,e){var i=s.default.instance.ATK-Math.floor(5*Math.random());0!=e.tag&&(i=e.tag*s.default.instance.ATK*.01);var n=s.default.instance.isCR;if(n=Math.random()<.2,r.default.instance.canPushAway(),t.node.emit("Hit",i,n,!1),s.default.instance.onBS(i,n),this.node.getComponent(c.default)&&this.node.getComponent(c.default).unuse(),"box"!=t.node.parent.name){if("tower"==t.node.parent.name)return t.node.parent.destroy(),void cc.director.emit("TowerDestroy");s.default.instance.bloodAnim.node.x=t.node.parent.x,s.default.instance.bloodAnim.play(),p.default.instance.attack()}else t.node.parent.getComponent(l.default).openBox()},a([h],e)}(cc.Component));i.default=d,cc._RF.pop()},{"../BulletItem":"BulletItem","../ComboMgr":"ComboMgr","../Map/Box":"Box","./Hero":"Hero","./HeroFSM":"HeroFSM"}],HeroPet:[function(t,e,i){"use strict";cc._RF.push(e,"b7ab4Nk1M5KUahGDev10vAB","HeroPet");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),a=this&&this.__decorate||function(t,e,i,n){var o,a=arguments.length,s=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var r=t.length-1;r>=0;r--)(o=t[r])&&(s=(a<3?o(s):a>3?o(e,i,s):o(e,i))||s);return a>3&&s&&Object.defineProperty(e,i,s),s};Object.defineProperty(i,"__esModule",{value:!0});var s=t("../nativets/Global"),r=t("./Hero"),c=t("../Reward/RewardMgr"),l=t("../Audio"),p=cc._decorator,u=p.ccclass,h=(p.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.updateCount=0,e.move=0,e.speed=500,e.followDistance=170,e}var i;return o(e,t),i=e,e.prototype.init=function(){var t=this;i.instance=this,this.petSk=this.node.getComponent(sp.Skeleton),this.petSk.setCompleteListener(function(){"claim"==t.petSk.animation&&t.petSk.setAnimation(0,"fly",!0)})},e.prototype.pickup=function(){l.default.instance.playAudio("GetCoins"),r.default.instance.showCoins(1),this.petSk.setAnimation(0,"claim",!1)},e.prototype.onLoad=function(){this.init()},e.prototype.getCloseCoin=function(){for(var t=9e3,e=-1,i=0;i<c.default.instance.unColleted.length;i++){var n=c.default.instance.unColleted[i],o=this.getDistance(n);o<t&&(t=o,e=i)}return-1!=e?c.default.instance.unColleted[e]:null},e.prototype.getDistance=function(t){return Math.abs(this.node.x-t.x)},e.prototype.petUpdate=function(){if(c.default.instance.unColleted.length>0){var t=this.getCloseCoin();t&&(this.node.x<t.x?this.node.scaleX=.56:this.node.scaleX=-.56,this.getDistance(t)>10?this.node.scaleX<0?this.move=-1:this.move=1:this.move=0)}else this.node.x<r.default.instance.node.x?this.node.scaleX=.56:this.node.scaleX=-.56,this.getDistance(r.default.instance.node)>this.followDistance?this.node.scaleX<0?this.move=-1:this.move=1:this.move=0},e.prototype.emitEvent=function(t){this.lastX==this.node.x&&0==c.default.instance.unColleted.length||(this.lastX=this.node.x,t&&(this.lastX=r.default.instance.node.x),cc.director.emit("PetMove",this.lastX))},e.prototype.update=function(t){if(s.default.getInstance().inGame){if(!this.petSk.skeletonData)return this.updateCount++,void(10==this.updateCount&&(this.updateCount=0,this.emitEvent(!0)));switch(this.petUpdate(),this.updateCount++,10==this.updateCount&&(this.updateCount=0,this.emitEvent()),this.move){case-1:this.node.x-=this.speed*t;break;case 1:this.node.x+=this.speed*t}}},e.instance=null,i=a([u],e)}(cc.Component));i.default=h,cc._RF.pop()},{"../Audio":"Audio","../Reward/RewardMgr":"RewardMgr","../nativets/Global":"Global","./Hero":"Hero"}],HeroSPSet:[function(t,e,i){"use strict";cc._RF.push(e,"ad304WygPNB/pGp846R6g0r","HeroSPSet");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),a=this&&this.__decorate||function(t,e,i,n){var o,a=arguments.length,s=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var r=t.length-1;r>=0;r--)(o=t[r])&&(s=(a<3?o(s):a>3?o(e,i,s):o(e,i))||s);return a>3&&s&&Object.defineProperty(e,i,s),s};Object.defineProperty(i,"__esModule",{value:!0});var s=t("./HeroGlobal"),r=t("../nativets/Config"),c=cc._decorator,l=c.ccclass,p=(c.property,[["AF","AE","BX","BW","GY","CY","OY","KY","CYY","HY","EY","OX","KX","P","B"],["AF","AE","BX","BY","GY","HY","EY","OX","KX","P","PH","PHH"],["AF","AQF","AHF","AE","AFS","BY","BOY","BKY","BYY","GY","HY","EY","OY","KY","OX","KX"]]),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.init=function(){this.sk=this.node.getComponent(sp.Skeleton),cc.director.on("RefreshSp",this.onRefresh,this)},e.prototype.start=function(){this.init()},e.prototype.setWeaponSlot=function(t){this.Weapon!=t&&this.sk.setSkin("00"+(r.getLvId(t)+0))},e.prototype.setArmorSlot=function(t,e){if(this.Armor!=e)for(var i=p[t],n="00"+(r.getLvId(e)+0),o=0;o<i.length;o++)this.setSpineSLot(n,i[o])},e.prototype.setWingSlot=function(t){if(this.Wing!=t)if(-1==t)this.sk.findSlot("chibang_zuo").setAttachment(null),this.sk.findSlot("chibang_you").setAttachment(null);else{var e=t,i=r.getIndexId(e);this.sk.findSlot("chibang_zuo").setAttachment(this.getAttachment("00"+i,"chibang_zuo")),this.sk.findSlot("chibang_you").setAttachment(this.getAttachment("00"+i,"chibang_you"))}},e.prototype.setSpineSLot=function(t,e){this.sk&&this.sk.findSlot(e)&&this.sk.findSlot(e).setAttachment(this.getAttachment(t,e))},e.prototype.getAttachment=function(t,e){this.skData=this.sk.skeletonData.getRuntimeData();var i=this.skData.findSkin(t),n=this.skData.findSlotIndex(e);return i.getAttachment(n,e)},e.prototype.onRefresh=function(t){var e=s.default.instance.HeroDataAttr[t];this.setWeaponSlot(e.Weapon),this.setWingSlot(e.Wing),this.setArmorSlot(t,e.Armor)},e.prototype.onDestroy=function(){cc.director.off("RefreshSp",this.onRefresh,this)},a([l],e)}(cc.Component);i.default=u,cc._RF.pop()},{"../nativets/Config":"Config","./HeroGlobal":"HeroGlobal"}],HeroSkill:[function(t,e,i){"use strict";cc._RF.push(e,"802d63GFl5EeK9fNRpBMbsu","HeroSkill");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),a=this&&this.__decorate||function(t,e,i,n){var o,a=arguments.length,s=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var r=t.length-1;r>=0;r--)(o=t[r])&&(s=(a<3?o(s):a>3?o(e,i,s):o(e,i))||s);return a>3&&s&&Object.defineProperty(e,i,s),s};Object.defineProperty(i,"__esModule",{value:!0});var s=t("../SkillMgr"),r=t("./Hero"),c=t("./HeroFSM"),l=t("./HeroGlobal"),p=t("../Game"),u=t("../Audio"),h=t("../nativets/Global"),d=t("../nativets/Config"),f=cc._decorator,m=f.ccclass,g=(f.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.playing=!1,e}return o(e,t),e.prototype.init=function(){var t=this;this.sk=this.node.getComponent(sp.Skeleton),this.hit=this.node.getChildByName("hit"),this.hitBox=this.hit.getComponent(cc.BoxCollider),this.hitBox||(this.hitBox=this.hit.getComponent(cc.CircleCollider)),this.hitAoe=this.node.getChildByName("hitaoe"),this.hitAoeBox=this.hitAoe.getComponent(cc.BoxCollider),this.hitAoeBox||(this.hitAoeBox=this.hitAoe.getComponent(cc.CircleCollider)),this.hiBall=this.node.getChildByName("hiball"),this.hiBall&&(this.hitAllBox=this.hiBall.getComponent(cc.BoxCollider)),this.hitJump=this.node.getChildByName("hitjump"),this.sk&&this.sk.setCompleteListener(function(){"skill_guangbo"==t.sk.animation&&(t.hit.active=!1),t.stop()}),this.isFollowHero=!1,cc.director.on("GameStart",this.stop,this)},e.prototype.onLoad=function(){this.init()},e.prototype.play=function(t){var e=this;switch(this.node.opacity=255,this.sk&&this.sk.setAnimation(0,t,!1),this.playing=!0,t){case"skill_guangbo":this.hitBox.tag=this.getDmgByIndex(d.HeroSkillName[l.default.instance.MainHeroIndex].indexOf(t)),u.default.instance.playAudio(h.default.getInstance().DCAudio.\u5ba1\u5224),this.scheduleOnce(function(){e.hit.active=!0,e.bone=e.sk.findSlot("guangbo").bone,e.hit.y=e.bone.worldY},.5);break;case"attack_a":case"attack_b":2==l.default.instance.MainHeroIndex&&(u.default.instance.playAudio(h.default.getInstance().DQAudio.\u653b\u51fb1),this.node.y+=20,this.hit.active=!0,this.bone=this.sk.findBone("qiou"),this.bone&&this.bone.worldY&&(this.hit.y=this.bone.worldY));break;case"attack_c":2==l.default.instance.MainHeroIndex&&(this.hit.active=!0,this.bone=this.sk.findBone("fenghuang"),u.default.instance.playAudio(h.default.getInstance().DQAudio.\u653b\u51fb3),this.bone&&this.bone.worldY&&(this.hit.y=this.bone.worldY));break;case"attack_e":this.hitBox.tag=this.getDmgByIndex(d.HeroSkillName[l.default.instance.MainHeroIndex].indexOf(t)),2!=l.default.instance.MainHeroIndex?this.scheduleOnce(function(){e.hit.active=!0,e.bone=e.sk.findSlot("arrow").bone,e.hit.y=e.bone.worldY},.1):(u.default.instance.playAudio(h.default.getInstance().DQAudio.\u653b\u51fb2),this.hit.active=!0,this.bone=this.sk.findBone("acttack_guangqiou"),this.bone&&this.bone.worldY&&(this.hit.y=this.bone.worldY));break;case"texiao_jianyu":this.hitAoeBox.tag=this.getDmgByIndex(d.HeroSkillName[l.default.instance.MainHeroIndex].indexOf(t)),this.scheduleOnce(function(){e.hitAoe.active=!0},.3);break;case"skill_duochongjian":this.hitBox.tag=this.getDmgByIndex(d.HeroSkillName[l.default.instance.MainHeroIndex].indexOf(t)),u.default.instance.playAudio(h.default.getInstance().DCAudio.\u591a\u91cd\u7bad),this.hit.active=!0,this.bone=this.sk.findBone("jianqi2");break;case"skill_shunyi+gongji":this.hitBox.tag=this.getDmgByIndex(d.HeroSkillName[l.default.instance.MainHeroIndex].indexOf(t)),this.node.opacity=0,this.hit.active=!0,this.hit.y=20,this.heroBone=c.default.instance.sk.findBone("jianqi");break;case"jump_middle_attack":1==l.default.instance.MainHeroIndex?(this.hit.active=!0,this.hit.y=20,this.bone=this.sk.findBone("jianqi2")):2==l.default.instance.MainHeroIndex?(u.default.instance.playAudio(h.default.getInstance().DQAudio.\u8df3\u653b),this.hitJump.active=!0,this.isFollowHero=!0):this.stop();break;case"skill_leidian":this.hitAoeBox.tag=this.getDmgByIndex(d.HeroSkillName[l.default.instance.MainHeroIndex].indexOf(t)),this.schedule(function(){e.hitAoe.active=!0,e.scheduleOnce(function(){e.hitAoe.active=!1})},.2,4,.7),this.schedule(function(){u.default.instance.playAudio(h.default.getInstance().ZYAudio.\u96f7\u51fb)},.2,4,.9),this.scheduleOnce(function(){e.stop()},1.6);break;case"skill_leidongjiutian":this.hitAoeBox.tag=this.getDmgByIndex(d.HeroSkillName[l.default.instance.MainHeroIndex].indexOf(t)),this.schedule(function(){e.hitAoe.active=!0,e.scheduleOnce(function(){e.hitAoe.active=!1})},.2,4,1.5),this.scheduleOnce(function(){u.default.instance.playAudio(h.default.getInstance().ZYAudio.\u96f7\u52a8\u4e5d\u5929)},1),this.scheduleOnce(function(){e.stop()},1.6);break;case"skill_pd":this.hitBox.tag=this.getDmgByIndex(d.HeroSkillName[l.default.instance.MainHeroIndex].indexOf(t)),u.default.instance.playAudio(h.default.getInstance().ZYAudio.\u5288\u5730),this.scheduleOnce(function(){e.hit.active=!0},.7),this.scheduleOnce(function(){e.stop()},.72);break;case"skill_shunyi":this.hitBox.tag=this.getDmgByIndex(d.HeroSkillName[l.default.instance.MainHeroIndex].indexOf(t)),u.default.instance.playAudio(h.default.getInstance().ZYAudio.\u77ac\u79fb),r.default.instance.hitBody.active=!0,this.scheduleOnce(function(){r.default.instance.hitBody.active=!1,e.stop()},.8);break;case"skill_dipotianxing":u.default.instance.playAudio(h.default.getInstance().DQAudio.\u5730\u7206\u5929\u661f),this.hitAllBox.tag=this.getDmgByIndex(d.HeroSkillName[l.default.instance.MainHeroIndex].indexOf(t)),this.node.y=-200,this.schedule(function(){e.hiBall.active=!0,e.scheduleOnce(function(){e.hiBall.active=!1})},.2,8,1.2),this.scheduleOnce(function(){p.default.instance.node.getChildByName("bg").x=cc.find("Canvas").getChildByName("heroCamera").x,p.default.instance.node.getChildByName("bg").active=!0,e.scheduleOnce(function(){p.default.instance.node.getChildByName("bg").active=!1},2)},1.5);break;case"skill_heidong":u.default.instance.playAudio(h.default.getInstance().DQAudio.\u9ed1\u6d1e),this.hitAllBox.tag=this.getDmgByIndex(d.HeroSkillName[l.default.instance.MainHeroIndex].indexOf(t)),this.node.y=-200,this.schedule(function(){e.hiBall.active=!0,e.scheduleOnce(function(){e.hiBall.active=!1})},.2,4,1.5),this.scheduleOnce(function(){p.default.instance.node.getChildByName("bg").x=cc.find("Canvas").getChildByName("heroCamera").x,p.default.instance.node.getChildByName("bg").active=!0,e.scheduleOnce(function(){p.default.instance.node.getChildByName("bg").active=!1},1)},1.2);break;case"skill_liuxingyu":u.default.instance.playAudio(h.default.getInstance().DQAudio.\u6d41\u661f\u96e8),this.hitAoeBox.tag=this.getDmgByIndex(d.HeroSkillName[l.default.instance.MainHeroIndex].indexOf(t)),this.node.y=-200,this.schedule(function(){e.hitAoe.active=!0,e.scheduleOnce(function(){e.hitAoe.active=!1})},.15,7,1.1);break;case"skill_yanlouzhan":this.scheduleOnce(function(){u.default.instance.playAudio(h.default.getInstance().DQAudio.\u708e\u843d\u65a9)},.5),this.hitAoeBox.tag=this.getDmgByIndex(d.HeroSkillName[l.default.instance.MainHeroIndex].indexOf(t)),this.node.y=-200,this.scheduleOnce(function(){e.hitAoe.active=!0,e.scheduleOnce(function(){e.stop()})},.7)}},e.prototype.stop=function(){this.hit&&(this.hit.active=!1,this.hitAoe.active=!1,this.isFollowHero=!1,this.hitJump&&(this.hitJump.active=!1),this.hiBall&&(this.hiBall.active=!1),this.playing=!1,this.hitBox.tag=0,this.hitAoeBox.tag=0,this.bone=null,this.heroBone=null,"dceffect"==this.node.name?s.default.instance.getSkillPool(1).put(this.node):"zyeffect"==this.node.name?s.default.instance.getSkillPool(0).put(this.node):s.default.instance.getSkillPool(2).put(this.node))},e.prototype.getDmgByIndex=function(t){var e=d.Skill[7*l.default.instance.MainHeroIndex+t],i=l.default.instance.HeroDataAttr[l.default.instance.MainHeroIndex].SkillAttrs[t];return parseFloat(e.dmg)+parseFloat(e.dmgup)*i||0},e.prototype.update=function(){this.playing&&(this.bone&&(this.hit.x=this.bone.worldX,this.hit.y=this.bone.worldY),this.heroBone&&(this.hit.x=this.heroBone.worldX,this.hit.x<-1500&&this.stop()),this.isFollowHero&&(this.node.x=r.default.instance.node.x+(r.default.instance.node.scaleX>0?200:-200)))},e.prototype.onDestroy=function(){cc.director.off("GameStart",this.stop,this)},a([m],e)}(cc.Component));i.default=g,cc._RF.pop()},{"../Audio":"Audio","../Game":"Game","../SkillMgr":"SkillMgr","../nativets/Config":"Config","../nativets/Global":"Global","./Hero":"Hero","./HeroFSM":"HeroFSM","./HeroGlobal":"HeroGlobal"}],Hero:[function(t,e,i){"use strict";cc._RF.push(e,"8f8b1gA5h5MO7Ysr3i2eAHv","Hero");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),a=this&&this.__decorate||function(t,e,i,n){var o,a=arguments.length,s=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var r=t.length-1;r>=0;r--)(o=t[r])&&(s=(a<3?o(s):a>3?o(e,i,s):o(e,i))||s);return a>3&&s&&Object.defineProperty(e,i,s),s};Object.defineProperty(i,"__esModule",{value:!0});var s=t("./HeroFSM"),r=t("../nativets/Global"),c=t("../Audio"),l=t("../BulletMgr"),p=t("../SkillMgr"),u=t("./HeroGlobal"),h=t("../nativets/Config"),d=t("../Game"),f=t("../LifeProgress"),m=t("./HeroPet"),g=t("../BgMgr"),y=t("../Map/ArrowRain"),v=t("../Monster/Monster"),_=cc._decorator,b=_.ccclass,C=(_.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.speed=400,e.NodeWidth=160,e.dmg=999,e.isCR=!1,e.nextFlag=!1,e.hurtSpace=0,e.checkPassSpace=0,e.checkPassCount=0,e.isShow=!1,e}var i;return o(e,t),i=e,e.prototype.initInstance=function(){i.instance=this,this.node.getComponent(s.default).initInstance()},e.prototype.init=function(){this.hit=this.node.getChildByName("hit"),this.hitRotate=this.node.getChildByName("hitrotate"),this.hitFinal=this.node.getChildByName("hitfinal"),this.hitBody=this.node.getChildByName("hitbody"),this.hitBox=this.hit.getComponent(cc.BoxCollider),this.lifeProgress=d.default.instance.hudNode.getChildByName("icon").getChildByName("lifeProgress").getComponent(f.default),this.dmgNode=this.node.getChildByName("dmg"),this.dmgLabel=this.dmgNode.getComponent(cc.Label),this.bsNode=this.node.getChildByName("bs"),this.bsLabel=this.bsNode.getComponent(cc.Label),this.missNode=this.node.getChildByName("miss"),this.coinsNode=this.node.getChildByName("coins"),this.coinsLabel=this.coinsNode.getComponent(cc.Label),this.missNode.active=!1,this.material=this.node.getComponent(sp.Skeleton).getMaterial(0),this.showAudioAttrs=[r.default.getInstance().ZYAudio.\u51fa\u573a,r.default.getInstance().DCAudio.\u51fa\u573a,r.default.getInstance().DQAudio.\u51fa\u573a],this.failAudioAttrs=[r.default.getInstance().ZYAudio.\u5931\u8d25,r.default.getInstance().DCAudio.\u5931\u8d25,r.default.getInstance().DQAudio.\u5931\u8d25],this.bloodAnim=this.node.parent.getChildByName("blood").getComponent(cc.Animation),s.default.instance.init(),this.heroCamera=cc.director.getScene().getComponentInChildren(cc.Canvas).node.getChildByName("heroCamera").getComponent(cc.Camera),cc.director.on("HeroShow",this.onShow,this)},e.prototype.reset=function(){var t=this;this.checkPassSpace=0,this.checkPassCount=0,s.default.instance.fsm.reset(),this.node.x=-300,this.arrowTime=5,r.default.getInstance().deltaX=-300,this.node.y=-200,this.canJump=!0,setTimeout(function(){t.node.x=300,r.default.getInstance().deltaX=300,s.default.instance.fsm.show(),c.default.instance.playAudio(t.showAudioAttrs[u.default.instance.MainHeroIndex])},500),this.initHeroData(),this.reviveCount=0},e.prototype.onGameStart=function(){var t=this;this.reset(),r.default.getInstance().HP=this.HP,this.lifeProgress.setHP(100),this.scheduleOnce(function(){u.default.instance.isGod&&(t.HP=5e5,r.default.getInstance().HP=t.HP,u.default.instance.Unlock=30)},1),r.default.getInstance().preBuff&&this.scheduleOnce(function(){t.ATK*=1.25,r.default.getInstance().preBuff=!1},1),r.default.getInstance().deltaX=300,this.leftDistance=0},e.prototype.onExitHole=function(){this.node.x=300,g.default.instance.reset(),m.default.instance.node.x=130,r.default.getInstance().deltaX=300,this.leftDistance=300},e.prototype.initHeroData=function(){var t=u.default.instance.getMainHeroData();t.updateAttribute(),cc.director.emit("RefreshSp",u.default.instance.MainHeroIndex),this.ATK=t.ATK,this.DEF=t.DEF,this.SP=t.SP,this.CR=t.CR,this.LS=t.LS,this.MISS=t.MISS,this.HP=t.HP,r.default.getInstance().HP=this.HP,this.lifeProgress.setHP(100),this.skillNameAttrs=h.HeroSkillName[u.default.instance.MainHeroIndex],this.setHitBox()},e.prototype.buff=function(){this.ATK*=1+.2*i.instance.reviveCount,this.DEF*=1+.15*i.instance.reviveCount},e.prototype.onShow=function(){this.node&&!this.isShow&&(this.node.x=300,r.default.getInstance().deltaX=300,s.default.instance.fsm.show())},e.prototype.onBS=function(t,e){var i=t*this.LS*.01*(e?2:1);this.showBS(i),i=100*i/this.HP,this.onAddHp(i)},e.prototype.showBS=function(t){if(0!=(t=Math.ceil(t))){var e=this.bsNode;e.stopAllActions(),this.bsLabel.string="+"+t,e.active=!0,e.position=cc.v3(0,250),cc.tween(e).by(.3,{position:cc.v3(0,50)}).call(function(){e.active=!1}).start()}},e.prototype.showCoins=function(t){var e=this;this.coinsLabel.string="\u91d1+"+t,cc.tween(this.coinsNode).stop(),this.coinsNode.y=220,this.coinsNode.active=!0,cc.tween(this.coinsNode).parallel(cc.tween(this.coinsNode).by(.3,{y:70}),cc.tween(this.coinsNode).to(.1,{scale:1.2}).delay(.3).to(.1,{scale:0})).delay(0).call(function(){e.coinsNode.active=!1}).start()},e.prototype.showDmg=function(t){if(0!=(t=Math.ceil(t))){var e=this.dmgNode;cc.tween(e).stop(),this.dmgLabel.string="-"+t,e.active=!0,e.position=cc.v3(0,250),cc.tween(e).by(.3,{y:50}).delay(.3).call(function(){e.active=!1}).start()}},e.prototype.onBtnAttack=function(){r.default.getInstance().inGame&&s.default.instance.fsm.can("attack")&&(r.default.getInstance().comboFlag||s.default.instance.fsm.attack())},e.prototype.attack=function(){var t=this;if(0==u.default.instance.MainHeroIndex)this.hit.active=!0,this.scheduleOnce(function(){t.hit.active=!1});else if(1==u.default.instance.MainHeroIndex){var e=this.node.scaleX>0?1:-1,i=this.node.x+50*e,n=this.node.y+85;l.default.instance.create(0,cc.v2(i,n),e),c.default.instance.playAudio(r.default.getInstance().DCAudio.\u7bad)}},e.prototype.attackFinal=function(){var t=this;0==u.default.instance.MainHeroIndex?this.schedule(function(){t.hit.active=!0,t.scheduleOnce(function(){t.hit.active=!1})},.2,2):1==u.default.instance.MainHeroIndex&&(p.default.instance.create("attack_e"),c.default.instance.playAudio(r.default.getInstance().DCAudio.\u4e09\u6bb5))},e.prototype.attackZYFinal=function(){var t=this;this.hitFinal.active=!0,this.scheduleOnce(function(){t.hitFinal.active=!1})},e.prototype.attackRotate=function(){var t=this;this.hitRotate.active=!0,this.scheduleOnce(function(){t.hitRotate.active=!1})},e.prototype.showMiss=function(){var t=this;cc.tween(this.missNode).stop(),this.missNode.y=220,this.missNode.active=!0,cc.tween(this.missNode).parallel(cc.tween(this.missNode).by(.3,{y:70}),cc.tween(this.missNode).to(.1,{scale:1.2}).delay(.3).to(.1,{scale:0})).delay(0).call(function(){t.missNode.active=!1}).start()},e.prototype.onHit=function(t){var e=this;if(100*Math.random()<this.MISS)this.showMiss();else{var i=t*(1-this.DEF/(this.DEF+2500));this.showDmg(i);var n=100*i/this.HP;if(this.lifeProgress.damage(n),r.default.getInstance().HP-=i,r.default.getInstance().HP<=0&&(s.default.instance.fsm.can("hit")&&s.default.instance.fsm.hit(),this.dead()),Math.random()<1){var o=["ZY","DC","DQ"][u.default.instance.MainHeroIndex]+"hurt"+Math.floor(3*Math.random());0==this.hurtSpace&&(this.hurtSpace=1.5,c.default.instance.playAudio(o)),this.material.effect.setProperty("isFlash",1.1),this.scheduleOnce(function(){e.material.effect.setProperty("isFlash",.5)},.15)}}},e.prototype.dead=function(){s.default.instance.fsm.can("dead")&&s.default.instance.fsm.dead()},e.prototype.afterDead=function(){2==this.reviveCount?d.default.instance.onEnd(!1):(d.default.instance.reviveNode.active=!0,r.default.getInstance().inGame=!1,this.reviveCount++,d.default.instance.reviveLabel.string="x "+(1==this.reviveCount?20:25))},e.prototype.revive=function(){r.default.getInstance().HP=100,this.buff(),this.lifeProgress.setHP(60),s.default.instance.fsm.show()},e.prototype.onBtnJump=function(){this.canJump&&s.default.instance.fsm.can("jump")&&(s.default.instance.fsm.jump(),this.speedY=1700,this.jumping=!0,this.canJump=!1)},e.prototype.onBtnFlash=function(){c.default.instance.playAudio("BtnClick"),s.default.instance.fsm.can("flash")&&s.default.instance.fsm.flash()},e.prototype.onBtnSkill1=function(){this.onSkill(0)},e.prototype.onBtnSkill2=function(){var t=h.Skill[7*d.default.instance.curHeroIndex+1];u.default.instance.Level<parseInt(t.unlock)||this.onSkill(1)},e.prototype.onBtnSkill3=function(){var t=h.Skill[7*d.default.instance.curHeroIndex+2];u.default.instance.Level<parseInt(t.unlock)||this.onSkill(2)},e.prototype.onBtnSkill4=function(){var t=h.Skill[7*d.default.instance.curHeroIndex+3];u.default.instance.Level<parseInt(t.unlock)||this.onSkill(3)},e.prototype.onBtnSkillAddHp=function(){c.default.instance.playAudio("addHp"),u.default.instance.Life<1||(u.default.instance.Life-=1,u.default.instance.saveHeroGlobal(),d.default.instance.refreshLife(),this.onAddHp(40))},e.prototype.onAddHp=function(t){this.lifeProgress.addHP(t)},e.prototype.onSkill=function(t){if(4!=t){if(!(this.node.y>-200)){var e=this.skillNameAttrs[t];if("skill_shunyi+gongji"==e||"skill_shunyi"==e){if(!s.default.instance.fsm.can("flash"))return;s.default.instance.fsm.flash()}else{if(!s.default.instance.fsm.can("skill"))return;s.default.instance.fsm.skill()}switch(s.default.instance.sk.setAnimation(0,e,!1),e){case"skill_guangbo":p.default.instance.create(e),this.scheduleOnce(function(){s.default.instance.fsm.can("flash")&&s.default.instance.fsm.flash()},.8);break;case"skill_duochongjian":p.default.instance.create(e);break;case"skill_leidian":c.default.instance.playAudio(r.default.getInstance().ZYAudio.\u5927\u62db),p.default.instance.create(e);break;case"skill_leidongjiutian":case"skill_shunyi":case"skill_pd":p.default.instance.create(e);break;case"skill_dipotianxing":this.scheduleOnce(function(){s.default.instance.fsm.can("flash")&&s.default.instance.fsm.flash()},2.2),c.default.instance.playAudio(r.default.getInstance().DQAudio.\u5927\u62db),p.default.instance.create(e);break;case"skill_heidong":case"skill_liuxingyu":case"skill_yanlouzhan":p.default.instance.create(e);break;case"skill_jianyu":c.default.instance.playAudio(r.default.getInstance().DCAudio.\u5927\u62db)}}}else this.onBtnSkillAddHp()},e.prototype.setHitBox=function(){var t=0;0==u.default.instance.MainHeroIndex?t=370:2==u.default.instance.MainHeroIndex&&(t=750),this.hitBox.size=new cc.Size(t,40),this.hitBox.offset=cc.v2(t/2,0)},e.prototype.resetNumber=function(){for(var t=this.dmgNode,e=this.missNode,i=this.coinsNode,n=[t,this.bsNode,e,i],o=0;o<n.length;o++)n[o].active&&(this.node.scaleX>0?n[o].scaleX=1:n[o].scaleX=-1)},e.prototype.dealHurtSpace=function(t){this.hurtSpace-=t,this.hurtSpace<=0&&(this.hurtSpace=0)},e.prototype.arrowRainUpdate=function(t){if(1!=r.default.getInstance().nowLevel){this.arrowTime-=t;var e=.15;r.default.getInstance().nowLevel>=15&&r.default.getInstance().nowLevel<=40&&(e=.25),r.default.getInstance().nowLevel>40&&(e=.35),this.arrowTime<=0&&(Math.random()<e&&y.default.instance.use(),this.arrowTime=3+2*Math.random())}},e.prototype.checkPass=function(){this.checkPassSpace++,r.default.getInstance().monsterCount>0&&this.checkPassSpace>120&&(this.checkPassSpace=0,d.default.instance.gameEventNode.getComponentInChildren(v.default)?this.checkPassCount=0:(this.checkPassCount++,8==this.checkPassCount&&d.default.instance.onEnd(!0)))},e.prototype.update=function(t){if(r.default.getInstance().inGame){if(this.checkPass(t),this.dealHurtSpace(t),this.arrowRainUpdate(t),!s.default.instance.fsm.is("state_jumpattack")&&!s.default.instance.fsm.is("state_flash")&&!s.default.instance.fsm.is("state_skill"))switch(r.default.getInstance().MoveState){case r.default.getInstance().STATE.LEFT:this.node.scaleX=-.7;break;case r.default.getInstance().STATE.RIGHT:this.node.scaleX=.7}if(this.resetNumber(),this.jumping&&(this.speedY-=t*r.default.getInstance().gravity,this.node.y+=this.speedY*t,this.heroCamera.node.y+=this.speedY*t*.12,this.node.y<-200&&(this.node.y=-200,this.heroCamera.node.y=0,this.jumping=!1,this.canJump=!0,s.default.instance.fsm.can("stop")&&(s.default.instance.isWin()||s.default.instance.fsm.stop()))),s.default.instance.fsm.is("state_flash"))if("skill_guangbo"==s.default.instance.sk.animation||"skill_dipotianxing"==s.default.instance.sk.animation){var e=Math.floor(.3*this.speed*t*100)/100;this.node.scaleX<0?(this.node.x+=e,r.default.getInstance().deltaX+=e):this.node.scaleX>=0&&(this.node.x+=-e,r.default.getInstance().deltaX+=-e)}else e=Math.floor(3*this.speed*t*100)/100,this.node.scaleX<0?(this.node.x+=-e,r.default.getInstance().deltaX+=-e):this.node.scaleX>=0&&(this.node.x+=e,r.default.getInstance().deltaX+=e);else if(s.default.instance.fsm.is("state_jumpattack"))e=Math.floor(this.speed*t*200)/100,u.default.instance.MainHeroIndex>0&&(e*=.3),this.node.scaleX<0?(this.node.x+=-e,r.default.getInstance().deltaX+=-e):this.node.scaleX>=0&&(this.node.x+=e,r.default.getInstance().deltaX+=e);else if(r.default.getInstance().canMove)switch(r.default.getInstance().MoveState){case r.default.getInstance().STATE.LEFT:if(s.default.instance.fsm.is("state_move")||s.default.instance.fsm.is("state_jump")){var i=Math.floor(this.SP*t*100)/100;this.node.x+=-i,this.node.scaleX=-.7,r.default.getInstance().deltaX+=-i}s.default.instance.fsm.can("move")&&s.default.instance.fsm.move();break;case r.default.getInstance().STATE.RIGHT:if(s.default.instance.fsm.is("state_move")||s.default.instance.fsm.is("state_jump")){var n=Math.floor(this.SP*t*100)/100;this.node.x+=n,this.node.scaleX=.7,r.default.getInstance().deltaX+=n}s.default.instance.fsm.can("move")&&s.default.instance.fsm.move();break;case r.default.getInstance().STATE.STOP:return void(s.default.instance.fsm.is("state_move")&&s.default.instance.fsm.stop())}r.default.getInstance().canScrollLeft=!1,r.default.getInstance().canScrollRight=!1;var o=cc.v2(0,0);this.heroCamera.getWorldToScreenPoint(this.node.position,o),r.default.getInstance().canMove&&(2!=r.default.getInstance().MapLevelIndex&&o.x>.75*cc.winSize.width&&r.default.getInstance().deltaX<r.default.getInstance().MapSplitWidth*(r.default.getInstance().MapLevelIndex+1)-.25*cc.winSize.width&&(this.heroCamera.node.x=this.node.x-.75*cc.winSize.width,r.default.getInstance().canScrollRight=!0),2==r.default.getInstance().MapLevelIndex&&o.x>.75*cc.winSize.width&&r.default.getInstance().deltaX<r.default.getInstance().MapSplitWidth-.25*cc.winSize.width&&(this.heroCamera.node.x=this.node.x-.75*cc.winSize.width,r.default.getInstance().canScrollRight=!0)),1==r.default.getInstance().MapLevelIndex?o.x<.25*cc.winSize.width&&r.default.getInstance().deltaX>r.default.getInstance().MapSplitWidth*r.default.getInstance().MapLevelIndex-.5*cc.winSize.width&&(this.heroCamera.node.x=this.node.x-.25*cc.winSize.width,r.default.getInstance().canScrollLeft=!0):o.x<.25*cc.winSize.width&&r.default.getInstance().deltaX>.25*cc.winSize.width&&(this.heroCamera.node.x=this.node.x-.25*cc.winSize.width,r.default.getInstance().canScrollLeft=!0);var a=this.NodeWidth*Math.abs(this.node.scaleX)/2;r.default.getInstance().deltaX<a+this.leftDistance&&(this.node.x=a+this.leftDistance,r.default.getInstance().deltaX=a+this.leftDistance),r.default.getInstance().MapLevelIndex>0&&r.default.getInstance().MapLevelIndex<2&&r.default.getInstance().deltaX<r.default.getInstance().MapSplitWidth*r.default.getInstance().MapLevelIndex-.75*cc.winSize.width+a&&(this.node.x=r.default.getInstance().MapSplitWidth*r.default.getInstance().MapLevelIndex-.75*cc.winSize.width+a,r.default.getInstance().deltaX=r.default.getInstance().MapSplitWidth*r.default.getInstance().MapLevelIndex-.75*cc.winSize.width+a),2==r.default.getInstance().MapLevelIndex?r.default.getInstance().deltaX>r.default.getInstance().MapSplitWidth-a&&(this.node.x=r.default.getInstance().MapSplitWidth-a,r.default.getInstance().deltaX=r.default.getInstance().MapSplitWidth-a):r.default.getInstance().deltaX>r.default.getInstance().MapSplitWidth*(r.default.getInstance().MapLevelIndex+1)-a&&(r.default.getInstance().levelNext?d.default.instance.createNext():(this.node.x=r.default.getInstance().MapSplitWidth*(r.default.getInstance().MapLevelIndex+1)-a,r.default.getInstance().deltaX=r.default.getInstance().MapSplitWidth*(r.default.getInstance().MapLevelIndex+1)-a))}},e.prototype.onDestroy=function(){cc.director.off("HeroShow",this.onShow,this)},e.instance=null,i=a([b],e)}(cc.Component));i.default=C,cc._RF.pop()},{"../Audio":"Audio","../BgMgr":"BgMgr","../BulletMgr":"BulletMgr","../Game":"Game","../LifeProgress":"LifeProgress","../Map/ArrowRain":"ArrowRain","../Monster/Monster":"Monster","../SkillMgr":"SkillMgr","../nativets/Config":"Config","../nativets/Global":"Global","./HeroFSM":"HeroFSM","./HeroGlobal":"HeroGlobal","./HeroPet":"HeroPet"}],Joystick:[function(t,e,i){"use strict";cc._RF.push(e,"51a90lmI6FG85J+k6IIIDvM","Joystick");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),a=this&&this.__decorate||function(t,e,i,n){var o,a=arguments.length,s=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var r=t.length-1;r>=0;r--)(o=t[r])&&(s=(a<3?o(s):a>3?o(e,i,s):o(e,i))||s);return a>3&&s&&Object.defineProperty(e,i,s),s};Object.defineProperty(i,"__esModule",{value:!0});var s=t("./nativets/Global"),r=t("./Hero/Hero"),c=t("./Director"),l=t("./Game"),p=cc._decorator,u=p.ccclass,h=p.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.AttackBtn=null,e.State=0,e}return o(e,t),e.prototype.init=function(){s.default.getInstance().MoveState=this.State,this.joyBg=this.node,this.canTouch=!0,this.joyTouch=this.node.getChildByName("joytouch"),this.radius=this.node.width/2,this.originPos=cc.v3(-71,-266),this.node.position=this.originPos,this.AttackState=!1,this.AttackSpace=0},e.prototype.start=function(){this.init(),this.node.parent.on("touchstart",this.touchs,this),this.node.parent.on("touchmove",this.touchm,this),this.node.parent.on("touchend",this.touche,this),this.node.parent.on("touchcancel",this.touche,this),this.AttackBtn.on("touchstart",this.onAttack,this),this.AttackBtn.on("touchend",this.onAttackC,this),this.AttackBtn.on("touchcancel",this.onAttackC,this),cc.systemEvent.on(cc.SystemEvent.EventType.KEY_DOWN,this.onKeyDown,this),cc.systemEvent.on(cc.SystemEvent.EventType.KEY_UP,this.onKeyUp,this)},e.prototype.onAttack=function(){r.default.instance.onBtnAttack(),this.AttackState=!0,this.AttackSpace=0},e.prototype.onAttackC=function(){this.AttackState=!1},e.prototype.touchs=function(t){var e=this.node.parent.convertToNodeSpaceAR(t.getLocation());this.canTouch=!0,this.joyBg.opacity=120,this.node.position=e},e.prototype.touchm=function(t){if(!c.default.instance.node.active){var e=this.joyBg.convertToNodeSpaceAR(t.getLocation()).x,i=this.joyBg.convertToNodeSpaceAR(t.getLocation()).y,n=Math.atan2(e,i),o=cc.v2(e,i).mag();o>this.radius&&(o=this.radius),this.joyTouch.setPosition(cc.v2(Math.sin(n)).x*o,cc.v2(Math.cos(n)).x*o),e>this.node.width/2&&(e=this.node.width/2),e<-this.node.width/2&&(e=-this.node.width/2),i>this.node.height/2&&(i=this.node.height/2),i<-this.node.height/2&&(i=-this.node.height/2),this.joyTouch.setPosition(e,i);var a=Math.atan2(0,1);this.State=n>a?s.default.getInstance().STATE.RIGHT:s.default.getInstance().STATE.LEFT,s.default.getInstance().MoveState=this.State}},e.prototype.touche=function(){this.node.position=this.originPos,this.joyTouch.setPosition(0,0),this.State=s.default.getInstance().STATE.STOP,this.joyBg.opacity=255,s.default.getInstance().MoveState=this.State},e.prototype.onKeyDown=function(t){if(s.default.getInstance().inGame)switch(t.keyCode){case cc.macro.KEY.a:case cc.macro.KEY.left:s.default.getInstance().MoveState|=s.default.getInstance().STATE.LEFT;break;case cc.macro.KEY.d:case cc.macro.KEY.right:s.default.getInstance().MoveState|=s.default.getInstance().STATE.RIGHT;break;case cc.macro.KEY.w:case cc.macro.KEY.space:r.default.instance.onBtnJump();break;case cc.macro.KEY.j:r.default.instance.onBtnAttack();break;case cc.macro.KEY.k:l.default.instance.skillProgressAttrs[0].onClick();break;case cc.macro.KEY.l:l.default.instance.skillProgressAttrs[1].onClick();break;case cc.macro.KEY.u:l.default.instance.skillProgressAttrs[2].onClick();break;case cc.macro.KEY.i:l.default.instance.skillProgressAttrs[3].onClick()}},e.prototype.onKeyUp=function(t){switch(t.keyCode){case cc.macro.KEY.a:case cc.macro.KEY.left:s.default.getInstance().MoveState&=~s.default.getInstance().STATE.LEFT;break;case cc.macro.KEY.d:case cc.macro.KEY.right:s.default.getInstance().MoveState&=~s.default.getInstance().STATE.RIGHT;break;case cc.macro.KEY.w:case cc.macro.KEY.space:}},e.prototype.update=function(){this.AttackState&&(0==this.AttackSpace&&r.default.instance.onBtnAttack(),this.AttackSpace++,this.AttackSpace>7&&(this.AttackSpace=0))},e.prototype.onDestroy=function(){this.node.parent.off("touchstart",this.touchs,this),this.node.parent.off("touchmove",this.touchm,this),this.node.parent.off("touchend",this.touche,this),this.node.parent.off("touchcancel",this.touche,this),this.AttackBtn.off("touchstart",this.onAttack,this),this.AttackBtn.off("touchend",this.onAttackC,this),this.AttackBtn.off("touchcancel",this.onAttackC,this),cc.systemEvent.off(cc.SystemEvent.EventType.KEY_DOWN,this.onKeyDown,this),cc.systemEvent.off(cc.SystemEvent.EventType.KEY_UP,this.onKeyUp,this)},a([h(cc.Node)],e.prototype,"AttackBtn",void 0),a([u],e)}(cc.Component);i.default=d,cc._RF.pop()},{"./Director":"Director","./Game":"Game","./Hero/Hero":"Hero","./nativets/Global":"Global"}],LabelComponent:[function(t,e,i){"use strict";cc._RF.push(e,"0b3d2Jar8xH9oA6czhZqG06","LabelComponent");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),a=this&&this.__decorate||function(t,e,i,n){var o,a=arguments.length,s=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var r=t.length-1;r>=0;r--)(o=t[r])&&(s=(a<3?o(s):a>3?o(e,i,s):o(e,i))||s);return a>3&&s&&Object.defineProperty(e,i,s),s};Object.defineProperty(i,"__esModule",{value:!0}),i.LabelComponent=void 0;var s=t("./ActionComponent"),r=cc._decorator,c=r.ccclass,l=r.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.target=null,e.speed=0,e.label=null,e.str="",e}return o(e,t),e.prototype.onLoad=function(){this.preStr=this.label.string},e.prototype.getTween=function(){return null},e.prototype.startAction=function(){this.label.string=this.str,this.callFunc&&this.callFunc()},e.prototype.endAction=function(){this.label.string=this.str},e.prototype.resetAction=function(){this.label.string=this.preStr},a([l({type:cc.Node,override:!0,visible:!1})],e.prototype,"target",void 0),a([l({displayName:"\u52a8\u4f5c\u65f6\u95f4",override:!0})],e.prototype,"speed",void 0),a([l({displayName:"target",type:cc.Label})],e.prototype,"label",void 0),a([l({displayName:"\u8981\u586b\u5165\u7684\u503c"})],e.prototype,"str",void 0),a([c],e)}(s.ActionComponent);i.LabelComponent=p,cc._RF.pop()},{"./ActionComponent":"ActionComponent"}],Language:[function(t,e,i){"use strict";cc._RF.push(e,"fa2cakak0JEi6XcSuqI5Px7","Language"),Object.defineProperty(i,"__esModule",{value:!0});var n=t("./ZH").default;i.default=n,cc._RF.pop()},{"./ZH":"ZH"}],LifeMgr:[function(t,e,i){"use strict";cc._RF.push(e,"3a1f4PWKiZMaKM++Ob/SEdf","LifeMgr");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),a=this&&this.__decorate||function(t,e,i,n){var o,a=arguments.length,s=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var r=t.length-1;r>=0;r--)(o=t[r])&&(s=(a<3?o(s):a>3?o(e,i,s):o(e,i))||s);return a>3&&s&&Object.defineProperty(e,i,s),s};Object.defineProperty(i,"__esModule",{value:!0});var s=t("../GameUtils"),r=t("../Hero/HeroGlobal"),c=t("../Tool/Statistics"),l=cc._decorator,p=l.ccclass,u=(l.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}var i;return o(e,t),i=e,e.prototype.init=function(){this.time=300,this.reportTime=10},e.prototype.onLoad=function(){i.instance=this,this.init(),this.onHideShow()},e.prototype.onHideShow=function(){cc.game.on(cc.game.EVENT_HIDE,this.onHide,this),cc.game.on(cc.game.EVENT_SHOW,this.onShow,this)},e.prototype.onHide=function(){this.startTime=Date.now()},e.prototype.onShow=function(){if(this.startTime){var t=Math.floor((Date.now()-this.startTime)/6e5);if(this.startTime=null,r.default.instance.Life<40){var e=r.default.instance.Life+t;e>40&&(e=40),r.default.instance.Life=e,r.default.instance.saveHeroGlobal(),cc.director.emit("daily_reward",s.DailyAward.Total,0)}}},e.prototype.onDestroy=function(){cc.game.off(cc.game.EVENT_HIDE,this.onHide,this),cc.game.off(cc.game.EVENT_SHOW,this.onShow,this)},e.prototype.update=function(t){this.time>0?this.time-=t:(this.time=300,r.default.instance.Life<40&&(r.default.instance.Life+=1,r.default.instance.saveHeroGlobal(),cc.director.emit("daily_reward",s.DailyAward.Total,0))),this.reportTime>0?this.reportTime-=t:(this.reportTime=10,c.default.getInstance().newReportAd())},e.instance=null,i=a([p],e)}(cc.Component));i.default=u,cc._RF.pop()},{"../GameUtils":"GameUtils","../Hero/HeroGlobal":"HeroGlobal","../Tool/Statistics":"Statistics"}],LifeProgress:[function(t,e,i){"use strict";cc._RF.push(e,"647c7Ma4gJM1JUF4hOrGWpS","LifeProgress");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),a=this&&this.__decorate||function(t,e,i,n){var o,a=arguments.length,s=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var r=t.length-1;r>=0;r--)(o=t[r])&&(s=(a<3?o(s):a>3?o(e,i,s):o(e,i))||s);return a>3&&s&&Object.defineProperty(e,i,s),s};Object.defineProperty(i,"__esModule",{value:!0});var s=t("./nativets/Global"),r=t("./Game"),c=t("./Hero/Hero"),l=cc._decorator,p=l.ccclass,u=l.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.bar1=null,e.bar2=null,e.delay=300,e}return o(e,t),e.prototype.init=function(t){if(this.bar1.progress=1,this.bar2.progress=1,t){this.isBoss=!0,this.HPCount=4,this.CountLabel=this.node.getChildByName("count").getComponent(cc.Label),this.CountLabel.string="x4",this.bar2.node.getChildByName("bar").getComponent(cc.Sprite).spriteFrame=r.default.instance.bossHpSf[this.HPCount-1];for(var e=0;e<4;e++);this.node.getChildByName("bg"+(this.HPCount-1)).active=!0}},e.prototype.start=function(){this.init()},e.prototype.setHP=function(t){var e=t/100;s.default.getInstance().HP=c.default.instance.HP*e,this.bar1.progress=e,this.bar2.progress=e},e.prototype.addHP=function(t){this.unscheduleAllCallbacks();var e=t/100;s.default.getInstance().HP+=c.default.instance.HP*e,s.default.getInstance().HP>c.default.instance.HP&&(s.default.getInstance().HP=c.default.instance.HP);var i=this.bar2.progress+e;i>1&&(i=1),this.bar1.progress=i,this.bar2.progress=i},e.prototype.damage=function(t){var e=this,i=t/100,n=this.bar2.progress;if(this.unscheduleAllCallbacks(),this.bar1.progress=n,this.isBoss)if(i>n){var o=Math.ceil(i-n);if(this.HPCount-=o,this.CountLabel.string="x"+this.HPCount,this.HPCount>0){this.bar2.node.getChildByName("bar").getComponent(cc.Sprite).spriteFrame=r.default.instance.bossHpSf[this.HPCount-1];for(var a=0;a<4;a++)this.node.getChildByName("bg"+a).active=!1;this.node.getChildByName("bg"+(this.HPCount-1)).active=!0}var s=(n+o-i)%1;this.HPCount<1&&(s=0),this.bar1.progress=1,this.bar2.progress=s,this.scheduleOnce(function(){e.bar1.progress=s,e.HPCount<1&&(e.node.active=!1)},this.delay/1e3)}else this.bar2.progress=n-i,this.scheduleOnce(function(){e.bar1.progress=n-i},this.delay/1e3);else this.bar2.progress=n-i,this.scheduleOnce(function(){e.bar1.progress=n-i},this.delay/1e3)},e.prototype.move=function(t,e){this.node.x!=t&&(this.node.x=t),e&&this.node.y!=e&&(this.node.y=e+200)},a([u(cc.ProgressBar)],e.prototype,"bar1",void 0),a([u(cc.ProgressBar)],e.prototype,"bar2",void 0),a([u],e.prototype,"delay",void 0),a([p],e)}(cc.Component);i.default=h,cc._RF.pop()},{"./Game":"Game","./Hero/Hero":"Hero","./nativets/Global":"Global"}],LoadRunAction:[function(t,e,i){"use strict";cc._RF.push(e,"9c410Iube5Jl7BvgWiNYN3E","LoadRunAction");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),a=this&&this.__decorate||function(t,e,i,n){var o,a=arguments.length,s=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var r=t.length-1;r>=0;r--)(o=t[r])&&(s=(a<3?o(s):a>3?o(e,i,s):o(e,i))||s);return a>3&&s&&Object.defineProperty(e,i,s),s};Object.defineProperty(i,"__esModule",{value:!0}),i.LoadRunAction=void 0;var s=cc._decorator,r=s.ccclass,c=s.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.action=[null],e}return o(e,t),e.prototype.onLoad=function(){cc.Component.EventHandler.emitEvents(this.action)},a([c({displayName:"\u52a8\u4f5c",type:cc.Component.EventHandler})],e.prototype,"action",void 0),a([r],e)}(cc.Component);i.LoadRunAction=l,cc._RF.pop()},{}],Loading:[function(t,e,i){"use strict";cc._RF.push(e,"4f3bcL/ittAn7h42vx/LzOW","Loading");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),a=this&&this.__decorate||function(t,e,i,n){var o,a=arguments.length,s=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var r=t.length-1;r>=0;r--)(o=t[r])&&(s=(a<3?o(s):a>3?o(e,i,s):o(e,i))||s);return a>3&&s&&Object.defineProperty(e,i,s),s};Object.defineProperty(i,"__esModule",{value:!0});var s=t("./nativets/Global"),r=t("./UserDataInfo"),c=t("./lib/md5"),l=cc._decorator.ccclass,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.canvas=null,e}return o(e,t),e.prototype.onLoad=function(){cc.game.setFrameRate(30),cc.debug.setDisplayStats(!1),this.loadUuid(),this.anim=this.node.getComponent(cc.Animation)},e.prototype.loadUuid=function(){var t=r.UserDataInfo.instance.getDataByType(r.DataFields.openId);t?s.default.getInstance().uuid=t:(s.default.getInstance().uuid=c(Date.now()+""),r.UserDataInfo.instance.changeDataByType(r.DataFields.openId,s.default.getInstance().uuid))},e.prototype.init=function(){this.progressbar=this.getComponentInChildren(cc.ProgressBar),this.canvas=cc.director.getScene().getComponentInChildren(cc.Canvas)},e.prototype.start=function(){var t=this;this.init(),this.loadScene(),this.anim.on(cc.Animation.EventType.FINISHED,function(e,i){"load_show"==i.name&&t.anim.play("updown")})},e.prototype.loadScene=function(){var t=this,e=0;this.scheduleOnce(function(){cc.assetManager.loadBundle("ui_prefab",function(i,n){i||(n.load("gameManager",cc.Prefab,function(i,n){var o=i/n;e<o&&(e=o,t.progressbar.progress=e)},function(e,i){e||(t.canvas.node.addChild(cc.instantiate(i)),t.node.destroy())}),n.load("Message",cc.Prefab,function(e,i){var n=cc.instantiate(i);t.canvas.node.addChild(n),n.active=!1}))})},.05)},a([l],e)}(cc.Component);i.default=p,cc._RF.pop()},{"./UserDataInfo":"UserDataInfo","./lib/md5":"md5","./nativets/Global":"Global"}],MapBoxItem:[function(t,e,i){"use strict";cc._RF.push(e,"af1f2KOuLFPWJjg8gHumcU3","MapBoxItem");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),a=this&&this.__decorate||function(t,e,i,n){var o,a=arguments.length,s=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var r=t.length-1;r>=0;r--)(o=t[r])&&(s=(a<3?o(s):a>3?o(e,i,s):o(e,i))||s);return a>3&&s&&Object.defineProperty(e,i,s),s};Object.defineProperty(i,"__esModule",{value:!0});var s=t("../TextureMgr"),r=cc._decorator,c=r.ccclass,l=(r.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.init=function(){this.index=-1,this.icon=this.node.getChildByName("icon").getComponent(cc.Sprite),this.bg=this.node.getChildByName("bg").getComponent(cc.Sprite),this.nameLabel=this.node.getChildByName("name").getComponent(cc.Label),this.textLabel=this.node.getChildByName("text").getComponent(cc.Label),this.attLabel=this.node.getChildByName("att").getComponent(cc.Label)},e.prototype.setItem=function(t,e,i,n,o){this.index=t,this.icon.node.scale=t<4?1.2:1,this.bg.spriteFrame=t<4?s.default.instance.rewardBg:null,this.icon.spriteFrame=e,this.nameLabel.string=i,this.textLabel.string=n,this.attLabel.string=o},a([c],e)}(cc.Component));i.default=l,cc._RF.pop()},{"../TextureMgr":"TextureMgr"}],MapBoxLayout:[function(t,e,i){"use strict";cc._RF.push(e,"daa3arV7DBOmrCwBsBXTHGq","MapBoxLayout");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),a=this&&this.__decorate||function(t,e,i,n){var o,a=arguments.length,s=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var r=t.length-1;r>=0;r--)(o=t[r])&&(s=(a<3?o(s):a>3?o(e,i,s):o(e,i))||s);return a>3&&s&&Object.defineProperty(e,i,s),s};Object.defineProperty(i,"__esModule",{value:!0});var s=t("./MapBoxItem"),r=t("../Audio"),c=t("../nativets/Config"),l=t("../TextureMgr"),p=t("../Hero/HeroGlobal"),u=t("../GameUtils"),h=t("../GameSDKManger"),d=cc._decorator,f=d.ccclass,m=d.property,g=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.mbItemPrefab=null,e}var i;return o(e,t),i=e,e.prototype.init=function(){this.boxNode=this.node.getChildByName("box"),this.titleLabel=this.boxNode.getChildByName("title").getComponent(cc.Label),this.doubleBtn=this.boxNode.getChildByName("double"),this.closeBtn=this.boxNode.getChildByName("btnclose"),this.closeLabel=this.boxNode.getChildByName("close"),this.initLayout(),this.node.active=!1},e.prototype.initLayout=function(){this.itemScripts=[];for(var t=0;t<3;t++){var e=cc.instantiate(this.mbItemPrefab);e.name=""+t,e.parent=this.boxNode,e.position=cc.v3(210*(t-1),0),this.itemScripts.push(e.getComponent(s.default)),this.itemScripts[t].init()}},e.prototype.onLoad=function(){i.instance=this,this.init()},e.prototype.onOpen=function(t,e,i,n){this.getAttrs(t),this.setState(e,i,n),this.node.active=!0},e.prototype.setState=function(t,e,i){switch(t){case-1:this.titleLabel.string="\u672a\u89e3\u9501",this.doubleBtn.active=!1,this.closeBtn.active=!0,this.closeLabel.active=!1;break;case 0:this.titleLabel.string="\u9886\u53d6\u6210\u529f",this.doubleBtn.active=!0,this.closeBtn.active=!1,this.closeBtn.active=!0,this.getAll(),p.default.instance.MapBox[e][i]=1,p.default.instance.setMapBox(p.default.instance.MapBox);break;case 1:this.titleLabel.string="\u5df2\u9886\u53d6",this.doubleBtn.active=!1,this.closeBtn.active=!0,this.closeBtn.active=!1}},e.prototype.unlockReward=function(t){if(t){var e=parseInt(t.id);switch(t.index){case 0:p.default.instance.Jade+=e,p.default.instance.saveHeroGlobal();break;case 1:p.default.instance.Coins+=e,p.default.instance.saveHeroGlobal();break;case 2:p.default.instance.Life+=e,p.default.instance.saveHeroGlobal();break;case 3:p.default.instance.pushEquipmentData(1e4*e);break;case 4:p.default.instance.pushEquipmentData(e);break;case 5:p.default.instance.pushEquipmentData(e),p.default.instance.HeroDataAttr[p.default.instance.MainHeroIndex].updateAttribute()}}},e.prototype.onBtnAll=function(){var t=this;r.default.instance.playAudio("BtnClick"),h.shareAd(function(){t.getAll()})},e.prototype.getAll=function(){for(var t=0;t<this.dataAttrs.length;t++)this.unlockReward(this.dataAttrs[t]);p.default.instance.saveEquipmentAttrs(),this.onClose()},e.prototype.getAttrs=function(t){for(var e=[],i=0;i<u.AtkAttrs.length;i++)if(t[u.AtkAttrs[i]]){var n=t[u.AtkAttrs[i]].split(", "),o=parseInt(n[Math.floor(Math.random()*n.length)]);e.push({index:i,id:o})}this.dataAttrs=e;for(var a=0;a<e.length;a++){var s=e[a].index,r=e[a].id,c=this.getImgByJson(s,r),l=this.getNameByJson(s,r),p=this.getAttInData(s,r);this.itemScripts[a].setItem(s,c,l,u.DesAttrs[e[a].index],p)}},e.prototype.getNameByJson=function(t,e){switch(t){case 0:return"\u5b9d\u77f3";case 1:return"\u91d1\u5e01";case 2:return"\u519b\u7cae";case 3:return c.getDataById(e).name;case 4:return c.getDataById(e).name+"\xb7\u6b66\u9b42";case 5:return c.getDataById(e).name}return t+""+e},e.prototype.getImgByJson=function(t,e){switch(t){case 0:case 1:case 2:return l.default.instance.rewardSfInGame[t];case 3:return l.default.instance.getEquipmentIconById(e);case 4:return l.default.instance.getSoulIconById(e);case 5:return l.default.instance.rewardSfInGame[3]}},e.prototype.getAttInData=function(t,e){switch(t){case 0:return"\u5b9d\u77f3 x "+e;case 1:return"\u91d1\u5e01 x "+e;case 2:return"\u519b\u7cae x "+e;case 3:var i=c.getDataById(e);return this.getDetailByJson(i);case 4:var n=c.getDataById(e);return this.getDetailByJson(n);case 5:var o=c.getDataById(e);return this.getDetailByJson(o)}return t+""+e},e.prototype.getDetailByJson=function(t){for(var e=0,i="",n=0;n<u.BaseAttrs.length;n++){var o=u.BaseAttrs[n];t[o]&&(i+=u.textAttrs[n]+"+"+t[o],i+=++e%2==0?"\n":"  ")}return i},e.prototype.onBtnClose=function(){r.default.instance.playAudio("BtnClick"),this.onClose()},e.prototype.onClose=function(){this.node.active=!1,this.node.emit("map_box_close")},e.instance=null,a([m(cc.Prefab)],e.prototype,"mbItemPrefab",void 0),i=a([f],e)}(cc.Component);i.default=g,cc._RF.pop()},{"../Audio":"Audio","../GameSDKManger":"GameSDKManger","../GameUtils":"GameUtils","../Hero/HeroGlobal":"HeroGlobal","../TextureMgr":"TextureMgr","../nativets/Config":"Config","./MapBoxItem":"MapBoxItem"}],MapComponent:[function(t,e,i){"use strict";cc._RF.push(e,"0c959UiXjNJ/5vrMICYGiyA","MapComponent");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),a=this&&this.__decorate||function(t,e,i,n){var o,a=arguments.length,s=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var r=t.length-1;r>=0;r--)(o=t[r])&&(s=(a<3?o(s):a>3?o(e,i,s):o(e,i))||s);return a>3&&s&&Object.defineProperty(e,i,s),s};Object.defineProperty(i,"__esModule",{value:!0});var s=t("../Audio"),r=t("../Hall/Message"),c=t("../Hero/HeroGlobal"),l=t("../nativets/Config"),p=t("../nativets/Global"),u=t("../Tool/Statistics"),h=t("./MapBoxLayout"),d=t("./MapItem"),f=t("./MapSelect"),m=cc._decorator,g=m.ccclass,y=m.property,v=[cc.v3(-450,200),cc.v3(-450,30),cc.v3(-450,-140),cc.v3(-150,-60),cc.v3(-150,110),cc.v3(150,200),cc.v3(150,30),cc.v3(150,-140),cc.v3(450,-60),cc.v3(450,110)],_=[cc.v3(-450,-140),cc.v3(-450,30),cc.v3(-450,200),cc.v3(-150,110),cc.v3(-150,-60),cc.v3(150,-140),cc.v3(150,30),cc.v3(150,200),cc.v3(450,110),cc.v3(450,-60)],b=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.mapItem=null,e.selectPrefab=null,e.boxPrefab=null,e.roleArray=[],e.petArray=[],e.MapItemAttrs=[],e.difficultyButton=[],e.boxAttrs=[],e.boxLightAttrs=[],e.boxBtnAttrs=[],e}return o(e,t),e.prototype.init=function(){this.index=0,this.base=this.node.getChildByName("base"),this.layout=this.base.getChildByName("Layout"),this.line=this.base.getChildByName("line"),this.btnLeft=this.base.getChildByName("Left"),this.btnRight=this.base.getChildByName("Right"),this.titleLabel=this.base.getChildByName("titleText").getComponent(cc.Label),this.bottom=this.base.getChildByName("bottom"),this.starLabel=this.bottom.getChildByName("text").getComponent(cc.Label);for(var t=0;t<3;t++)this.difficultyButton.push(this.bottom.getChildByName(""+t).getComponent(cc.Button)),this.boxAttrs.push(this.bottom.getChildByName("box"+t).getComponent(cc.Sprite)),this.boxBtnAttrs.push(this.bottom.getChildByName("box"+t).getComponent(cc.Button)),this.boxLightAttrs.push(this.bottom.getChildByName("light"+t));this.initLayout()},e.prototype.initLayout=function(){for(var t=this,e=1;e<11;e++){var i=cc.instantiate(this.mapItem);i.name=e+"",i.parent=this.layout,i.position=_[e-1];var n=i.getComponent(d.default);this.MapItemAttrs.push(n),n.init(),n.setLevel(e),n.setIsBoss(e%5==0),n.setLockState(!1),i.on("item_click",function(e){t.onBtnOpenHeroSelect(e)}),i.on("go_game",function(e){t.onBtnLevel(e)})}},e.prototype.onLoad=function(){this.init(),this.messageCom=cc.director.getScene().getComponentInChildren(r.default)},e.prototype.getMapSelect=function(){var t=this;if(!this.mapSelectCom){var e=cc.instantiate(this.selectPrefab);this.mapSelectCom=e.getComponent(f.default),this.mapSelectCom.init(),this.node.addChild(e),e.on("map_select_close",function(){t.base.active=!0})}return this.mapSelectCom},e.prototype.getMapBox=function(){var t=this;if(!this.mapBoxCom){var e=cc.instantiate(this.boxPrefab);this.node.addChild(e),this.mapBoxCom=e.getComponent(h.default),e.on("map_box_close",function(){t.refreshMapBoxState(t.curStar)})}return this.mapBoxCom},e.prototype.onBtnOpenHeroSelect=function(t){var e=10*this.index+t;this.base.active=!1,this.getMapSelect().open(e,this.index,this.roleArray,this.petArray)},e.prototype.onBtnLevel=function(t){s.default.instance.playAudio("BtnClick"),c.default.instance.Life<5?this.messageCom.showLack("life"):(c.default.instance.Life-=5,c.default.instance.saveHeroGlobal(),u.default.getInstance().reportEvent("\u8fdb\u5165\u6e38\u620f"),p.default.getInstance().nowLevel=t,cc.director.emit("load_game"))},e.prototype.onBtnMode=function(t){s.default.instance.playAudio("BtnClick");var e=parseInt(t.target.name);p.default.getInstance().gameDifficulty=e,this.refreshDifficulty(),this.refreshLayout()},e.prototype.onBtnHome=function(){s.default.instance.playAudio("BtnClick"),cc.director.emit("hall_layer")},e.prototype.onBtnLeft=function(){s.default.instance.playAudio("BtnClick"),this.index--,this.refreshLayout()},e.prototype.onBtnRight=function(){s.default.instance.playAudio("BtnClick"),this.index++,this.refreshLayout()},e.prototype.refreshLayout=function(){p.default.getInstance().BgIndex=this.index,this.index%2==1?this.reverse(!0):this.reverse(!1),this.btnLeft.active=0!=this.index,this.btnRight.active=3!=this.index;for(var t=10*this.index,e=c.default.instance.MapData[p.default.getInstance().gameDifficulty].slice(t,t+10),i=0,n=0;n<10;n++){var o=this.MapItemAttrs[n];o.setSelect(!1),o.setStar(e[n]),i+=e[n],n+t<c.default.instance.Unlock-40*p.default.getInstance().gameDifficulty?(n+t==c.default.instance.Unlock-1-40*p.default.getInstance().gameDifficulty&&o.setSelect(!0),o.setLockState(!1)):o.setLockState(!0)}this.curStar=i,this.refreshMapBoxState(i),this.refreshTitle()},e.prototype.refreshMapBoxState=function(t){this.starLabel.string=t+"/30";var e=[9,18,30],i=4*p.default.getInstance().gameDifficulty+this.index,n=c.default.instance.MapBox[i];this.boxStateAttrs=[];for(var o=0;o<n.length;o++)0==n[o]?(this.boxBtnAttrs[o].interactable=!0,this.boxLightAttrs[o].active=t>=e[o],t>=e[o]?this.boxStateAttrs.push(0):this.boxStateAttrs.push(-1)):(this.boxLightAttrs[o].active=!1,this.boxBtnAttrs[o].interactable=!1,this.boxStateAttrs.push(1))},e.prototype.onBtnBox=function(t){var e=parseInt(t.target.name[3]),i=4*p.default.getInstance().gameDifficulty+this.index,n=l.MapBox[e],o=this.boxStateAttrs[e];this.getMapBox().onOpen(n,o,i,e)},e.prototype.refreshTitle=function(){this.titleLabel.string=l.MapTitle[this.index]},e.prototype.refreshDifficulty=function(){for(var t=0;t<3;t++){p.default.getInstance().gameDifficulty==t?this.difficultyButton[t].interactable=!1:this.difficultyButton[t].interactable=!0;var e=this.difficultyButton[t].node.getComponent(cc.Sprite);p.default.getInstance().unlockDifficulty>=t?e.setMaterial(0,cc.MaterialVariant.createWithBuiltin("2d-sprite",e)):(this.difficultyButton[t].interactable=!1,e.setMaterial(0,cc.MaterialVariant.createWithBuiltin("2d-gray-sprite",e)))}},e.prototype.reverse=function(t){this.line.scaleY=t?1:-1;for(var e=t?_:v,i=0;i<10;i++)this.MapItemAttrs[i].node.position=e[i]},e.prototype.onEnable=function(){this.layout||this.init(),p.default.getInstance().isMapFocus&&(this.index=Math.floor((c.default.instance.Unlock-40*p.default.getInstance().unlockDifficulty-1)/10)),this.refreshDifficulty(),this.refreshLayout()},a([y(cc.Prefab)],e.prototype,"mapItem",void 0),a([y(cc.Prefab)],e.prototype,"selectPrefab",void 0),a([y(cc.Prefab)],e.prototype,"boxPrefab",void 0),a([y(cc.Prefab)],e.prototype,"roleArray",void 0),a([y(cc.Prefab)],e.prototype,"petArray",void 0),a([g],e)}(cc.Component);i.default=b,cc._RF.pop()},{"../Audio":"Audio","../Hall/Message":"Message","../Hero/HeroGlobal":"HeroGlobal","../Tool/Statistics":"Statistics","../nativets/Config":"Config","../nativets/Global":"Global","./MapBoxLayout":"MapBoxLayout","./MapItem":"MapItem","./MapSelect":"MapSelect"}],MapItem:[function(t,e,i){"use strict";cc._RF.push(e,"4debeWHX6RJwby7y9Mb5ln0","MapItem");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),a=this&&this.__decorate||function(t,e,i,n){var o,a=arguments.length,s=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var r=t.length-1;r>=0;r--)(o=t[r])&&(s=(a<3?o(s):a>3?o(e,i,s):o(e,i))||s);return a>3&&s&&Object.defineProperty(e,i,s),s};Object.defineProperty(i,"__esModule",{value:!0});var s=t("../Audio"),r=cc._decorator,c=r.ccclass,l=(r.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.init=function(){this.bossNode=this.node.getChildByName("boss"),this.normalLight=this.node.getChildByName("light"),this.bossLight=this.bossNode.getChildByName("bosslight"),this.light=this.normalLight,this.lock=this.node.getChildByName("lock"),this.levelText=this.node.getChildByName("level").getComponent(cc.Label),this.starAttrs=[];for(var t=0;t<3;t++)this.starAttrs.push(this.node.getChildByName(""+t))},e.prototype.setLevel=function(t){this.level=t,this.levelText.string=""+t},e.prototype.setLockState=function(t){this.lock.active=t},e.prototype.setStar=function(t){for(var e=0;e<3;e++)this.starAttrs[e].active=e<t},e.prototype.setIsBoss=function(t){this.light=t?this.bossLight:this.normalLight,this.bossNode.active=t,this.light.active=!1},e.prototype.setSelect=function(t){this.light.active=t},e.prototype.onBtnLevel=function(){s.default.instance.playAudio("BtnClick"),this.lock.active||this.node.emit("item_click",this.level)},a([c],e)}(cc.Component));i.default=l,cc._RF.pop()},{"../Audio":"Audio"}],MapSelect:[function(t,e,i){"use strict";cc._RF.push(e,"c5bd5h/r7JAHrTCNb5fyeeh","MapSelect");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),a=this&&this.__decorate||function(t,e,i,n){var o,a=arguments.length,s=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var r=t.length-1;r>=0;r--)(o=t[r])&&(s=(a<3?o(s):a>3?o(e,i,s):o(e,i))||s);return a>3&&s&&Object.defineProperty(e,i,s),s};Object.defineProperty(i,"__esModule",{value:!0});var s=t("../nativets/Global"),r=t("../i18n/Language"),c=t("../TextureMgr"),l=t("../Hero/HeroGlobal"),p=t("../Audio"),u=t("../nativets/Config"),h=t("../Reward/RewardMapMgr"),d=t("../GameUtils"),f=t("../GameSDKManger"),m=cc._decorator,g=m.ccclass,y=m.property,v=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.miniMaps=[],e.rolePrefabArray=[],e.petPrefabArray=[],e.icons=[],e}var i;return o(e,t),i=e,e.prototype.init=function(){i.instance=this,this.rightNode=this.node.getChildByName("Right"),this.leftNode=this.node.getChildByName("Left"),this.preFight=this.leftNode.getChildByName("PreFight"),this.preFightLight=this.preFight.getChildByName("light"),this.buffNode=this.preFight.getChildByName("3"),this.buffLabel=this.buffNode.getChildByName("text").getComponent(cc.Label),this.buffLight=this.buffNode.getChildByName("light"),this.rightLayout=this.rightNode.getChildByName("Layout"),this.titleLabel=this.rightNode.getChildByName("title").getComponent(cc.Label),this.miniMap=this.rightNode.getChildByName("minimap").getComponent(cc.Sprite),this.ceLabel=this.preFight.getChildByName("ce").getComponent(cc.Label),this.selectNode=this.node.getChildByName("select"),this.selectLight=this.selectNode.getChildByName("select"),this.lockNode=this.selectNode.getChildByName("lock"),this.lockNode.getComponent(cc.Sprite).spriteFrame=c.default.instance.lockSf,this.lockNode.active=!1,this.TopNode=this.node.getChildByName("Top"),this.jadeLabel=this.TopNode.getChildByName("jade").getComponent(cc.Label),this.lifeLabel=this.TopNode.getChildByName("life").getComponent(cc.Label),this.coinsLabel=this.TopNode.getChildByName("coins").getComponent(cc.Label),this.roleSpine=this.node.getComponentInChildren(sp.Skeleton),this.nameLabelAttrs=[],this.iconPreFightAttrs=[];for(var t=0;t<3;t++){this.icons.push(this.selectNode.getChildByName(""+t).getComponent(cc.Sprite));var e=this.preFight.getChildByName(""+t);this.nameLabelAttrs.push(e.getChildByName("name").getComponent(cc.Label)),this.iconPreFightAttrs.push(e.getChildByName("icon").getComponent(cc.Sprite))}},e.prototype.open=function(t,e,i,n){this.level=t,this.curPageIndex=e,this.node.active=!0,this.rolePrefabArray=i,this.petPrefabArray=n,this.refreshTitle(),this.refreshMiniMap(),this.setPreFight(0),this.refreshBuff()},e.prototype.refreshCE=function(){this.ceLabel.string=""+l.default.instance.HeroDataAttr[l.default.instance.MainHeroIndex].CE},e.prototype.refreshTitle=function(){var t=this.curPageIndex+1,e=this.level%10;0==e&&(e=10);var i=r.default.mapSelectMission.replace("${x}",r.default[t])+"  "+r.default.mapSelectTurn.replace("${x}",r.default[e]);this.titleLabel.string=i,this.getRewardItemAttrs()},e.prototype.getRewardItemAttrs=function(){this.mapData=u.MapData[this.level-1],this.rightLayout.removeAllChildren();for(var t=this.mapData.soul[s.default.getInstance().gameDifficulty],e=0;e<t.length;e++)h.default.instance.createRewardMap(t[e]+1+Math.floor(8*Math.random()));if(this.mapData.item){var i=this.mapData.item[s.default.getInstance().gameDifficulty];if(i)for(var n=0;n<i.length;n++)h.default.instance.createRewardMap(i[n])}else this.rewardItemAttrs=[]},e.prototype.refreshMiniMap=function(){this.miniMap.spriteFrame=this.miniMaps[this.curPageIndex]},e.prototype.onBtnStart=function(){p.default.instance.playAudio("BtnClick");var t=40*s.default.getInstance().gameDifficulty+this.level;s.default.getInstance().nowLevel=t,cc.director.emit("load_game")},e.prototype.onBtnClose=function(){p.default.instance.playAudio("BtnClick"),this.node.active=!1,this.node.emit("map_select_close")},e.prototype.setIcons=function(t){if(this.isPet!=t){this.isPet=t;for(var e=0==t?c.default.instance.heroIconSf:c.default.instance.petIconSf,i=0;i<3;i++)this.icons[i].spriteFrame=e[i];this.lockNode.active=0==t&&l.default.instance.Level<10,this.lockNode.active&&(this.icons[2].spriteFrame=null)}},e.prototype.setSelect=function(t){this.selectIndex=t,this.selectLight.x=d.SkeletonPosY[t],1==this.isPet?(l.default.instance.PetLvAttrs[t]>0?(l.default.instance.PetIndex=t,this.nameLabelAttrs[2].string=u.PetName[t],this.iconPreFightAttrs[2].spriteFrame=c.default.instance.petIconBoxMapselectSf[t]):(l.default.instance.PetIndex=-1,this.nameLabelAttrs[2].string="\u672a\u89e3\u9501",this.iconPreFightAttrs[2].spriteFrame=null),l.default.instance.getMainHeroData().updateAttribute()):(l.default.instance.OtherHeroIndex=l.default.instance.MainHeroIndex,l.default.instance.MainHeroIndex=t,this.nameLabelAttrs[0].string=u.HeroName[t],this.iconPreFightAttrs[0].spriteFrame=c.default.instance.heroIconRectMapselectSf[t]),this.refreshMapSelect(this.selectIndex,this.preFightIndex),this.refreshCE()},e.prototype.onBtnSelect=function(t){p.default.instance.playAudio("BtnClick");var e=parseInt(t.target.name);2==e&&0==this.isPet&&l.default.instance.Level<10||this.setSelect(e)},e.prototype.setPreFight=function(t){switch(this.preFightIndex=t,this.preFightLight.x=100*t-485,t){case 0:this.setIcons(0),this.setSelect(l.default.instance.MainHeroIndex);break;case 1:this.setIcons(0),this.setSelect(l.default.instance.OtherHeroIndex);break;case 2:this.setIcons(1);var e=l.default.instance.PetIndex;e<0&&(e=0),this.setSelect(e)}},e.prototype.onBtnVideoBuff=function(){var t=this;s.default.getInstance().preBuff||f.shareAd(function(){s.default.getInstance().preBuff=!0,t.refreshBuff()})},e.prototype.refreshBuff=function(){this.buffLight.active=s.default.getInstance().preBuff,this.buffLabel.string=s.default.getInstance().preBuff?"BUFF":"\u89c2\u770b\u89c6\u9891"},e.prototype.onBtnPreFight=function(t){p.default.instance.playAudio("BtnClick");var e=parseInt(t.target.name);this.setPreFight(e)},e.prototype.onEnable=function(){this.refreshTopLabel(!0),this.loadMenuHeroSp(l.default.instance.MainHeroIndex)},e.prototype.refreshMapSelect=function(t,e){2==e?this.loadMenuPetSp(t):this.loadMenuHeroSp(t)},e.prototype.loadMenuHeroSp=function(t){var e=cc.instantiate(this.rolePrefabArray[t]);this.roleSpine.skeletonData=e._components[0].skeletonData,this.roleSpine.animation="stay",this.roleSpine.node.y=-210,this.roleSpine._updateSkeletonData(),this.roleSpine.setSkin("001"),cc.director.emit("RefreshSp",t),e.destroy()},e.prototype.loadMenuPetSp=function(t){var e=cc.instantiate(this.petPrefabArray[t]);this.roleSpine.skeletonData=e._components[0].skeletonData,this.roleSpine.animation="fly",this.roleSpine.node.y=-20,this.roleSpine._updateSkeletonData(),this.roleSpine.setSkin("default"),e.destroy()},e.prototype.refreshTopLabel=function(t){t?(this.jadeLabel.string=d.numFormat(l.default.instance.Jade),this.coinsLabel.string=d.numFormat(l.default.instance.Coins),this.lifeLabel.string=d.numFormat(l.default.instance.Life)):(this.setTopLabel("jade"),this.setTopLabel("coins"),this.setTopLabel("life"))},e.prototype.setTopLabel=function(t){var e=null,i=0;switch(t){case"jade":e=this.jadeLabel,i=l.default.instance.Jade;break;case"coins":e=this.coinsLabel,i=l.default.instance.Coins;break;case"life":e=this.lifeLabel,i=l.default.instance.Life}e.string=d.numFormat(i)},e.instance=null,a([y([cc.SpriteFrame])],e.prototype,"miniMaps",void 0),a([y(cc.Prefab)],e.prototype,"rolePrefabArray",void 0),a([y(cc.Prefab)],e.prototype,"petPrefabArray",void 0),i=a([g],e)}(cc.Component);i.default=v,cc._RF.pop()},{"../Audio":"Audio","../GameSDKManger":"GameSDKManger","../GameUtils":"GameUtils","../Hero/HeroGlobal":"HeroGlobal","../Reward/RewardMapMgr":"RewardMapMgr","../TextureMgr":"TextureMgr","../i18n/Language":"Language","../nativets/Config":"Config","../nativets/Global":"Global"}],MenuSelect:[function(t,e,i){"use strict";cc._RF.push(e,"ebcccwmSHtAPL4Af5Gz+ybU","MenuSelect");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),a=this&&this.__decorate||function(t,e,i,n){var o,a=arguments.length,s=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var r=t.length-1;r>=0;r--)(o=t[r])&&(s=(a<3?o(s):a>3?o(e,i,s):o(e,i))||s);return a>3&&s&&Object.defineProperty(e,i,s),s};Object.defineProperty(i,"__esModule",{value:!0});var s=t("../TextureMgr"),r=t("./Equipment"),c=t("../Hero/HeroGlobal"),l=t("../Audio"),p=t("../GameUtils"),u=cc._decorator,h=u.ccclass,d=(u.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.icons=[],e.isPet=0,e}var i;return o(e,t),i=e,e.prototype.init=function(){this.selectNode=this.node.getChildByName("select");for(var t=0;t<3;t++)this.icons.push(this.node.getChildByName(""+t).getComponent(cc.Sprite));this.lockNode=this.node.getChildByName("lock"),this.lockNode.getComponent(cc.Sprite).spriteFrame=s.default.instance.lockSf,this.lockNode.active=!1,cc.director.on("RefreshIcon",this.refreshIcon,this)},e.prototype.onLoad=function(){i.instance=this,this.init()},e.prototype.refreshIcon=function(){r.default.instance&&3==r.default.instance.listIndex?this.setIcons(1):this.setIcons(0)},e.prototype.setIcons=function(t){this.isPet=t;for(var e=0==t?s.default.instance.heroIconSf:s.default.instance.petIconSf,i=0;i<3;i++)this.icons[i].spriteFrame=e[i];this.lockNode.active=0==t&&c.default.instance.Level<10,this.lockNode.active&&(this.icons[2].spriteFrame=null)},e.prototype.setSelect=function(t){this.selectIndex=t,this.selectNode.x=p.SkeletonPosY[t],cc.director.emit("RefreshSelect",t)},e.prototype.onBtnSelect=function(t){l.default.instance.playAudio("BtnClick");var e=parseInt(t.target.name);0==this.isPet&&2==e&&c.default.instance.Level<10||this.setSelect(e)},e.prototype.onDestroy=function(){cc.director.off("RefreshIcon",this.refreshIcon,this)},e.instance=null,i=a([h],e)}(cc.Component));i.default=d,cc._RF.pop()},{"../Audio":"Audio","../GameUtils":"GameUtils","../Hero/HeroGlobal":"HeroGlobal","../TextureMgr":"TextureMgr","./Equipment":"Equipment"}],Message:[function(t,e,i){"use strict";cc._RF.push(e,"6993ddtWOlJc4G+EYpY6pmO","Message");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),a=this&&this.__decorate||function(t,e,i,n){var o,a=arguments.length,s=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var r=t.length-1;r>=0;r--)(o=t[r])&&(s=(a<3?o(s):a>3?o(e,i,s):o(e,i))||s);return a>3&&s&&Object.defineProperty(e,i,s),s};Object.defineProperty(i,"__esModule",{value:!0});var s=t("../Audio"),r=t("../DataMgr"),c=t("../GameSDKManger"),l=t("../GameUtils"),p=t("../Hero/HeroGlobal"),u=cc._decorator,h=u.ccclass,d=(u.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}var i;return o(e,t),i=e,e.prototype.init=function(){this.box=this.node.getChildByName("box"),this.title=this.box.getChildByName("title").getComponent(cc.Label),this.text=this.box.getChildByName("text").getComponent(cc.Label),this.node.active=!1},e.prototype.onLoad=function(){i.instance=this,this.init()},e.prototype.onBtnOk=function(){s.default.instance.playAudio("BtnClick"),this.callback&&this.callback(),this.onClose()},e.prototype.onBtnClose=function(){s.default.instance.playAudio("BtnClick"),this.cancelCallback&&this.cancelCallback(),this.onClose()},e.prototype.onClose=function(){this.node.active=!1},e.prototype.show=function(t,e,i,n,o){this.title.string=t,this.text.string=e,this.node.active=!0,this.callback=i,this.cancelCallback=o},e.prototype.showLack=function(t){this.title.string="\u6bcf\u65e5\u798f\u5229";var e="",i="";switch(t){case"life":i="\u519b\u7cae";var n=r.default.instance.lifeCount;n<3?(e="\u4eca\u65e5\u53ef\u4ee5\u9886\u53d6"+r.default.instance.lifeAttrs[n]+i,this.callback=function(){c.shareAd(function(){cc.director.emit("daily_reward",l.DailyAward.life,r.default.instance.lifeAttrs[r.default.instance.lifeCount]),r.default.instance.lifeCount++,r.default.instance.saveSaveDate()})}):(e="\u4eca\u5929\u5df2\u7ecf\u8fbe\u5230\u6700\u5927\u9886\u53d6\u6b21\u6570\uff0c\u8bf7\u660e\u5929\u518d\u8bd5^^",this.callback=function(){});break;case"coins":i="\u91d1\u5e01",r.default.instance.coinsCount<3?(e="\u4eca\u65e5\u53ef\u4ee5\u9886\u53d6"+(300+10*p.default.instance.Level)+i,this.callback=function(){c.shareAd(function(){cc.director.emit("daily_reward",l.DailyAward.coin,300+10*p.default.instance.Level),r.default.instance.coinsCount++,r.default.instance.saveSaveDate()})}):(e="\u4eca\u5929\u5df2\u7ecf\u8fbe\u5230\u6700\u5927\u9886\u53d6\u6b21\u6570\uff0c\u8bf7\u660e\u5929\u518d\u8bd5^^",this.callback=function(){});break;case"jade":i="\u94bb\u77f3";var o=r.default.instance.jadeCount;o<3?(e="\u4eca\u65e5\u53ef\u4ee5\u9886\u53d6"+r.default.instance.jadeAttrs[o]+i,this.callback=function(){c.shareAd(function(){cc.director.emit("daily_reward",l.DailyAward.jade,r.default.instance.jadeAttrs[r.default.instance.jadeCount]),r.default.instance.jadeCount++,r.default.instance.saveSaveDate()})}):(e="\u4eca\u5929\u5df2\u7ecf\u8fbe\u5230\u6700\u5927\u9886\u53d6\u6b21\u6570\uff0c\u8bf7\u660e\u5929\u518d\u8bd5^^",this.callback=function(){})}this.text.string=e,this.node.active=!0,this.node.setSiblingIndex(-1)},e.instance=null,i=a([h],e)}(cc.Component));i.default=d,cc._RF.pop()},{"../Audio":"Audio","../DataMgr":"DataMgr","../GameSDKManger":"GameSDKManger","../GameUtils":"GameUtils","../Hero/HeroGlobal":"HeroGlobal"}],MonsterAnimState:[function(t,e,i){"use strict";cc._RF.push(e,"9189eMWX0RPBqCGJUjkzKU7","MonsterAnimState");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),a=this&&this.__decorate||function(t,e,i,n){var o,a=arguments.length,s=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var r=t.length-1;r>=0;r--)(o=t[r])&&(s=(a<3?o(s):a>3?o(e,i,s):o(e,i))||s);return a>3&&s&&Object.defineProperty(e,i,s),s};Object.defineProperty(i,"__esModule",{value:!0});var s=cc._decorator,r=s.ccclass,c=(s.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.showCollision=function(){this.node.group="default"},e.prototype.hideCollision=function(){this.node.group="monsterhit"},a([r],e)}(cc.Component));i.default=c,cc._RF.pop()},{}],MonsterBulletItem:[function(t,e,i){"use strict";cc._RF.push(e,"2cc9euh1hZM/qL2ViEqrbjv","MonsterBulletItem");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),a=this&&this.__decorate||function(t,e,i,n){var o,a=arguments.length,s=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var r=t.length-1;r>=0;r--)(o=t[r])&&(s=(a<3?o(s):a>3?o(e,i,s):o(e,i))||s);return a>3&&s&&Object.defineProperty(e,i,s),s};Object.defineProperty(i,"__esModule",{value:!0});var s=t("../BulletMgr"),r=t("../Hero/Hero"),c=cc._decorator,l=c.ccclass,p=(c.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.init=function(t){this.index=t,this.direct=this.node.scaleX>0?1:-1,this.sp=500,this.life=3,this.use(),cc.director.on("GameStart",this.unuse,this)},e.prototype.use=function(){this.node.angle=0,this.using=!0,this.life=3,this.node.opacity=255},e.prototype.unuse=function(){this.node&&(this.life=0,this.using=!1,s.default.instance.monsterBulletPool.put(this.node))},e.prototype.update=function(t){this.using&&this.life>0&&(this.node.x+=this.direct*t*600,this.life-=t,this.life<=0&&this.unuse())},e.prototype.updateFollow=function(t){if(this.using&&this.life>0){var e,i=cc.v3(r.default.instance.node.x,r.default.instance.node.y+100).sub(this.node.position).normalize();this.node.scaleX>0?((e=Math.atan2(i.y,i.x)/Math.PI*180)<this.lastAngle&&(this.node.angle-=1),this.node.x+=Math.cos(this.node.angle/180*Math.PI)*t*600,this.node.y+=Math.sin(this.node.angle/180*Math.PI)*t*400):((e=Math.atan2(i.y,i.x)/Math.PI*180-180)>this.lastAngle&&(this.node.angle+=2),this.node.x-=Math.cos(this.node.angle/180*Math.PI)*t*600,this.node.y-=Math.sin(this.node.angle/180*Math.PI)*t*400),this.lastAngle=e,this.node.angle>90&&this.unuse(),this.node.angle<-90&&this.unuse(),this.life-=t,this.life<=0&&this.unuse()}},e.prototype.onDestroy=function(){cc.director.off("GameStart",this.unuse,this)},a([l],e)}(cc.Component));i.default=p,cc._RF.pop()},{"../BulletMgr":"BulletMgr","../Hero/Hero":"Hero"}],MonsterFSM:[function(t,e,i){"use strict";cc._RF.push(e,"402e9iDWsBDlKxAhNuOgt43","MonsterFSM");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),a=this&&this.__decorate||function(t,e,i,n){var o,a=arguments.length,s=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var r=t.length-1;r>=0;r--)(o=t[r])&&(s=(a<3?o(s):a>3?o(e,i,s):o(e,i))||s);return a>3&&s&&Object.defineProperty(e,i,s),s};Object.defineProperty(i,"__esModule",{value:!0});var s=t("../lib/state-machine.min.js"),r=t("./Monster"),c=t("../Audio"),l=t("../nativets/Global"),p=cc._decorator,u=p.ccclass,h=(p.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.skColor=[{a:1,r:0,g:0,b:0},{a:1,r:.4,g:.4,b:.4},{a:1,r:.4,g:0,b:0},{a:1,r:.25,g:.31,b:.43},{a:1,r:.4,g:0,b:.2},{a:1,r:1,g:1,b:1}],e.hitTime=.25,e.animationArray=[],e}return o(e,t),e.prototype.init=function(){var t=this;if(this.MonsterScript=this.node.getComponent(r.default),this.sk=this.node.getComponent(sp.Skeleton),this.sk.skeletonData._skeletonJson){var e=this.sk.skeletonData._skeletonJson.animations;for(var i in e)this.animationArray.push(i)}this.material=this.sk.getMaterial(0),this.sk.setCompleteListener(function(){t.fsm.is("state_move")||t.fsm.is("state_stand")||(t.fsm.is("state_bossmagic")&&t.MonsterScript.bossMagicEnd(),t.fsm.can("stop")&&t.fsm.stop(),t.fsm.is("state_dead")&&t.MonsterScript.recycle())}),this.sk.setEventListener(function(e,i){var n=i.data.name;t.MonsterScript.isBoss,"gongji_dao"!=n&&"gongji_qiang"!=n&&"gongji_shejian"!=n&&"gongji2"!=n&&"gongji_jingong"!=n&&"gongji"!=n&&"gongji1"!=n&&"\u653b\u51fb"!=n||t.MonsterScript.attack(),98==t.MonsterScript.type&&"gongji2"==n&&c.default.instance.playAudio("CCSkill2"),99==t.MonsterScript.type&&"gongji3"==n&&c.default.instance.playAudio("XXSkill3"),99==t.MonsterScript.type&&"gongji2"==n&&c.default.instance.playAudio("XXSkill2"),"gongji_yuangong"==n&&t.MonsterScript.berserkerAttack(),"gongji3"==n&&(1==t.DoubleIndex?(t.DoubleIndex--,t.MonsterScript.hitaoe.scaleX=1,c.default.instance.playAudio("CCSkill3")):0==t.DoubleIndex&&(t.MonsterScript.hitaoe.scaleX=-1,t.DoubleIndex=null,c.default.instance.playAudio("CCSkill3")),t.MonsterScript.bossAttack())}),this.fsm=new s({init:"state_stand",transitions:[{name:"reset",from:"*",to:"state_stand"},{name:"move",from:"state_stand",to:"state_move"},{name:"attack",from:["state_stand","state_move"],to:"state_attack"},{name:"bossAttack",from:["state_stand","state_move"],to:"state_bossattack"},{name:"bossDouble",from:["state_stand","state_move"],to:"state_bossdouble"},{name:"bossMagic",from:["state_stand","state_move"],to:"state_bossmagic"},{name:"lancerDash",from:["state_stand","state_move"],to:"state_lancerdash"},{name:"dragonAttack",from:["state_stand","state_move"],to:"state_dragonattack"},{name:"stop",from:["state_attack","state_bossattack","state_bossdouble","state_bossmagic","state_lancerdash","state_dragonattack","state_move","state_hit","state_fall","state_show"],to:"state_stand"},{name:"hit",from:["state_attack","state_bossattack","state_bossdouble","state_bossmagic","state_lancerdash","state_dragonattack","state_move","state_stand","state_hit","state_fall","state_show"],to:"state_hit"},{name:"fall",from:"state_hit",to:"state_fall"},{name:"dead",from:"state_hit",to:"state_dead"},{name:"show",from:"*",to:"state_show"}],methods:{onShow:function(){t.playAuto("\u8fdb\u573a",0)},onReset:function(){t.playAuto("\u7ad9\u7acb",0)},onMove:function(){t.playAuto("\u8dd1",0)},onAttack:function(){t.playAuto("\u653b\u51fb",1)},onBossDouble:function(){t.playAuto("\u653b\u51fb3",1),t.DoubleIndex=1},onBossMagic:function(){t.playAuto("\u6280\u80fd1",1)},onStop:function(){t.playAuto("\u7ad9\u7acb",0)},onHit:function(){t.playAuto("\u88ab\u653b\u51fb",1)},onFall:function(){t.playAuto("\u51fb\u98de",1)},onDead:function(){t.playAuto("\u6b7b\u4ea1",1)}}})},e.prototype.playAuto=function(t,e){if(this.MonsterScript.isBoss)switch(t){case"\u8fdb\u573a":t="\u51fa\u573a";break;case"\u653b\u51fb":t="\u653b\u51fb2",Math.random()<.2&&(99==this.MonsterScript.type&&(t="\u653b\u51fb3"),98==this.MonsterScript.type&&(t="\u653b\u51fb")),97==this.MonsterScript.type&&(c.default.instance.playAudio("XHDSkill1"),Math.random()<.2&&(t="\u653b\u51fb1",c.default.instance.playAudio("XHDSkill1")),Math.random()>.8&&(t="\u653b\u51fb3",c.default.instance.playAudio("XHDSkill2")));break;case"\u8dd1":t="\u884c\u8d70"}else if(4==this.MonsterScript.type||5==this.MonsterScript.type)switch(t){case"\u653b\u51fb":t=4==this.MonsterScript.type?"\u8fd1\u6218":"\u8fdc\u653b",4==this.MonsterScript.type?this.scheduleOnce(function(){c.default.instance.playAudio(l.default.getInstance().MonsterAudio.\u5de8\u4eba\u653b\u51fb)},1.2):c.default.instance.playAudio(l.default.getInstance().MonsterAudio.\u5de8\u4eba\u6eda\u77f3);break;case"\u6b7b\u4ea1":c.default.instance.playAudio(l.default.getInstance().MonsterAudio.\u5de8\u4eba\u6b7b\u4ea1);break;case"\u8dd1":t="\u8d70"}else if(6==this.MonsterScript.type)switch(t){case"\u653b\u51fb":t="attack",c.default.instance.playAudio(l.default.getInstance().MonsterAudio.\u5927\u8c61\u653b\u51fb);break;case"\u8dd1":t="run";break;case"\u8fdb\u573a":return;case"\u7ad9\u7acb":t="idle";break;case"\u6b7b\u4ea1":t="die",c.default.instance.playAudio(l.default.getInstance().MonsterAudio.\u5927\u8c61\u6b7b\u4ea1);break;case"\u88ab\u653b\u51fb":t="get_hurt"}else if(7==this.MonsterScript.type)switch(t){case"\u653b\u51fb":t="\u653b\u51fb1",c.default.instance.playAudio(l.default.getInstance().MonsterAudio.\u8001\u9e70\u653b\u51fb);break;case"\u6b7b\u4ea1":c.default.instance.playAudio(l.default.getInstance().MonsterAudio.\u8001\u9e70\u6b7b\u4ea1);break;case"\u8dd1":t="\u98de\u884c1";break;case"\u8fdb\u573a":return;case"\u7ad9\u7acb":t="\u98de\u884c2"}else if(8==this.MonsterScript.type);else{switch(t){case"\u653b\u51fb":t="attack";break;case"\u6b7b\u4ea1":t="dead";break;case"\u8dd1":t="run";break;case"\u8fdb\u573a":t="show";break;case"\u7ad9\u7acb":t="stand";break;case"\u88ab\u653b\u51fb":t="hit"}"sword_attack"==(t=this.MonsterScript.skstr+t)?c.default.instance.playAudio(l.default.getInstance().MonsterAudio.\u5200):"spear_attack"==t?c.default.instance.playAudio(l.default.getInstance().MonsterAudio.\u67aa):"bow_attack"==t&&c.default.instance.playAudio(l.default.getInstance().MonsterAudio.\u7bad)}this.animationArray.length?this.animationArray.includes(t)&&this.sk.setAnimation(0,t,0==e):this.sk.setAnimation(0,t,0==e)},e.prototype.setSkin=function(t){this.sk.setSkin(t)},a([u],e)}(cc.Component));i.default=h,cc._RF.pop()},{"../Audio":"Audio","../lib/state-machine.min.js":"state-machine.min","../nativets/Global":"Global","./Monster":"Monster"}],MonsterFactory:[function(t,e,i){"use strict";cc._RF.push(e,"bc16fx8N2dG1J3zBvWOjQLA","MonsterFactory");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),a=this&&this.__decorate||function(t,e,i,n){var o,a=arguments.length,s=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var r=t.length-1;r>=0;r--)(o=t[r])&&(s=(a<3?o(s):a>3?o(e,i,s):o(e,i))||s);return a>3&&s&&Object.defineProperty(e,i,s),s};Object.defineProperty(i,"__esModule",{value:!0});var s=t("../nativets/NodePool"),r=t("../Game"),c=cc._decorator,l=c.ccclass,p=c.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.monsterPrefab=null,e}var i;return o(e,t),i=e,e.prototype.init=function(){this.monsterPool=new s.default;for(var t=0;t<3;t++){var e=cc.instantiate(this.monsterPrefab);e.parent=r.default.instance.gameEventNode,this.monsterPool.put(e)}},e.prototype.onLoad=function(){i.instance=this,this.init()},e.prototype.getMonsterItem=function(){var t=this.monsterPrefab,e=this.monsterPool,i=e.get();return i||((i=cc.instantiate(t)).parent=r.default.instance.gameEffectNode,e.put(i)),i},e.prototype.create=function(){this.getMonsterItem()},e.instance=null,a([p(cc.Prefab)],e.prototype,"monsterPrefab",void 0),i=a([l],e)}(cc.Component);i.default=u,cc._RF.pop()},{"../Game":"Game","../nativets/NodePool":"NodePool"}],MonsterNodePool:[function(t,e,i){"use strict";cc._RF.push(e,"28f6a0ni+RPSJ8LSg7OPWcZ","MonsterNodePool");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),a=this&&this.__decorate||function(t,e,i,n){var o,a=arguments.length,s=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var r=t.length-1;r>=0;r--)(o=t[r])&&(s=(a<3?o(s):a>3?o(e,i,s):o(e,i))||s);return a>3&&s&&Object.defineProperty(e,i,s),s};Object.defineProperty(i,"__esModule",{value:!0});var s=t("../Game"),r=t("./Monster"),c=cc._decorator,l=c.ccclass,p=c.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.monsterPrefab=null,e.berserkerPrefab=null,e.elephantPrefab=null,e.eaglePrefab=null,e.xuchuPrefab=null,e.caocaoPrefab=null,e.xiahoudunPrefab=null,e.fangshuPrefab=null,e.bossShowPrefab=null,e}var i;return o(e,t),i=e,e.prototype.init=function(){this.monsterPool=new cc.NodePool;for(var t=0;t<10;t++){var e=cc.instantiate(this.monsterPrefab);e.getComponent(r.default).init(),this.monsterPool.put(e)}this.berserkerPool=new cc.NodePool;for(var i=0;i<5;i++){var n=cc.instantiate(this.berserkerPrefab);n.getComponent(r.default).init(),this.berserkerPool.put(n)}this.elephantPool=new cc.NodePool;for(var o=0;o<5;o++)(c=cc.instantiate(this.elephantPrefab)).getComponent(r.default).init(),this.elephantPool.put(c);this.eaglePool=new cc.NodePool;for(var a=0;a<5;a++)(c=cc.instantiate(this.eaglePrefab)).getComponent(r.default).init(),this.eaglePool.put(c);this.fangShuPool=new cc.NodePool;for(var s=0;s<5;s++){var c;(c=cc.instantiate(this.fangshuPrefab)).getComponent(r.default).init(),this.fangShuPool.put(c)}},e.prototype.onLoad=function(){i.instance=this,this.init()},e.prototype.create=function(t,e){var i=null,n=s.default.instance.getMonsterIndex(t);(i=99==n?this.getXuchuInstance():98==n?this.getCaocaoInstance():97==n?this.getXiahoudunInstance():4==n||5==n?this.getBerserkerInstance():6==n?this.getElephantInstance():7==n?this.getEagleInstance():8==n?this.getFangshuInstance():this.getMonsterInstance()).type=n,i.parent=s.default.instance.gameEventNode,i.position=e,i.getComponent(r.default).use(t)},e.prototype.getBossShow=function(){var t=cc.instantiate(this.bossShowPrefab);return t.parent=s.default.instance.gameEventNode,t},e.prototype.getXuchuInstance=function(){var t=cc.instantiate(this.xuchuPrefab);return t.getComponent(r.default).init(),t},e.prototype.getCaocaoInstance=function(){var t=cc.instantiate(this.caocaoPrefab);return t.getComponent(r.default).init(),t},e.prototype.getXiahoudunInstance=function(){var t=cc.instantiate(this.xiahoudunPrefab);return t.getComponent(r.default).init(),t},e.prototype.getMonsterInstance=function(){var t=null;return this.monsterPool.size()>0?t=this.monsterPool.get():(t=cc.instantiate(this.monsterPrefab)).getComponent(r.default).init(),t},e.prototype.getBerserkerInstance=function(){var t=null;return this.berserkerPool.size()>0?t=this.berserkerPool.get():(t=cc.instantiate(this.berserkerPrefab)).getComponent(r.default).init(),t},e.prototype.getElephantInstance=function(){var t=null;return this.elephantPool.size()>0?t=this.elephantPool.get():(t=cc.instantiate(this.elephantPrefab)).getComponent(r.default).init(),t},e.prototype.getEagleInstance=function(){var t=null;return this.eaglePool.size()>0?t=this.eaglePool.get():(t=cc.instantiate(this.eaglePrefab)).getComponent(r.default).init(),t},e.prototype.getFangshuInstance=function(){var t=null;return this.fangShuPool.size()>0?t=this.fangShuPool.get():(t=cc.instantiate(this.fangshuPrefab)).getComponent(r.default).init(),t},e.prototype.GCAll=function(){for(var t=s.default.instance.gameEventNode.children,e=t.length-1;e>=0;e--)this.recycle(t[e])},e.prototype.recycle=function(t){switch(t.name){case"boss":t.destroy();break;case"berserker":this.berserkerPool.put(t);break;case"elephant":this.elephantPool.put(t);break;case"eagle":this.eaglePool.put(t);break;case"monster":this.monsterPool.put(t);break;case"fangshu":this.fangShuPool.put(t);break;default:t.destroy()}},e.instance=null,a([p(cc.Prefab)],e.prototype,"monsterPrefab",void 0),a([p(cc.Prefab)],e.prototype,"berserkerPrefab",void 0),a([p(cc.Prefab)],e.prototype,"elephantPrefab",void 0),a([p(cc.Prefab)],e.prototype,"eaglePrefab",void 0),a([p(cc.Prefab)],e.prototype,"xuchuPrefab",void 0),a([p(cc.Prefab)],e.prototype,"caocaoPrefab",void 0),a([p(cc.Prefab)],e.prototype,"xiahoudunPrefab",void 0),a([p(cc.Prefab)],e.prototype,"fangshuPrefab",void 0),a([p(cc.Prefab)],e.prototype,"bossShowPrefab",void 0),i=a([l],e)}(cc.Component);i.default=u,cc._RF.pop()},{"../Game":"Game","./Monster":"Monster"}],Monster:[function(t,e,i){"use strict";cc._RF.push(e,"e0ebf17v9ZKiKKYcmMbTwQ6","Monster");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),a=this&&this.__decorate||function(t,e,i,n){var o,a=arguments.length,s=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var r=t.length-1;r>=0;r--)(o=t[r])&&(s=(a<3?o(s):a>3?o(e,i,s):o(e,i))||s);return a>3&&s&&Object.defineProperty(e,i,s),s};Object.defineProperty(i,"__esModule",{value:!0});var s=t("./MonsterNodePool"),r=t("./MonsterFSM"),c=t("../Hero/Hero"),l=t("../nativets/Global"),p=t("../BulletMgr"),u=t("../Game"),h=t("../LifeProgress"),d=t("../Reward/RewardMgr"),f=t("../Director"),m=t("../Audio"),g=t("../nativets/Config"),y=t("../BizarreAdventure/BizarreAdventure"),v=t("./BossShow"),_=cc._decorator,b=_.ccclass,C=_.property,S=["sword_","spear_","bow_","bow_"],x=["02_huangtoujin","01","03_gaojixiaobing"],A=["001_\u51b0","002_\u706b"],k=["001_\u8fd1\u6218","001_\u8fdc\u653b"],B=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.skstr="sword_",e.attackRange=100,e.move=0,e.speed=300,e.count=0,e.attackSpace=0,e.attackSpaceCount=0,e.AiActive=!1,e.standTime=0,e.isBoss=!1,e}return o(e,t),e.prototype.init=function(){this.heroCameraNode=cc.director.getScene().getComponentInChildren(cc.Canvas).node.getChildByName("heroCamera").getComponent(cc.Camera),this.body=this.node.getChildByName("body"),this.hitBox=this.node.getChildByName("hitbox"),this.hitaoe=this.node.getChildByName("hitaoe"),this.hitCollider=this.hitBox.getComponent(cc.BoxCollider),this.hitaoe&&(this.hitaoeCollider=this.hitaoe.getComponent(cc.BoxCollider)),this.MonsterFSM=this.node.getComponent(r.default),this.MonsterFSM.init(),this.material=this.node.getComponent(sp.Skeleton).getMaterial(0),this.initEvent()},e.prototype.initEvent=function(){this.body.on("Hit",this.customHit,this),cc.director.on("TowerDestroy",this.onTowerDestroy,this)},e.prototype.use=function(t){this.MonsterFSM.fsm.reset();var e=u.default.instance.getMonsterIndex(t),i=u.default.instance.getMonsterColor(t)-1;this.type=e,this.armor=g.MonsterArmor[l.default.getInstance().gameDifficulty][l.default.getInstance().nowLevel-40*l.default.getInstance().gameDifficulty-1],this.baseHP=g.MonsterHP[l.default.getInstance().gameDifficulty][l.default.getInstance().nowLevel-40*l.default.getInstance().gameDifficulty-1],this.baseATK=g.MonsterATK[l.default.getInstance().gameDifficulty][l.default.getInstance().nowLevel-40*l.default.getInstance().gameDifficulty-1],99==this.type||98==this.type||97==this.type?(this.isBoss=!0,this.attackRange=500,this.bossLifeMgr=u.default.instance.bossHp.getComponent(h.default),this.bossLifeMgr.init(!0),this.HP=1e4,this.attackSpace=1.5+Math.floor(2*Math.random())):(this.isBoss=!1,this.HP=1e3,this.attackSpace=3+Math.floor(5*Math.random())),this.isBoss?(this.HP=5*this.baseHP,this.hitCollider.tag=1.2*this.baseATK,this.hitaoeCollider.tag=1.3*this.baseATK):this.isElite()?(this.HP=2*this.baseHP,this.hitCollider.tag=1.1*this.baseATK):(this.HP=this.baseHP,this.hitCollider.tag=1*this.baseATK),3==this.type?(this.isRemote=1,this.attackRange=1e3+Math.floor(150*Math.random())):2==this.type?(this.isRemote=0,this.attackRange=cc.winSize.width):4==this.type?(this.isRemote=-1,this.attackRange=700+Math.floor(150*Math.random())):5==this.type?(this.hitBall=this.node.getChildByName("hitball"),this.ballBone=this.MonsterFSM.sk.findBone("B"),this.isRemote=1,this.attackRange=1e3+Math.floor(150*Math.random())):6==this.type?(this.isRemote=-1,this.attackRange=400+Math.floor(150*Math.random())):7==this.type?(this.isRemote=-1,this.attackRange=200+Math.floor(150*Math.random())):8==this.type?(this.isRemote=1,this.attackRange=1e3+Math.floor(150*Math.random()),this.fangshuskin=i,this.MonsterFSM.setSkin(A[i])):(this.isRemote=-1,this.attackRange=100+Math.floor(150*Math.random())),this.setSkStr(this.type),this.type<4&&this.MonsterFSM.setSkin(x[i]),4!=this.type&&5!=this.type||this.MonsterFSM.setSkin(k[this.type-4]),this.MonsterFSM.fsm.show(),this.isInScreen()&&this.scheduleOnce(function(){m.default.instance.playAudio("MonsterShow")},.3),this.body.active=!0,this.BASE_SCALEX=.4,this.isBoss&&(this.BASE_SCALEX=-1.2),4!=this.type&&5!=this.type||(this.BASE_SCALEX=-1),6==this.type&&(this.BASE_SCALEX=-1),7==this.type&&(this.BASE_SCALEX=-.3),8==this.type&&(this.BASE_SCALEX=-1),this.speed=350,this.bodyWidth=200,this.eyeRange=2*cc.winSize.width,this.scaleFlag=this.BASE_SCALEX>0?1:-1},e.prototype.unuse=function(){},e.prototype.onTowerDestroy=function(){var t=this;cc.tween(this.node).to(.5,{position:cc.v3(this.node.x,-191)}).call(function(){t.type=3,t.isRemote=1,t.attackRange=1e3+Math.floor(150*Math.random())}).start()},e.prototype.setSkStr=function(t){this.skstr=S[t]},e.prototype.attack=function(){this.isRemote>-1?this.remoteAttack():this.closeAttack()},e.prototype.closeAttack=function(){var t=this;this.hitBox.active=!0,this.scheduleOnce(function(){t.hitBox.active=!1})},e.prototype.bossAttack=function(){var t=this;this.hitaoe.active=!0,this.scheduleOnce(function(){t.hitaoe.active=!1})},e.prototype.berserkerAttack=function(){this.hitBall.active=!0},e.prototype.remoteAttack=function(){if(8==this.type)0==this.fangshuskin?(p.default.instance.createForMonsterIce(c.default.instance.node.x,.9*this.baseATK),m.default.instance.playAudio(l.default.getInstance().MonsterAudio.\u51b0)):(p.default.instance.createForMonsterFire(c.default.instance.node.x,.9*this.baseATK),m.default.instance.playAudio(l.default.getInstance().MonsterAudio.\u706b));else{var t=this.node.scaleX>0?1:-1,e=this.node.x+50*t,i=this.node.y+85;p.default.instance.createForMonster(this.type,cc.v2(e,i),t,.9*this.baseATK)}},e.prototype.onCustomHit=function(t,e,i,n){t>0?(this.node.x>c.default.instance.node.x&&this.getDistance()<=n-30+this.bodyWidth&&this.hit(e,i),this.node.x<=c.default.instance.node.x&&this.getDistance()<=30+this.bodyWidth&&this.hit(e,i)):(this.node.x<c.default.instance.node.x&&this.getDistance()<=n-30+this.bodyWidth&&this.hit(e,i),this.node.x>=c.default.instance.node.x&&this.getDistance()<=30+this.bodyWidth&&this.hit(e,i))},e.prototype.customHit=function(t,e,i){i&&this.away(),this.hit(t,e)},e.prototype.hit=function(t,e){var i=this;if(t*=1-this.armor/(this.armor+2e3),this.HP-=t*(e?2:1),this.showDamage(t,e),this.refreshLifeProgress(t*(e?2:1)),this.material.effect.setProperty("isFlash",1.1),this.scheduleOnce(function(){i.material.effect.setProperty("isFlash",.5)},.1),this.MonsterFSM.fsm.can("hit")){if(this.HP<=0)return this.MonsterFSM.fsm.hit(),this.CoinsFall(),void this.dead();this.isBoss?Math.random()<.07&&this.MonsterFSM.fsm.hit():this.isElite()?Math.random()<.12&&this.MonsterFSM.fsm.hit():Math.random()<.2&&this.MonsterFSM.fsm.hit()}},e.prototype.refreshLifeProgress=function(t){if(this.isBoss){var e=100*t/(5*this.baseHP);this.bossLifeMgr.damage(4*e)}},e.prototype.dead=function(){if(this.MonsterFSM.fsm.can("dead")&&(this.MonsterFSM.fsm.dead(),this.type<6&&m.default.instance.playAudio("MonsterDead"),this.body.active=!1),l.default.getInstance().monsterCount--,l.default.getInstance().monsterCount<=0)if(l.default.getInstance().MapLevelIndex==l.default.getInstance().MapLevelCount){for(var t=0;t<u.default.instance.rewardItemAttrs.length;t++)d.default.instance.createReward(u.default.instance.rewardItemAttrs[t],cc.v3(this.node.x-400+400*Math.random(),-172));y.default.instance.onOpen(!0)}else l.default.getInstance().levelNext=!0,u.default.instance.nextArrow.active=!0},e.prototype.away=function(){this.node.x>c.default.instance.node.x?this.node.x+=60:this.node.x-=60},e.prototype.showDamage=function(t,e){t=Math.floor(t),cc.director.emit("showdmg",t,this.node.x,e,this.isBoss,c.default.instance.node.scaleX)},e.prototype.getDistance=function(){return Math.abs(this.node.x-c.default.instance.node.x)},e.prototype.getPosInScreen=function(){var t=cc.v2(0,0);return this.heroCameraNode.getWorldToScreenPoint(this.node.position,t),t},e.prototype.isInScreen=function(){var t=this.getPosInScreen();return t.x>0&&t.x<cc.winSize.width},e.prototype.isElite=function(){return 4==this.type||5==this.type||6==this.type},e.prototype.bossMagicStart=function(){this.bossMagic=!0,this.bossMagicTime=0,m.default.instance.playAudio("XHDSkill3")},e.prototype.bossMagicEnd=function(){this.bossMagic=!1},e.prototype.updateBossMagic=function(t){var e=this;this.bossMagic&&(this.bossMagicTime>0?this.bossMagicTime-=t:(this.bossMagicTime=.1,this.node.getChildByName("hitmagic").getComponent(cc.CircleCollider).tag=.2*this.baseATK,this.node.getChildByName("hitmagic").active=!0,this.scheduleOnce(function(){e.node.getChildByName("hitmagic").active=!1})))},e.prototype.MonsterUpdate=function(){var t=this;if(3!=this.move){if(this.attackSpaceCount++,!this.AiActive&&this.isBoss&&!u.default.instance.gameEventNode.getChildByName("bossShow")){var e=s.default.instance.getBossShow();e.position=cc.v3(this.node.x,this.node.y+120);var i=e.getComponent(cc.Animation);e.getComponent(v.default).setType(this.type),i.stop(),i.play(),l.default.getInstance().inGame=!1,i.on(cc.Animation.EventType.FINISHED,function(){e.active=!1,t.AiActive=!0,f.default.instance.onOpen(l.default.getInstance().nowLevel,l.default.getInstance().MapLevelIndex)})}!this.AiActive&&this.getDistance()<this.eyeRange&&(this.isBoss||(this.AiActive=!0)),this.AiActive&&(c.default.instance.node.x<=this.node.x?this.node.scaleX=-this.BASE_SCALEX:this.node.scaleX=this.BASE_SCALEX,this.isInScreen()?this.getDistance()>this.attackRange?(this.MonsterFSM.fsm.can("move")&&this.MonsterFSM.fsm.move(),this.node.scaleX<0?this.move=-1*this.scaleFlag:this.move=1*this.scaleFlag,this.isBoss||3==this.type&&8!=this.node.type&&Math.random()<.1&&this.MonsterFSM.fsm.can("lancerDash")&&this.MonsterFSM.fsm.lancerDash()):this.getDistance()<30?Math.random()<.05&&(this.MonsterFSM.fsm.can("move")&&this.MonsterFSM.fsm.move(),this.node.scaleX<0?this.move=1*this.scaleFlag:this.move=-1*this.scaleFlag):(97==this.type&&Math.random()<.35&&(this.node.scaleX<0?this.move=-1*this.scaleFlag:this.move=1*this.scaleFlag,this.MonsterFSM.fsm.can("bossMagic")&&(this.MonsterFSM.fsm.bossMagic(),this.bossMagicStart())),98==this.type&&Math.random()<.25&&this.MonsterFSM.fsm.can("bossDouble")&&this.MonsterFSM.fsm.bossDouble(),this.move=0,this.MonsterFSM.fsm.is("state_move")&&this.MonsterFSM.fsm.reset(),this.attackSpaceCount>=this.attackSpace&&(this.attackSpaceCount=0,this.isBoss?this.MonsterFSM.fsm.can("attack")&&this.MonsterFSM.fsm.attack():this.MonsterFSM.fsm.can("attack")&&(7==this.type&&this.node.y>-140?(this.MonsterFSM.fsm.can("move")&&this.MonsterFSM.fsm.move(),this.down=!0):this.MonsterFSM.fsm.attack()))):(this.MonsterFSM.fsm.can("move")&&this.MonsterFSM.fsm.move(),this.node.scaleX<0?this.move=-1*this.scaleFlag:this.move=1*this.scaleFlag))}},e.prototype.remoteMonsterUpdate=function(){this.attackSpaceCount++,!this.AiActive&&this.getDistance()<this.eyeRange&&(this.AiActive=!0),this.AiActive&&(c.default.instance.node.x<=this.node.x?this.node.scaleX=-this.BASE_SCALEX:this.node.scaleX=this.BASE_SCALEX,this.isInScreen()?this.getDistance()>this.attackRange*(.6+.4*Math.random())?(this.MonsterFSM.fsm.can("move")&&this.MonsterFSM.fsm.move(),this.node.scaleX<0?this.move=-1*this.scaleFlag:this.move=1*this.scaleFlag):(this.getDistance(),this.attackRange,Math.random(),this.move=0,this.MonsterFSM.fsm.is("state_move")&&this.MonsterFSM.fsm.reset(),this.attackSpaceCount>=this.attackSpace&&(this.attackSpaceCount=0,this.MonsterFSM.fsm.can("attack")&&(this.MonsterFSM.fsm.attack(),this.standTime=3))):(this.MonsterFSM.fsm.can("move")&&this.MonsterFSM.fsm.move(),this.node.scaleX<0?this.move=-1*this.scaleFlag:this.move=1*this.scaleFlag))},e.prototype.towerMonsterUpdate=function(){this.attackSpaceCount++,!this.AiActive&&this.getDistance()<this.eyeRange&&(this.AiActive=!0),this.AiActive&&(c.default.instance.node.x<=this.node.x?this.node.scaleX=-this.BASE_SCALEX:this.node.scaleX=this.BASE_SCALEX,this.isInScreen()?(this.move=0,this.MonsterFSM.fsm.is("state_move")&&this.MonsterFSM.fsm.reset(),this.attackSpaceCount>=this.attackSpace&&(this.attackSpaceCount=0,this.MonsterFSM.fsm.can("attack")&&(this.MonsterFSM.fsm.attack(),this.standTime=3))):(this.MonsterFSM.fsm.can("move")&&this.MonsterFSM.fsm.move(),this.node.scaleX<0?this.move=-1*this.scaleFlag:this.move=1*this.scaleFlag))},e.prototype.CoinsFall=function(){d.default.instance.createCoins(9e4,cc.v3(this.node.x,-172))},e.prototype.recycle=function(){"boss"!=this.node.name&&"berserker"!=this.node.name&&"elephant"!=this.node.name&&"eagle"!=this.node.name?s.default.instance.recycle(this.node):this.node.destroy()},e.prototype.update=function(t){if(l.default.getInstance().inGame){if(this.updateBossMagic(t),this.hitBall&&this.hitBall.active&&(this.hitBall.x=this.ballBone.worldX,this.hitBall.x<-1250&&(this.hitBall.active=!1)),this.standTime>0&&(this.standTime-=t),this.count+=1,20==this.count){if(this.count=0,this.MonsterFSM.fsm.is("state_dead"))return;switch(this.isRemote){case-1:this.MonsterUpdate();break;case 0:case 1:this.standTime<=0&&this.remoteMonsterUpdate()}}if(this.MonsterFSM.fsm.is("state_move")||this.MonsterFSM.fsm.is("state_bossmagic")){switch(this.move){case-1:this.node.x-=this.speed*t;break;case 1:this.node.x+=this.speed*t}this.down&&(this.node.y-=this.speed*t,this.node.y<=-140&&(this.down=!1))}}},e.prototype.onDestroy=function(){this.body.off("Hit",this.customHit,this),cc.director.off("TowerDestroy",this.onTowerDestroy,this)},a([C(cc.String)],e.prototype,"skstr",void 0),a([b],e)}(cc.Component);i.default=B,cc._RF.pop()},{"../Audio":"Audio","../BizarreAdventure/BizarreAdventure":"BizarreAdventure","../BulletMgr":"BulletMgr","../Director":"Director","../Game":"Game","../Hero/Hero":"Hero","../LifeProgress":"LifeProgress","../Reward/RewardMgr":"RewardMgr","../nativets/Config":"Config","../nativets/Global":"Global","./BossShow":"BossShow","./MonsterFSM":"MonsterFSM","./MonsterNodePool":"MonsterNodePool"}],MoveComponent:[function(t,e,i){"use strict";cc._RF.push(e,"c9db2M6nFRP6pJY2kRa5lQ+","MoveComponent");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),a=this&&this.__decorate||function(t,e,i,n){var o,a=arguments.length,s=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var r=t.length-1;r>=0;r--)(o=t[r])&&(s=(a<3?o(s):a>3?o(e,i,s):o(e,i))||s);return a>3&&s&&Object.defineProperty(e,i,s),s};Object.defineProperty(i,"__esModule",{value:!0}),i.MoveComponent=void 0;var s=t("./ActionComponent"),r=cc._decorator,c=r.ccclass,l=r.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._targetNode=null,e._fromPos=new cc.Vec2(-1e3,-1e3),e.endPos=new cc.Vec2,e.moveType=s.ActionType.\u79fb\u52a8\u5230To,e.moveTween=null,e}return o(e,t),Object.defineProperty(e.prototype,"targetNode",{get:function(){return this._targetNode},set:function(t){this._targetNode=t,this.targetNode.getPosition(this.fromPos)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fromPos",{get:function(){return this._fromPos},set:function(t){this._fromPos=t},enumerable:!1,configurable:!0}),e.prototype.getTween=function(){return this.moveTween||(this.moveType==s.ActionType.\u79fb\u52a8\u5230To?this.moveTween=cc.tween(this.getTarget()).to(this.speed,{position:cc.v3(this.endPos.x,this.endPos.y,this.getTarget().position.z)}):this.moveTween=cc.tween(this.getTarget()).by(this.speed,{position:cc.v3(this.endPos.x,this.endPos.y,0)}),this.moveTween.call(this.callFunc)),this.moveTween},e.prototype.startAction=function(){this.getTween().stop(),this.getTarget().setPosition(this.fromPos),this.getTween().start()},e.prototype.endAction=function(){this.getTween().stop(),this.moveType==s.ActionType.\u79fb\u52a8\u5230To?this.getTarget().setPosition(this.endPos.x,this.endPos.y):this.getTarget().setPosition(this.fromPos.x+this.endPos.x,this.fromPos.y+this.endPos.y)},e.prototype.resetAction=function(){this.getTween().stop(),this.getTarget().setPosition(this.fromPos)},e.prototype.getTarget=function(){return this.targetNode},a([l({type:cc.Node,visible:!1,formerlySerializedAs:"target"})],e.prototype,"_targetNode",void 0),a([l(cc.Node)],e.prototype,"targetNode",null),a([l],e.prototype,"_fromPos",void 0),a([l({displayName:"\u8d77\u59cb\u4f4d\u7f6e",type:cc.Vec2})],e.prototype,"fromPos",null),a([l({displayName:"\u7ed3\u675f\u4f4d\u7f6e"})],e.prototype,"endPos",void 0),a([l({displayName:"\u79fb\u52a8\u65b9\u5f0f",type:cc.Enum(s.ActionType)})],e.prototype,"moveType",void 0),a([c],e)}(s.ActionComponent);i.MoveComponent=p,cc._RF.pop()},{"./ActionComponent":"ActionComponent"}],MusicManager:[function(t,e,i){"use strict";cc._RF.push(e,"cb557nUXHRJ2K5ERqiD6FfG","MusicManager"),Object.defineProperty(i,"__esModule",{value:!0}),i.MusicManager=void 0;var n=function(){function t(){this.curClip=null;var t=new cc.Node;t.name="__MusicManager__",cc.director.getScene().addChild(t),cc.game.addPersistRootNode(t),this._audioSource=t.addComponent(cc.AudioSource)}return Object.defineProperty(t,"instance",{get:function(){return null==this._instance&&(this._instance=new t),this._instance},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"audioSource",{get:function(){return this._audioSource},enumerable:!1,configurable:!0}),t.prototype.play=function(t,e){var i=this;void 0===e&&(e=1),this.curClip!=t&&(this.stop(),t instanceof cc.AudioClip?(this._audioSource.clip=t,this._audioSource.play(),this.audioSource.volume=e,this.audioSource.loop=!0):cc.resources.load(t,function(t,n){t||(i._audioSource.clip=n,i._audioSource.play(),i.audioSource.volume=e)}))},t.prototype.stop=function(){this._audioSource.stop(),this.curClip=null},t.prototype.pause=function(){this._audioSource.pause(),this.curClip=null},t.prototype.resume=function(){this._audioSource.play()},t}();i.MusicManager=n,cc._RF.pop()},{}],NodePool:[function(t,e,i){"use strict";cc._RF.push(e,"50886DTr1hLN72W6xPuN80K","NodePool"),Object.defineProperty(i,"__esModule",{value:!0});var n=function(){this.pool=[]};n.prototype={constructor:n,size:function(){return this.pool.length},get:function(){var t=null,e=this.pool.length-1;return this.pool.length<=0?null:(e>=0&&(t=this.pool[e],this.pool.length=e),t)},put:function(t){t&&-1==this.pool.indexOf(t)?(t.opacity=0,t.y=900,this.pool.push(t)):(t&&"rewardItem"==t.name&&(t.y=900),t.opacity=0)}},i.default=n,cc._RF.pop()},{}],OpacityComponent:[function(t,e,i){"use strict";cc._RF.push(e,"5f5c382EsxN3Y+3ztbS36cw","OpacityComponent");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),a=this&&this.__decorate||function(t,e,i,n){var o,a=arguments.length,s=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var r=t.length-1;r>=0;r--)(o=t[r])&&(s=(a<3?o(s):a>3?o(e,i,s):o(e,i))||s);return a>3&&s&&Object.defineProperty(e,i,s),s};Object.defineProperty(i,"__esModule",{value:!0}),i.OpacityComponent=void 0;var s=t("./ActionComponent"),r=cc._decorator,c=r.ccclass,l=r.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._targetNode=null,e.startOpacity=0,e.endOpacity=0,e.moveType=s.ActionType.\u79fb\u52a8\u5230To,e.moveTween=null,e.fromOpacity=255,e}return o(e,t),Object.defineProperty(e.prototype,"targetNode",{get:function(){return this._targetNode},set:function(t){this._targetNode=t,this.startOpacity=this.targetNode.opacity},enumerable:!1,configurable:!0}),e.prototype.onLoad=function(){this.fromOpacity=this.startOpacity},e.prototype.getTarget=function(){return this.targetNode},e.prototype.getTween=function(){return this.moveTween||(this.moveType==s.ActionType.\u79fb\u52a8\u5230To?this.moveTween=cc.tween(this.getTarget()).to(this.speed,{opacity:this.endOpacity}):this.moveTween=cc.tween(this.getTarget()).by(this.speed,{opacity:this.endOpacity}),this.moveTween.call(this.callFunc)),this.moveTween},e.prototype.startAction=function(){this.getTween().stop(),this.getTarget().opacity=this.fromOpacity,this.getTween().start()},e.prototype.endAction=function(){this.getTween().stop(),this.moveType==s.ActionType.\u79fb\u52a8\u5230To?this.getTarget().opacity=this.endOpacity:this.getTarget().opacity=this.fromOpacity+this.endOpacity},e.prototype.resetAction=function(){this.getTween().stop(),this.getTarget().opacity=this.fromOpacity},a([l({type:cc.Node,visible:!1,formerlySerializedAs:"target"})],e.prototype,"_targetNode",void 0),a([l(cc.Node)],e.prototype,"targetNode",null),a([l({displayName:"\u5f00\u59cb\u4e0d\u900f\u660e\u5ea6"})],e.prototype,"startOpacity",void 0),a([l({displayName:"\u7ed3\u675f\u4e0d\u900f\u660e\u5ea6"})],e.prototype,"endOpacity",void 0),a([l({displayName:"\u79fb\u52a8\u65b9\u5f0f",type:cc.Enum(s.ActionType)})],e.prototype,"moveType",void 0),a([c],e)}(s.ActionComponent);i.OpacityComponent=p,cc._RF.pop()},{"./ActionComponent":"ActionComponent"}],Others:[function(t,e,i){"use strict";cc._RF.push(e,"df429c96NhOHLYVZmcmp35e","Others");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),a=this&&this.__decorate||function(t,e,i,n){var o,a=arguments.length,s=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var r=t.length-1;r>=0;r--)(o=t[r])&&(s=(a<3?o(s):a>3?o(e,i,s):o(e,i))||s);return a>3&&s&&Object.defineProperty(e,i,s),s};Object.defineProperty(i,"__esModule",{value:!0});var s=t("../Audio"),r=t("../Tool/Statistics"),c=cc._decorator,l=c.ccclass,p=(c.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}var i;return o(e,t),i=e,e.prototype.init=function(){i.instance=this,this.listNode=this.node.getChildByName("list"),this.listSelect=this.listNode.getChildByName("light"),this.layoutNode=this.node.getChildByName("Layout"),this.layoutAttrs=[];for(var t=0;t<6;t++){var e=this.layoutNode.getChildByName(""+t);this.layoutAttrs.push(e)}this.layoutAttrs.push(this.layoutNode.getChildByName("9"))},e.prototype.onLoad=function(){this.init(),this.initEvent()},e.prototype.initEvent=function(){var t=this;cc.director.on("other_sub_close",function(e){t.onClose(),e.stopPropagation()})},e.prototype.onBtnListSelect=function(t){s.default.instance.playAudio("BtnClick");var e=parseInt(t.target.name);9!=e&&2!=e&&r.default.getInstance().reportEvent(["\u7b7e\u5230","\u6d3b\u52a8","\u4efb\u52a1","\u6210\u5c31"][e]),this.open(e)},e.prototype.open=function(t){this.node.active=!0,9==t&&(this.layoutAttrs[6].active=!0),this.listIndex!=t&&(this.listIndex=t,this.refreshList())},e.prototype.refreshList=function(){var t=[0,3,4,5].indexOf(this.listIndex);this.listSelect.y=-31-62*t;for(var e=0;e<6;e++){var i=this.layoutAttrs[e];i&&(i.active=this.listIndex==e)}this.layoutAttrs[6].active=9==this.listIndex},e.prototype.onBtnClose=function(){s.default.instance.playAudio("BtnClick"),this.onClose(),this.layoutAttrs[6].active=!1},e.prototype.onClose=function(){this.node.active=!1,this.node.emit("other_close")},e.prototype.onDestroy=function(){cc.director.off("other_sub_close")},e.instance=null,i=a([l],e)}(cc.Component));i.default=p,cc._RF.pop()},{"../Audio":"Audio","../Tool/Statistics":"Statistics"}],PageComponent:[function(t,e,i){"use strict";cc._RF.push(e,"fc1426drRZP9brQdkVXWPOQ","PageComponent");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),a=this&&this.__decorate||function(t,e,i,n){var o,a=arguments.length,s=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var r=t.length-1;r>=0;r--)(o=t[r])&&(s=(a<3?o(s):a>3?o(e,i,s):o(e,i))||s);return a>3&&s&&Object.defineProperty(e,i,s),s};Object.defineProperty(i,"__esModule",{value:!0}),i.PageComponent=void 0;var s=cc._decorator,r=s.ccclass,c=s.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.colNum=1,e.parentScroll=null,e}return o(e,t),e.prototype.setScroll=function(t){this.parentScroll=t},a([c({displayName:"\u6bcf\u884c\u591a\u5c11"})],e.prototype,"colNum",void 0),a([r],e)}(cc.Component);i.PageComponent=l,cc._RF.pop()},{}],PageItem:[function(t,e,i){"use strict";cc._RF.push(e,"d8628Q4s8xCVoCwDOUxTmww","PageItem");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),a=this&&this.__decorate||function(t,e,i,n){var o,a=arguments.length,s=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var r=t.length-1;r>=0;r--)(o=t[r])&&(s=(a<3?o(s):a>3?o(e,i,s):o(e,i))||s);return a>3&&s&&Object.defineProperty(e,i,s),s};Object.defineProperty(i,"__esModule",{value:!0}),i.PageItem=void 0;var s=cc._decorator,r=s.ccclass,c=(s.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),a([r],e)}(cc.Component));i.PageItem=c,cc._RF.pop()},{}],Platform:[function(t,e,i){"use strict";cc._RF.push(e,"198308TuddGQJyEmijdzKEn","Platform"),Object.defineProperty(i,"__esModule",{value:!0}),i.Platform=i.getPLATID=i.getPlatform=void 0;var n="",o=function(){return""==n&&(CC_WECHATGAME&&(n=a.WX),window.qq&&(n=a.QQ),cc.sys.platform===cc.sys.OPPO_GAME&&(n=a.OPPO),cc.sys.platform===cc.sys.VIVO_GAME&&(n=a.VIVO),window.tt&&(n=a.TT),window.FBInstant&&(n=a.FB)),n};i.getPlatform=o;var a=cc.Enum({WX:"wx",Android:"Android",IOS:"IOS",QQ:"qq",FB:"fb",WEB:"web",OPPO:"oppo",VIVO:"vivo",TT:"tt",m4399:"4399"});i.Platform=a,i.getPLATID=function(){switch(o()){case a.WEB:return 2;case a.WX:return 1;case a.QQ:return 4;case a.OPPO:return 2;case a.VIVO:return 1;case a.TT:return 3;default:return 99}},cc._RF.pop()},{}],PlistAniComponent:[function(t,e,i){"use strict";cc._RF.push(e,"74352OHRM5CFa3MOBoxpZBH","PlistAniComponent");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),a=this&&this.__decorate||function(t,e,i,n){var o,a=arguments.length,s=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var r=t.length-1;r>=0;r--)(o=t[r])&&(s=(a<3?o(s):a>3?o(e,i,s):o(e,i))||s);return a>3&&s&&Object.defineProperty(e,i,s),s};Object.defineProperty(i,"__esModule",{value:!0}),i.PlistAniComponent=void 0;var s=cc._decorator,r=s.ccclass,c=s.property,l=s.requireComponent,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.speed=.2,e.atlas=null,e.isLoop=!0,e.isBackFirst=!1,e.playOnLoad=!1,e.frames=[],e.curIndex=0,e.isPlay=!1,e.curTime=0,e}return o(e,t),e.prototype.onLoad=function(){this.spriteCom=this.node.getComponent(cc.Sprite),this.frames=this.atlas.getSpriteFrames(),this.playOnLoad&&this.playAni()},e.prototype.playAni=function(){this.spriteCom.spriteFrame=this.frames[this.curIndex],this.isPlay=!0},e.prototype.pauseAni=function(){this.isPlay=!1},e.prototype.resumeAni=function(){this.isPlay=!0},e.prototype.stopAniImmediately=function(){this.isPlay=!1,this.curIndex=0,this.spriteCom.spriteFrame=this.frames[this.curIndex]},e.prototype.update=function(t){this.isPlay&&(this.curTime+=t,this.curTime>=this.speed&&(this.curTime=0,this.curIndex<this.frames.length-1?(this.curIndex++,this.spriteCom.spriteFrame=this.frames[this.curIndex]):this.isLoop?(this.curIndex=0,this.spriteCom.spriteFrame=this.frames[this.curIndex]):(this.isPlay=!1,this.curIndex=0,this.isBackFirst&&(this.spriteCom.spriteFrame=this.frames[this.curIndex]))))},a([c({displayName:"\u52a8\u4f5c\u65f6\u95f4"})],e.prototype,"speed",void 0),a([c(cc.SpriteAtlas)],e.prototype,"atlas",void 0),a([c({displayName:"\u662f\u5426\u5faa\u73af",visible:function(){return!this.isBackFirst}})],e.prototype,"isLoop",void 0),a([c({displayName:"\u7ed3\u675f\u8fd4\u56de\u7b2c\u4e00\u5e27",visible:function(){return!this.isLoop}})],e.prototype,"isBackFirst",void 0),a([c],e.prototype,"playOnLoad",void 0),a([r,l(cc.Sprite)],e)}(cc.Component);i.PlistAniComponent=p,cc._RF.pop()},{}],QimenItem:[function(t,e,i){"use strict";cc._RF.push(e,"76daatkZt9JUYrkDfPrjLDA","QimenItem");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),a=this&&this.__decorate||function(t,e,i,n){var o,a=arguments.length,s=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var r=t.length-1;r>=0;r--)(o=t[r])&&(s=(a<3?o(s):a>3?o(e,i,s):o(e,i))||s);return a>3&&s&&Object.defineProperty(e,i,s),s};Object.defineProperty(i,"__esModule",{value:!0});var s=t("../../TextureMgr"),r=cc._decorator,c=r.ccclass,l=(r.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.init=function(){this.index=-1,this.icon=this.node.getChildByName("icon").getComponent(cc.Sprite),this.bg=this.node.getChildByName("bg").getComponent(cc.Sprite),this.nameLabel=this.node.getChildByName("name").getComponent(cc.Label),this.textLabel=this.node.getChildByName("text").getComponent(cc.Label),this.attLabel=this.node.getChildByName("att").getComponent(cc.Label)},e.prototype.setItem=function(t,e,i,n,o){this.index=t,this.icon.node.scale=t<4?1.2:1,this.bg.spriteFrame=t<4?s.default.instance.rewardBg:null,this.icon.spriteFrame=e,this.nameLabel.string=i,this.textLabel.string=n,this.attLabel.string=o},a([c],e)}(cc.Component));i.default=l,cc._RF.pop()},{"../../TextureMgr":"TextureMgr"}],Qimen:[function(t,e,i){"use strict";cc._RF.push(e,"7577e52JUtExqsqvpG8Oogx","Qimen");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),a=this&&this.__decorate||function(t,e,i,n){var o,a=arguments.length,s=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var r=t.length-1;r>=0;r--)(o=t[r])&&(s=(a<3?o(s):a>3?o(e,i,s):o(e,i))||s);return a>3&&s&&Object.defineProperty(e,i,s),s};Object.defineProperty(i,"__esModule",{value:!0});var s=t("../../nativets/Config"),r=t("../../Hero/HeroGlobal"),c=t("../../TextureMgr"),l=t("./QimenItem"),p=t("../../Audio"),u=t("../../GameUtils"),h=t("../../Hall/Message"),d=t("../../GameSDKManger"),f=[[50105,50101,40102,40101,30105,30104],[50204,40103,30107],[50302,40207,40204,30203,30202],[50303,40305,30206],[50306,40306,30308,30301]],m=[[60101,60102,60103,60104,60105,60106,60107,60108],[60201,60202,60203,60204,60205,60206,60207,60208],[60301,60302,60303,60304,60305,60306,60307,60308],[60401,60402,60403,60404,60405,60406,60407,60408],[60501,60502,60503,60504,60505,60506,60507,60508],[60601,60602,60603,60604,60605,60606,60609]],g=[[71101,71102,72101,72102,73101,73102,75101,75102,74101,74102],[71201,71202,72201,72202,73201,73202,73203,75201,75202,74201,74202],[71301,71302,71303,73301,73302,73303,73304,75301,74301]],y=cc._decorator,v=y.ccclass,_=y.property,b=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.qimenItmePrefab=null,e.iconSf=[],e.iconBgSf=[],e}return o(e,t),e.prototype.init=function(){this.box1Node=this.node.getChildByName("box1"),this.box2Node=this.node.getChildByName("box2"),this.resultNode=cc.instantiate(this.qimenItmePrefab),this.resultNode.parent=this.box2Node,this.resultNode.scaleX=0,this.leftNode=this.box1Node.getChildByName("left"),this.box2TextNode=this.box2Node.getChildByName("text"),this.iconSp=this.box2Node.getChildByName("icon").getComponent(cc.Sprite),this.iconBgSp=this.box2Node.getChildByName("iconBg").getComponent(cc.Sprite),this.videoBtn=this.box1Node.getChildByName("video").getComponent(cc.Button),this.openBtn=this.box1Node.getChildByName("open").getComponent(cc.Button),this.allBtn=this.box2Node.getChildByName("all"),this.closeBtn=this.box2Node.getChildByName("close"),this.eightNode=this.box1Node.getChildByName("eight"),this.eightMidNode=this.box1Node.getChildByName("mid"),this.eightCenterNode=this.box1Node.getChildByName("center"),this.anim=this.eightNode.getComponent(cc.Animation),this.cardAttrs=[],this.resultAttrs=[],this.itemScripts=[];for(var t=0;t<3;t++){this.cardAttrs.push(this.box2Node.getChildByName(""+t));var e=cc.instantiate(this.qimenItmePrefab);e.parent=this.box2Node,e.scaleX=0,e.position=this.cardAttrs[t].position,this.resultAttrs.push(e),this.itemScripts.push(e.getComponent(l.default)),this.itemScripts[t].init()}},e.prototype.onLoad=function(){this.node.active=!1,this.messageCom=cc.director.getScene().getComponentInChildren(h.default),this.init(),this.open()},e.prototype.open=function(){var t=this;this.node.active=!0,this.box1Node.active=!0,cc.tween(this.eightNode).stop(),cc.tween(this.eightMidNode).stop(),cc.tween(this.eightCenterNode).stop(),this.eightNode.opacity=255,this.eightMidNode.opacity=255,this.eightCenterNode.opacity=255,p.default.instance.playAudio("CEUp"),this.leftNode.opacity=0,cc.tween(this.leftNode).stop(),cc.tween(this.leftNode).to(.3,{opacity:255}).start(),cc.tween(this.eightNode).by(.5,{angle:-30}).start(),this.openBtn.interactable=!0,this.videoBtn.interactable=!0,this.openBtn.node.active=!1,this.videoBtn.node.active=!1,this.scheduleOnce(function(){t.openBtn.node.active=!0,t.videoBtn.node.active=!0},1),this.box2Node.active=!1},e.prototype.onBtnAll=function(){var t=this;p.default.instance.playAudio("BtnClick"),d.shareAd(function(){t.getAll()})},e.prototype.getAll=function(){for(var t=0;t<3;t++)this.showCard(t)},e.prototype.getEightJson=function(){var t=Math.random(),e=0;return t<=.25||(e=t>.25&&t<=.4?1:t>.4&&t<=.5?2:t>.5&&t<=.6?3:t>.6&&t<=.8?4:5),this.iconBgSp.spriteFrame=this.iconBgSf[e],this.iconSp.spriteFrame=this.iconSf[e],s.Eight[e]},e.prototype.getAttrs=function(t){for(var e=[],i=0;i<u.AtkAttrs.length;i++)if(t[u.AtkAttrs[i]])for(var n=t[u.AtkAttrs[i]],o=0;o<n.length;o++){var a=t.factor[o]*r.default.instance.Level,s=Math.floor(n[o]+a);switch(i){case 3:s>f.length&&(s=f.length),s=f[s-1][Math.floor(Math.random()*f[s-1].length)];break;case 4:s>m.length&&(s=m.length),s=m[s-1][Math.floor(Math.random()*m[s-1].length)];break;case 5:s>g.length&&(s=g.length),s=g[s-1][Math.floor(Math.random()*g[s-1].length)]}e.push({index:i,id:s})}for(var c=0;c<e.length;c++){var l=Math.floor(Math.random()*e.length),p=e[l];e[l]=e[c],e[c]=p}this.dataAttrs=e;for(var h=0;h<e.length;h++){var d=e[h].index,y=e[h].id,v=this.getImgByJson(d,y),_=this.getNameByJson(d,y),b=this.getAttInData(d,y);this.itemScripts[h].setItem(d,v,_,u.DesAttrs[e[h].index],b)}},e.prototype.unlockReward=function(t){if(t){var e=parseInt(t.id);switch(t.index){case 0:cc.director.emit("daily_reward",u.DailyAward.jade,e);break;case 1:cc.director.emit("daily_reward",u.DailyAward.coin,e);break;case 2:cc.director.emit("daily_reward",u.DailyAward.life,e);break;case 3:r.default.instance.pushEquipmentData(1e4*e);break;case 4:r.default.instance.pushEquipmentData(e);break;case 5:r.default.instance.pushEquipmentData(e),r.default.instance.HeroDataAttr[r.default.instance.MainHeroIndex].updateAttribute()}}},e.prototype.getNameByJson=function(t,e){switch(t){case 0:return"\u5b9d\u77f3";case 1:return"\u91d1\u5e01";case 2:return"\u519b\u7cae";case 3:return s.getDataById(e).name;case 4:return s.getDataById(e).name+"\xb7\u6b66\u9b42";case 5:return s.getDataById(e).name}return t+""+e},e.prototype.getImgByJson=function(t,e){switch(t){case 0:case 1:case 2:return c.default.instance.rewardSfInGame[t];case 3:return c.default.instance.getEquipmentIconById(e);case 4:return c.default.instance.getSoulIconById(e);case 5:return c.default.instance.rewardSfInGame[3]}},e.prototype.getAttInData=function(t,e){switch(t){case 0:return"\u5b9d\u77f3 x "+e;case 1:return"\u91d1\u5e01 x "+e;case 2:return"\u519b\u7cae x "+e;case 3:var i=s.getDataById(e);return this.getDetailByJson(i);case 4:var n=s.getDataById(e);return this.getDetailByJson(n);case 5:var o=s.getDataById(e);return this.getDetailByJson(o)}return t+""+e},e.prototype.getDetailByJson=function(t){for(var e=0,i="",n=0;n<u.BaseAttrs.length;n++){var o=u.BaseAttrs[n];t[o]&&(i+=u.textAttrs[n]+"+"+t[o],i+=++e%2==0?"\n":"  ")}return i},e.prototype.onBtnClose=function(){p.default.instance.playAudio("BtnClick"),this.close()},e.prototype.close=function(){this.node.active=!1},e.prototype.onBtnOpen=function(){var t=this;p.default.instance.playAudio("BtnClick"),d.shareAd(function(){t.onOpen()})},e.prototype.onBtnOpenByJada=function(){p.default.instance.playAudio("BtnClick"),r.default.instance.Jade>=40?(r.default.instance.Jade-=40,cc.director.emit("daily_reward",u.DailyAward.Total,1),r.default.instance.saveHeroGlobal(),this.onOpen()):this.messageCom.showLack("jade")},e.prototype.onOpen=function(){p.default.instance.playAudio("Eight"),this.scheduleOnce(function(){p.default.instance.playAudio("CEUp")},4.8),cc.tween(this.leftNode).stop(),cc.tween(this.leftNode).to(.3,{opacity:0}).start(),this.openBtn.interactable=!1,this.videoBtn.interactable=!1,this.anim.stop(),this.anim.play(),cc.tween(this.eightMidNode).delay(.5).by(3.5,{angle:-1080}).start(),cc.tween(this.eightCenterNode).delay(.1).by(3,{angle:-4096}).start(),this.anim.on(cc.Animation.EventType.FINISHED,this.showBox2,this),this.getAttrs(this.getEightJson())},e.prototype.showBox2=function(){var t=this;cc.tween(this.eightNode).to(.9,{opacity:0}).start(),cc.tween(this.eightMidNode).to(.9,{opacity:0}).start(),cc.tween(this.eightCenterNode).to(.9,{opacity:0}).start(),this.scheduleOnce(function(){t.box1Node.active=!1,t.initCards(),t.chanceCount=1,t.box2Node.active=!0,t.iconSp.node.opacity=0,t.iconBgSp.node.opacity=0,cc.tween(t.iconSp.node).to(.3,{opacity:255}).start(),cc.tween(t.iconBgSp.node).to(.3,{opacity:255}).start(),t.allBtn.active=!1,t.closeBtn.active=!1},1)},e.prototype.initCards=function(){for(var t=this,e=0;e<this.cardAttrs.length;e++)this.cardAttrs[e].scaleX=1,this.cardAttrs[e].stopAllActions(),this.cardAttrs[e].opacity=0,cc.tween(this.cardAttrs[e]).delay(.45*(e+1)).to(.3,{opacity:255}).start(),this.resultAttrs[e].scaleX=0;this.box2TextNode.active=!1,this.scheduleOnce(function(){t.box2TextNode.active=!0},1.65)},e.prototype.onBtnCard=function(t){var e=parseInt(t.target.name);this.chanceCount<1||(p.default.instance.playAudio("BtnClick"),this.chanceCount--,this.showCard(e))},e.prototype.showCard=function(t){var e=this,i=this.cardAttrs[t];1==i.scaleX&&(p.default.instance.playAudio("CEUp"),cc.tween(i).stop(),cc.tween(i).to(.5,{scaleX:0}).call(function(){cc.tween(e.resultAttrs[t]).to(.12,{scale:.85}).start(),e.unlockReward(e.dataAttrs[t]),e.allBtn.active||(e.allBtn.active=!0,e.scheduleOnce(function(){e.closeBtn.active=!0},0))}).start())},a([_(cc.Prefab)],e.prototype,"qimenItmePrefab",void 0),a([_([cc.SpriteFrame])],e.prototype,"iconSf",void 0),a([_([cc.SpriteFrame])],e.prototype,"iconBgSf",void 0),a([v],e)}(cc.Component);i.default=b,cc._RF.pop()},{"../../Audio":"Audio","../../GameSDKManger":"GameSDKManger","../../GameUtils":"GameUtils","../../Hall/Message":"Message","../../Hero/HeroGlobal":"HeroGlobal","../../TextureMgr":"TextureMgr","../../nativets/Config":"Config","./QimenItem":"QimenItem"}],RaceComponent:[function(t,e,i){"use strict";cc._RF.push(e,"2faba44MT9KIostHGAL99xz","RaceComponent");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),a=this&&this.__decorate||function(t,e,i,n){var o,a=arguments.length,s=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var r=t.length-1;r>=0;r--)(o=t[r])&&(s=(a<3?o(s):a>3?o(e,i,s):o(e,i))||s);return a>3&&s&&Object.defineProperty(e,i,s),s};Object.defineProperty(i,"__esModule",{value:!0}),i.RaceComponent=void 0;var s=t("./ActionComponent"),r=cc._decorator,c=r.ccclass,l=r.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.target=null,e.speed=0,e.actionsArray=[],e.maxTime=1/0,e.maxTimeIndex=0,e}return o(e,t),e.prototype.onLoad=function(){var t=this;this.actionsArray.forEach(function(e,i){e&&t.maxTime>e.getTime()&&(t.maxTimeIndex=i)})},e.prototype.getTime=function(){var t=this;return 0==this.maxTime&&this.actionsArray.forEach(function(e){e&&t.maxTime>e.getTime()&&(t.maxTime=e.getTime())}),this.maxTime},e.prototype.getTween=function(){return null},e.prototype.startParam=function(t){this.actionsArray[this.maxTimeIndex].startParam(t)},e.prototype.startAction=function(){this.actionsArray.forEach(function(t){t.startAction()})},e.prototype.endAction=function(){this.actionsArray.forEach(function(t){t.endAction()})},e.prototype.resetAction=function(){},a([l({type:cc.Node,override:!0,visible:!1})],e.prototype,"target",void 0),a([l({displayName:"\u52a8\u4f5c\u65f6\u95f4",override:!0,visible:!1})],e.prototype,"speed",void 0),a([l(s.ActionComponent)],e.prototype,"actionsArray",void 0),a([c],e)}(s.ActionComponent);i.RaceComponent=p,cc._RF.pop()},{"./ActionComponent":"ActionComponent"}],RandMoveBothPoint:[function(t,e,i){"use strict";cc._RF.push(e,"f7f098iBPlFzIIttPCqTf7z","RandMoveBothPoint");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),a=this&&this.__decorate||function(t,e,i,n){var o,a=arguments.length,s=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var r=t.length-1;r>=0;r--)(o=t[r])&&(s=(a<3?o(s):a>3?o(e,i,s):o(e,i))||s);return a>3&&s&&Object.defineProperty(e,i,s),s};Object.defineProperty(i,"__esModule",{value:!0});var s=t("./BezierMove"),r=cc._decorator,c=r.ccclass,l=r.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.des="\u9ed8\u8ba4\u6c34\u5e73\u79fb\u52a8\uff0c\u5934\u671d\u53f3",e.pos1=cc.Vec3.ZERO,e.pos2=cc.Vec3.ZERO,e.bezierMove=null,e}return o(e,t),e.prototype.onLoad=function(){var t=this;this.bezierMove=this.node.getComponent(s.default),this.bezierMove.onMoveComplete(function(){t.moveAction()},this.node)},e.prototype.start=function(){this.moveAction()},e.prototype.moveAction=function(){var t=400*Math.random()-200,e=400*Math.random()-200,i=Math.random()<=.5?1:2,n=1===i?this.pos1:this.pos2;n.y=t;var o=1===i?this.pos2:this.pos1;o.y=e,this.node.position=n,this.node.scale=1===i?1:-1,this.bezierMove.easing=Math.floor(20*Math.random()),this.bezierMove.moveTo(o)},a([l({readonly:!0})],e.prototype,"des",void 0),a([l(cc.Vec3)],e.prototype,"pos1",void 0),a([l(cc.Vec3)],e.prototype,"pos2",void 0),a([c],e)}(cc.Component);i.default=p,cc._RF.pop()},{"./BezierMove":"BezierMove"}],RankWX:[function(t,e,i){"use strict";cc._RF.push(e,"7c0ecs29iVCD6ROcETGsHY6","RankWX");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),a=this&&this.__decorate||function(t,e,i,n){var o,a=arguments.length,s=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var r=t.length-1;r>=0;r--)(o=t[r])&&(s=(a<3?o(s):a>3?o(e,i,s):o(e,i))||s);return a>3&&s&&Object.defineProperty(e,i,s),s};Object.defineProperty(i,"__esModule",{value:!0});var s=t("../../Audio"),r="reachlevel",c="levelScore",l="KillRank",p="StarRank",u="FetchFriendLevel",h="KillRank",d="StarRank",f=cc._decorator,m=f.ccclass,g=f.property,y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.rankRender=null,e.rankListNode=null,e.enableScroll=!0,e._timeCounter=0,e.rendInterval=.5,e.rankTexture=null,e.rankSpriteFrame=null,e.closeBackRank=0,e.id=0,e}var i;return o(e,t),i=e,e.prototype.onLoad=function(){i.instance=this,this.rankTexture=new cc.Texture2D,this.rankSpriteFrame=new cc.SpriteFrame,this.resizeSharedCanvas(this.rankRender.node.width,this.rankRender.node.height)},e.prototype.onBtnRankSelect=function(t){var e=t.target.parent;e.getChildByName("0").getComponent(cc.Button).interactable=!e.getChildByName("0").getComponent(cc.Button).interactable,e.getChildByName("1").getComponent(cc.Button).interactable=!e.getChildByName("1").getComponent(cc.Button).interactable,this.id=0==this.id?1:0,this.showRank(this.id)},e.prototype.refreshRank=function(){},e.prototype.update=function(){this.updateRankList()},e.prototype.resizeSharedCanvas=function(t,e){if(window.wx){var i=window.wx.getOpenDataContext().canvas;i.width=t,i.height=e,console.log(i)}},e.prototype.changeRender=function(t){this.rankRender.node.width=t.width,this.rankRender.node.height=t.height,this.rankRender.node.position=t.position,this.resizeSharedCanvas(t.width,t.height)},e.prototype.updateRankList=function(){if(window.wx&&this.rankTexture){var t=window.wx.getOpenDataContext().canvas;this.rankTexture.initWithElement(t),this.rankTexture.handleLoadedTexture(),this.rankSpriteFrame||(this.rankSpriteFrame=new cc.SpriteFrame),this.rankSpriteFrame.setTexture(this.rankTexture),this.rankRender.spriteFrame=this.rankSpriteFrame}},e.prototype.onEnable=function(){this.rankRender.spriteFrame=null,this.changeRender(this.rankListNode),this.enableScroll&&this.rankRender.node.on(cc.Node.EventType.TOUCH_MOVE,this.onTouchMove,this),this.showRank(this.id)},e.prototype.onDisable=function(){this.enableScroll&&this.rankRender.node.off(cc.Node.EventType.TOUCH_MOVE),this.rankRender.spriteFrame=null},e.prototype.onPageUp=function(){this.postMessage("Paging",-1)},e.prototype.onPageDown=function(){this.postMessage("Paging",1)},e.prototype.onTouchMove=function(t){var e=t.getDeltaY();this.postMessage("Scrolling",e)},e.prototype.onBtnClose=function(){s.default.instance.playAudio("BtnClick");var t=this.node,e=cc.sequence(cc.scaleTo(.12,1.1),cc.scaleTo(.1,.5),cc.callFunc(function(){t.active=!1,t.scaleX=1,t.scaleY=1}));t.runAction(e)},e.prototype.loadLevelOpenRank=function(){this.node.active=!0,this.onEnable(),this.changeRender(this.rankListNode),this.postMessage(u)},e.prototype.showRank=function(t){0==t?this.postMessage(h):this.postMessage(d)},e.prototype.postMessage=function(t,e,i){void 0===e&&(e=null),void 0===i&&(i=null),window.wx&&window.wx.getOpenDataContext().postMessage({action:t,data:e,dataEx:i})},e.prototype.uploadScore=function(t,e){window.wx&&(e=e.toString(),window.wx.setUserCloudStorage({KVDataList:[{key:c+t,value:e}],success:function(t){console.log("uploadScore success:res=>",t)},fail:function(t){console.log("uploadScore fail:res=>",t)}}))},e.prototype.uploadLevelOpen=function(t){window.window.wx&&(t=t.toString(),window.wx.setUserCloudStorage({KVDataList:[{key:r,value:t}],success:function(t){console.log("uploadScore success:res=>",t)},fail:function(t){console.log("uploadScore fail:res=>",t)}}))},e.uploadWXKill=function(t){if(window.window.wx){var e=t+"";window.wx.setUserCloudStorage({KVDataList:[{key:l,value:e}],success:function(t){console.log("uploadScore Kill success:res=>",t)},fail:function(t){console.log("uploadScore Kill fail:res=>",t)}})}},e.prototype.uploadWXStar=function(t){if(window.window.wx){var e=t+"";window.wx.setUserCloudStorage({KVDataList:[{key:p,value:e}],success:function(t){console.log("uploadScore Star success:res=>",t)},fail:function(t){console.log("uploadScore Star fail:res=>",t)}})}},e.prototype.removeUserKey=function(t){window.window.wx&&("string"==typeof t&&(t=[t]),window.wx.removeUserCloudStorage({keyList:t,success:function(t){console.log("uploadScore success:res=>",t)},fail:function(t){console.log("uploadScore fail:res=>",t)}}))},e.instance=null,a([g(cc.Sprite)],e.prototype,"rankRender",void 0),a([g(cc.Node)],e.prototype,"rankListNode",void 0),i=a([m],e)}(cc.Component);i.default=y,cc._RF.pop()},{"../../Audio":"Audio"}],Rank:[function(t,e,i){"use strict";cc._RF.push(e,"67f59Mk2rJDJphQOmeJBF5y","Rank");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),a=this&&this.__decorate||function(t,e,i,n){var o,a=arguments.length,s=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var r=t.length-1;r>=0;r--)(o=t[r])&&(s=(a<3?o(s):a>3?o(e,i,s):o(e,i))||s);return a>3&&s&&Object.defineProperty(e,i,s),s};Object.defineProperty(i,"__esModule",{value:!0});var s=t("../../Tool/Statistics"),r=t("../../Hero/HeroGlobal"),c=t("../../nativets/Global"),l=cc._decorator,p=l.ccclass,u=l.property,h=["\u5168\u533a\u6218\u529b\u699c","\u5168\u533a\u6210\u5c31\u699c","\u5168\u533a\u6740\u622e\u699c"],d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.myItem=null,e.layoutNode=null,e.itemPrefab=null,e.id=2,e}var i;return o(e,t),i=e,e.prototype.init=function(){this.layoutNode=this.node.getChildByName("ScrollView").getChildByName("view").getChildByName("content"),this.selectNode=this.node.getChildByName("select"),this.titleLabel=this.node.getChildByName("Title").getComponent(cc.Label),this.selectArrs=[],this.selectTexts=[];for(var t=0;t<3;t++)this.selectArrs.push(this.selectNode.getChildByName(""+t)),this.selectTexts.push(this.selectNode.getChildByName("t"+t));this.createMyItem()},e.prototype.onLoad=function(){i.instance=this,this.init()},e.prototype.start=function(){},e.prototype.createMyItem=function(){var t=cc.instantiate(this.itemPrefab);t.parent=this.node,t.position=cc.v3(0,-244),this.myItem=t,t.active=!1},e.prototype.onBtnRankSelect=function(t){this.id!=parseInt(t.target.name)&&(this.id=parseInt(t.target.name),this.refreshRank(this.id))},e.prototype.refreshState=function(t){this.titleLabel.string=h[t];for(var e=0;e<3;e++)this.selectArrs[e].active=t==e,this.selectTexts[e].color=t==e?cc.Color.WHITE:cc.color(108,109,117)},e.prototype.refreshRank=function(t){var e=this;this.refreshState(t),this.layoutNode.removeAllChildren();var i=!0;switch(t){case 0:i=r.default.instance.HighestCE<90231;break;case 1:i=r.default.instance.StarCount<124;break;case 2:i=r.default.instance.MonsterKillCount<1053}this.isNewbie=i,s.default.getInstance().getRank(t+1,function(t){if(1==t.code){for(var i=0;i<t.data.length;i++){var n=cc.instantiate(e.itemPrefab);e.initItem(n,i+1,t.data[i].name,t.data[i].score,t.data[i].headpic),n.parent=e.layoutNode}0!=t.mypos?(0==r.default.instance.AchieveCountData[4]?r.default.instance.AchieveCountData[4]=t.mypos:t.mypos<r.default.instance.AchieveCountData[4]&&(r.default.instance.AchieveCountData[4]=t.mypos),e.initItem(e.myItem,t.mypos,t.myname,t.myscore,t.myheadpic),e.myItem.active=!0):e.myItem.active=!1}else e.myItem.active=!1},i)},e.prototype.initItem=function(t,e,i,n,o){console.log("HEAD",o);for(var a=1;a<=3;a++)t.getChildByName(""+a).active=!1,t.getChildByName("rank").getComponent(cc.Label).string="";if(1==e||2==e||3==e)t.getChildByName(""+e).active=!0;else{var s=""+e;e>50&&(s="100+"),t.getChildByName("rank").getComponent(cc.Label).string=s}i||(i=""),t.getChildByName("iconbg1").active=1==e,t.getChildByName("bg1").active=1==e,t.getChildByName("name").getComponent(cc.Label).string=i,t.getChildByName("text").getComponent(cc.Label).string=["\u6218\u529b ","\u661f\u6570 ","\u6740\u654c "][this.id]+n+"",t.getChildByName("good").getComponent(cc.Label).string=Math.floor(18*Math.random())+""},e.prototype.sortRank=function(t,e){return parseInt(e.score)-parseInt(t.score)},e.prototype.showNewbie=function(t,e){var i=!0,n=101,o=0;switch(t){case 1:i=r.default.instance.HighestCE>0,o=r.default.instance.HighestCE;break;case 2:i=r.default.instance.StarCount>0,o=r.default.instance.StarCount;break;case 3:i=r.default.instance.MonsterKillCount>0,o=r.default.instance.MonsterKillCount}if(i){var a={name:c.default.getInstance().registerName,headpic:c.default.getInstance().registerHead,score:o};e.push(a),e.sort(this.sortRank),n=e.indexOf(a)+1}for(var s=0;s<50;s++){var l=cc.instantiate(this.itemPrefab);this.initItem(l,s+1,e[s].name,e[s].score,e[s].headpic),l.parent=this.layoutNode}0!=n?(0==r.default.instance.AchieveCountData[4]?r.default.instance.AchieveCountData[4]=n:n<r.default.instance.AchieveCountData[4]&&(r.default.instance.AchieveCountData[4]=n),this.initItem(this.myItem,n,c.default.getInstance().registerName,o,c.default.getInstance().registerHead),this.myItem.active=!0):this.myItem.active=!1},e.prototype.onEnable=function(){this.refreshRank(this.id)},e.instance=null,a([u(cc.Prefab)],e.prototype,"itemPrefab",void 0),i=a([p],e)}(cc.Component);i.default=d,cc._RF.pop()},{"../../Hero/HeroGlobal":"HeroGlobal","../../Tool/Statistics":"Statistics","../../nativets/Global":"Global"}],ReleaseMgr:[function(t,e,i){"use strict";cc._RF.push(e,"bc7b0TBEp1Mga9dd7emcFJV","ReleaseMgr"),Object.defineProperty(i,"__esModule",{value:!0});var n=["12/1234","18/188b4","43/43e41f41"];i.default=function(t){if(t)for(var e=0;e<n.length;e++)if(-1!=t.indexOf(n[e]))return},cc._RF.pop()},{}],ReuseScroll:[function(t,e,i){"use strict";cc._RF.push(e,"eab5aeDlwdFCIdjEVRSv2kg","ReuseScroll");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),a=this&&this.__decorate||function(t,e,i,n){var o,a=arguments.length,s=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var r=t.length-1;r>=0;r--)(o=t[r])&&(s=(a<3?o(s):a>3?o(e,i,s):o(e,i))||s);return a>3&&s&&Object.defineProperty(e,i,s),s};Object.defineProperty(i,"__esModule",{value:!0}),i.ReuseScroll=i.ScrollDir=i.threshold=void 0;var s,r=t("./PageComponent"),c=t("./ScrollDot"),l=cc._decorator,p=l.ccclass,u=l.property;i.threshold=0,function(t){t[t.left=0]="left",t[t.right=1]="right"}(s=i.ScrollDir||(i.ScrollDir={}));var h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.contentNode=null,e.itemCount=6,e.itemPrefab=null,e.widthGap=100,e.moveTime=.2,e.isBounce=!0,e.scrollDot=null,e.changePageNum=10,e.canLoop=!0,e.scrollMove=!1,e.startPos=new cc.Vec2,e.curPosX=0,e.curIndex=0,e.maxIndex=1,e.maxPosX=0,e.pageArray=[],e.levelData=[],e}return o(e,t),Object.defineProperty(e.prototype,"singlePageWidth",{get:function(){return this.node.width},set:function(){},enumerable:!1,configurable:!0}),e.prototype.onLoad=function(){this.node.on(cc.Node.EventType.TOUCH_START,this.onTouchStart,this,!0),this.node.on(cc.Node.EventType.TOUCH_MOVE,this.onTouchMove,this,!0),this.node.on(cc.Node.EventType.TOUCH_END,this.onTouchEnd,this,!0),this.node.on(cc.Node.EventType.TOUCH_CANCEL,this.onTouchEnd,this,!0),this.pageArray=this.getComponentsInChildren(r.PageComponent),this.contentNode.anchorX=0,this.contentNode.x=-this.singlePageWidth},e.prototype.init=function(t){var e=this;this.levelData=t,this.setMaxIndex(Math.ceil(t.length/this.itemCount)),this.scrollDot&&this.scrollDot.setPageView(this),this.maxPosX=(this.maxIndex-1)*this.singlePageWidth,this.curPosX=this.contentNode.x,this.canLoop&&this.changePage(s.right),this.pageArray.forEach(function(t,i){t.setScroll(e),t.changeData(e.getDataByIndex(i-1))})},e.prototype.setMaxIndex=function(t){this.maxIndex=t},e.prototype.getMaxIndex=function(){return this.maxIndex},e.prototype.onTouchStart=function(t){this.scrollMove||(this.startPos=t.getLocation(),this._stopPropagationIfTargetIsMe(t))},e.prototype.onTouchMove=function(t){if(!this.scrollMove){var e=t.getDelta();if(this.isBounce)this.contentNode.setPosition(this.contentNode.position.x+e.x,this.contentNode.position.y);else{var i=this.contentNode.position.x+e.x;i<0?i=0:i>this.maxPosX&&(i=this.maxPosX),this.contentNode.setPosition(i,this.contentNode.position.y)}this._stopPropagationIfTargetIsMe(t)}},e.prototype.changePage=function(t){if(t==s.left){var e=this.contentNode.children[0],i=this.contentNode.children[2];e.setPosition(i.position.x+this.singlePageWidth,e.position.y),e.setSiblingIndex(2),(n=e.getComponent(r.PageComponent))&&n.changeData(this.getDataByIndex(this.curIndex+1))}else{var n;e=this.contentNode.children[2],i=this.contentNode.children[0],e.setPosition(i.position.x-this.singlePageWidth,e.position.y),e.setSiblingIndex(0),(n=e.getComponent(r.PageComponent))&&n.changeData(this.getDataByIndex(this.curIndex-1))}this.scrollDot&&this.scrollDot.changedState()},e.prototype.onTouchEnd=function(t){if(!this.scrollMove){var e=t.getLocation().x-this.startPos.x;e>this.changePageNum?this.jumpPrePage():e<-this.changePageNum?this.jumpNextPage():this.scrollAction(this.curPosX),this._stopPropagationIfTargetIsMe(t)}},e.prototype.jumpNextPage=function(){this.scrollMove||(this.curIndex>=this.maxIndex-1?this.canLoop?(this.curIndex=0,this.curPosX-=this.singlePageWidth,this.scrollAction(this.curPosX,s.left)):this.scrollAction(this.curPosX):(this.curIndex=this.curIndex+1,this.curPosX-=this.singlePageWidth,this.scrollAction(this.curPosX,s.left)))},e.prototype.jumpPrePage=function(){this.scrollMove||(this.curIndex<=0?this.canLoop?(this.curIndex=this.maxIndex-1,this.curPosX+=this.singlePageWidth,this.scrollAction(this.curPosX,s.right)):this.scrollAction(this.curPosX):(this.curIndex=this.curIndex-1,this.curPosX+=this.singlePageWidth,this.scrollAction(this.curPosX,s.right)))},e.prototype.jumpById=function(t){var e=Math.floor(t/this.itemCount);this.jumpByPage(e)},e.prototype.jumpByPage=function(t){var e=this;t>=0&&t<this.maxIndex&&(this.curIndex=t,this.contentNode.children.forEach(function(t,i){t.getComponent(r.PageComponent).changeData(e.getDataByIndex(e.curIndex+i-1))}),this.scrollDot&&this.scrollDot.changedState())},e.prototype.gotoFirst=function(){this.jumpByPage(0)},e.prototype.gotoEnd=function(){this.jumpByPage(this.maxIndex-1)},e.prototype.scrollAction=function(t,e){var i=this;void 0===e&&(e=void 0),this.scrollMove=!0,cc.tween(this.contentNode).to(this.moveTime,{position:cc.v3(t,this.contentNode.position.y,this.contentNode.position.z)}).call(function(){i.scrollMove=!1,null!=e&&i.changePage(e)}).start()},e.prototype.onDestroy=function(){this.node.off(cc.Node.EventType.TOUCH_START,this.onTouchStart,this),this.node.off(cc.Node.EventType.TOUCH_MOVE,this.onTouchMove,this),this.node.off(cc.Node.EventType.TOUCH_END,this.onTouchEnd,this),this.node.off(cc.Node.EventType.TOUCH_CANCEL,this.onTouchEnd,this)},e.prototype._stopPropagationIfTargetIsMe=function(){},e.prototype.getDataByIndex=function(t){for(var e=t*this.itemCount,i=[],n=0;n<this.itemCount;n++)this.levelData[e+n]&&i.push(this.levelData[e+n]);return i},e.prototype.refreshPageByData=function(){var t=this;this.pageArray.forEach(function(e,i){e.changeData(t.getDataByIndex(t.curIndex+i-1))})},a([u(cc.Node)],e.prototype,"contentNode",void 0),a([u({displayName:"\u5355\u9875\u5bbd\u5ea6"})],e.prototype,"singlePageWidth",null),a([u({displayName:"\u6bcf\u9875\u591a\u5c11item"})],e.prototype,"itemCount",void 0),a([u(cc.Prefab)],e.prototype,"itemPrefab",void 0),a([u({displayName:"\u5de6\u53f3\u95f4\u9694"})],e.prototype,"widthGap",void 0),a([u({displayName:"\u79fb\u52a8\u65f6\u95f4"})],e.prototype,"moveTime",void 0),a([u({displayName:"\u662f\u5426\u56de\u5f39"})],e.prototype,"isBounce",void 0),a([u({displayName:"\u70b9",type:c.ScrollDot})],e.prototype,"scrollDot",void 0),a([u({displayName:"\u6ed1\u52a8\u7ffb\u9875"})],e.prototype,"changePageNum",void 0),a([u({displayName:"\u662f\u5426\u5faa\u73af"})],e.prototype,"canLoop",void 0),a([p],e)}(cc.Component);i.ReuseScroll=h,cc._RF.pop()},{"./PageComponent":"PageComponent","./ScrollDot":"ScrollDot"}],RewardAuto:[function(t,e,i){"use strict";cc._RF.push(e,"d643clFJZBOJJWCedVNUQcR","RewardAuto");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),a=this&&this.__decorate||function(t,e,i,n){var o,a=arguments.length,s=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var r=t.length-1;r>=0;r--)(o=t[r])&&(s=(a<3?o(s):a>3?o(e,i,s):o(e,i))||s);return a>3&&s&&Object.defineProperty(e,i,s),s};Object.defineProperty(i,"__esModule",{value:!0});var s=t("../Audio"),r=t("./RewardItem"),c=t("../Hero/HeroGlobal"),l=t("../nativets/Config"),p=cc._decorator,u=p.ccclass,h=(p.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}var i;return o(e,t),i=e,e.prototype.init=function(){this.rewardScript=this.node.getChildByName("rewardItem").getComponent(r.default),this.textLabel=this.node.getChildByName("text").getComponent(cc.Label)},e.prototype.onLoad=function(){i.instance=this,this.init(),this.node.active=!1},e.prototype.open=function(t){var e=this;if(this.id=t,0==l.getWhoId(t)||l.getWhoId(t)==c.default.instance.MainHeroIndex+1){var i=Math.floor(this.id/1e4);t%1e3<=Math.floor(c.default.instance.getMainHeroData().getDataByType(i)/1e4)%1e3||(this.rewardScript.setByIdLayout(t),this.node.active=!0,this.time=6,this.textLabel.string="\u81ea\u52a8\u88c5\u59075",this.schedule(function(){e.time--,e.textLabel.string="\u81ea\u52a8\u88c5\u5907"+e.time,e.time<=0&&e.autoSetEquipment()},1,5))}},e.prototype.onBtnAuto=function(){s.default.instance.playAudio("BtnClick"),this.autoSetEquipment()},e.prototype.autoSetEquipment=function(){c.default.instance.getMainHeroData().setEquip(Math.floor(this.id/1e4),1e4*this.id),this.onClose()},e.prototype.onClose=function(){this.unscheduleAllCallbacks(),this.node.active=!1},e.instance=null,i=a([u],e)}(cc.Component));i.default=h,cc._RF.pop()},{"../Audio":"Audio","../Hero/HeroGlobal":"HeroGlobal","../nativets/Config":"Config","./RewardItem":"RewardItem"}],RewardItem:[function(t,e,i){"use strict";cc._RF.push(e,"e6916SP6KtGlIrBLSfadABA","RewardItem");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),a=this&&this.__decorate||function(t,e,i,n){var o,a=arguments.length,s=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var r=t.length-1;r>=0;r--)(o=t[r])&&(s=(a<3?o(s):a>3?o(e,i,s):o(e,i))||s);return a>3&&s&&Object.defineProperty(e,i,s),s};Object.defineProperty(i,"__esModule",{value:!0});var s=t("./RewardMgr"),r=t("../Hero/HeroPet"),c=t("../nativets/Config"),l=t("../TextureMgr"),p=cc._decorator,u=p.ccclass,h=(p.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.init=function(){this.bgSprite=this.node.getChildByName("bg").getComponent(cc.Sprite),this.lightSprite=this.node.getChildByName("light").getComponent(cc.Sprite),this.itemSprite=this.node.getChildByName("item").getComponent(cc.Sprite),this.nameLabel=this.node.getChildByName("name").getComponent(cc.Label),cc.director.on("PetMove",this.onPetMove,this)},e.prototype.onLoad=function(){this.init()},e.prototype.setById=function(t){var e=c.getTypeId(t);this.nameLabel.string="",9==e?(this.bgSprite.spriteFrame=null,this.lightSprite.node.active=!1,this.itemSprite.spriteFrame=l.default.instance.rewardSfInGame[1],this.itemSprite.node.scale=.8):6==e?(this.bgSprite.spriteFrame=null,this.itemSprite.spriteFrame=l.default.instance.getSoulRankIconById(t)):(this.lightSprite.node.active=!0,this.itemSprite.spriteFrame=l.default.instance.getEquipmentIconById(t),this.itemSprite.node.scale=1)},e.prototype.setByIdLayout=function(t){this.lightSprite||this.init();var e=c.getTypeId(t);this.lightSprite.node.active=!1,this.bgSprite.node.active=!0,6==e?(this.bgSprite.spriteFrame=null,this.itemSprite.spriteFrame=l.default.instance.getSoulIconById(t)):(this.bgSprite.spriteFrame=l.default.instance.getLvIconById(t),this.itemSprite.spriteFrame=l.default.instance.getEquipmentIconById(t)),this.nameLabel.string=c.getDataById(t).name},e.prototype.onPetMove=function(t){900!=this.node.y&&Math.abs(t-this.node.x)<80&&s.default.instance.rewardPool&&(r.default.instance.pickup(),s.default.instance.recycle(this.node))},a([u],e)}(cc.Component));i.default=h,cc._RF.pop()},{"../Hero/HeroPet":"HeroPet","../TextureMgr":"TextureMgr","../nativets/Config":"Config","./RewardMgr":"RewardMgr"}],RewardMapMgr:[function(t,e,i){"use strict";cc._RF.push(e,"52340tLPMVOuIy5q+LIdeZD","RewardMapMgr");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),a=this&&this.__decorate||function(t,e,i,n){var o,a=arguments.length,s=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var r=t.length-1;r>=0;r--)(o=t[r])&&(s=(a<3?o(s):a>3?o(e,i,s):o(e,i))||s);return a>3&&s&&Object.defineProperty(e,i,s),s};Object.defineProperty(i,"__esModule",{value:!0});var s=t("./RewardItem"),r=t("../Map/MapSelect"),c=cc._decorator,l=c.ccclass,p=c.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.rewardPrefab=null,e}var i;return o(e,t),i=e,e.prototype.onLoad=function(){i.instance=this},e.prototype.createRewardMap=function(t){var e=null;(e=cc.instantiate(this.rewardPrefab)).parent=r.default.instance.rightLayout,e.opacity=255,e.getComponent(s.default).setByIdLayout(t)},e.instance=null,a([p(cc.Prefab)],e.prototype,"rewardPrefab",void 0),i=a([l],e)}(cc.Component);i.default=u,cc._RF.pop()},{"../Map/MapSelect":"MapSelect","./RewardItem":"RewardItem"}],RewardMgr:[function(t,e,i){"use strict";cc._RF.push(e,"ac721obEg5Cz4bsa/PwA/We","RewardMgr");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),a=this&&this.__decorate||function(t,e,i,n){var o,a=arguments.length,s=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var r=t.length-1;r>=0;r--)(o=t[r])&&(s=(a<3?o(s):a>3?o(e,i,s):o(e,i))||s);return a>3&&s&&Object.defineProperty(e,i,s),s};Object.defineProperty(i,"__esModule",{value:!0});var s=t("../nativets/NodePool"),r=t("../Game"),c=t("./RewardItem"),l=t("../Map/MapSelect"),p=cc._decorator,u=p.ccclass,h=p.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.rewardPrefab=null,e}var i;return o(e,t),i=e,e.prototype.init=function(){i.instance=this,this.rewardPool=new s.default;for(var t=0;t<15;t++){var e=cc.instantiate(this.rewardPrefab);e.parent=r.default.instance.rewardEventNode,this.rewardPool.put(e)}this.unColleted=[]},e.prototype.onLoad=function(){this.init()},e.prototype.createCoins=function(t,e){var i=this,n=this.rewardPool.get();n||((n=cc.instantiate(this.rewardPrefab)).parent=r.default.instance.rewardEventNode,this.rewardPool.put(n)),n.stopAllActions(),n.position=e,n.y+=80,n.opacity=255;var o=Math.random()<.5?1:-1;cc.tween(n).bezierBy(.3,cc.v2(0,0),cc.v2(o*(40+20*Math.random()),40+20*Math.random()),cc.v2(o*(100+20*Math.random()),-80)).call(function(){i.pushInUncollected(n)}).start(),n.getComponent(c.default).setById(t)},e.prototype.createReward=function(t,e){var i=this.rewardPool.get();i||((i=cc.instantiate(this.rewardPrefab)).parent=r.default.instance.rewardEventNode,this.rewardPool.put(i)),i.position=e,i.opacity=255,i.getComponent(c.default).setById(t),this.pushInUncollected(i)},e.prototype.createRewardEnd=function(t){var e=null;(e=cc.instantiate(this.rewardPrefab)).parent=r.default.instance.gameEndLayout,e.opacity=255,e.getComponent(c.default).setByIdLayout(t)},e.prototype.createRewardMap=function(t){var e=null;(e=cc.instantiate(this.rewardPrefab)).parent=l.default.instance.rightLayout,e.opacity=255,e.getComponent(c.default).setByIdLayout(t)},e.prototype.pushInUncollected=function(t){t&&-1==this.unColleted.indexOf(t)&&this.unColleted.push(t)},e.prototype.recycle=function(t){var e=this.unColleted.indexOf(t);-1!=e&&this.unColleted.splice(e,1),this.rewardPool.put(t)},e.prototype.GCAll=function(){for(var t=r.default.instance.rewardEventNode.children,e=t.length-1;e>=0;e--)this.rewardPool.put(t[e]);this.unColleted=[]},e.instance=null,a([h(cc.Prefab)],e.prototype,"rewardPrefab",void 0),i=a([u],e)}(cc.Component);i.default=d,cc._RF.pop()},{"../Game":"Game","../Map/MapSelect":"MapSelect","../nativets/NodePool":"NodePool","./RewardItem":"RewardItem"}],RotateComponent:[function(t,e,i){"use strict";cc._RF.push(e,"457b7LzxFNNr45N9g/De3Ha","RotateComponent");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),a=this&&this.__decorate||function(t,e,i,n){var o,a=arguments.length,s=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var r=t.length-1;r>=0;r--)(o=t[r])&&(s=(a<3?o(s):a>3?o(e,i,s):o(e,i))||s);return a>3&&s&&Object.defineProperty(e,i,s),s};Object.defineProperty(i,"__esModule",{value:!0}),i.RotateComponent=void 0;var s=t("./ActionComponent"),r=cc._decorator,c=r.ccclass,l=r.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._targetNode=null,e.startAngle=0,e.endAngle=0,e.moveType=s.ActionType.\u79fb\u52a8\u5230To,e.moveTween=null,e}return o(e,t),Object.defineProperty(e.prototype,"targetNode",{get:function(){return this._targetNode},set:function(t){this._targetNode=t,this.startAngle=this.targetNode.rotation},enumerable:!1,configurable:!0}),e.prototype.getTween=function(){return this.moveTween||(this.moveType==s.ActionType.\u79fb\u52a8\u5230To?this.moveTween=cc.tween(this.getTarget()).to(this.speed,{angle:this.endAngle}):this.moveTween=cc.tween(this.getTarget()).by(this.speed,{angle:this.endAngle}),this.moveTween.call(this.callFunc)),this.moveTween},e.prototype.startAction=function(){this.getTween().stop(),this.getTarget().rotation=this.startAngle,this.getTween().start()},e.prototype.endAction=function(){this.getTween().stop(),this.moveType==s.ActionType.\u79fb\u52a8\u5230To?this.getTarget().rotation=this.endAngle:this.getTarget().rotation=this.getTarget().rotation+this.endAngle},e.prototype.resetAction=function(){this.getTween().stop(),this.getTarget().rotation=this.startAngle},e.prototype.getTarget=function(){return this.targetNode},a([l({type:cc.Node,visible:!1,formerlySerializedAs:"target"})],e.prototype,"_targetNode",void 0),a([l(cc.Node)],e.prototype,"targetNode",null),a([l({displayName:"\u5f00\u59cb\u89d2\u5ea6"})],e.prototype,"startAngle",void 0),a([l({displayName:"\u7ed3\u675f\u89d2\u5ea6"})],e.prototype,"endAngle",void 0),a([l({displayName:"\u79fb\u52a8\u65b9\u5f0f",type:cc.Enum(s.ActionType)})],e.prototype,"moveType",void 0),a([c],e)}(s.ActionComponent);i.RotateComponent=p,cc._RF.pop()},{"./ActionComponent":"ActionComponent"}],Rotate:[function(t,e,i){"use strict";cc._RF.push(e,"dd2de8NJwpFc49f4TgoklVP","Rotate");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),a=this&&this.__decorate||function(t,e,i,n){var o,a=arguments.length,s=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var r=t.length-1;r>=0;r--)(o=t[r])&&(s=(a<3?o(s):a>3?o(e,i,s):o(e,i))||s);return a>3&&s&&Object.defineProperty(e,i,s),s};Object.defineProperty(i,"__esModule",{value:!0});var s=cc._decorator,r=s.ccclass,c=(s.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}var i;return o(e,t),i=e,e.prototype.onLoad=function(){i.instance=this,this.time=0,this.count=0,this.material=this.node.getComponent(cc.Sprite).getMaterial(0)},e.prototype.updateEffect=function(t){this.time+=t,this.material.effect.setProperty("time",this.time)},e.prototype.start=function(){},e.prototype.update=function(t){this.count<4?this.count++:(this.count=0,this.updateEffect(t))},e.instance=null,i=a([r],e)}(cc.Component));i.default=c,cc._RF.pop()},{}],ScaleComponent:[function(t,e,i){"use strict";cc._RF.push(e,"727e3h8Bn5L7pczFQDe4LQ4","ScaleComponent");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),a=this&&this.__decorate||function(t,e,i,n){var o,a=arguments.length,s=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var r=t.length-1;r>=0;r--)(o=t[r])&&(s=(a<3?o(s):a>3?o(e,i,s):o(e,i))||s);return a>3&&s&&Object.defineProperty(e,i,s),s};Object.defineProperty(i,"__esModule",{value:!0}),i.ScaleComponent=void 0;var s=t("./ActionComponent"),r=cc._decorator,c=r.ccclass,l=r.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._targetNode=null,e.fromScale=0,e.endScale=0,e.moveType=s.ActionType.\u79fb\u52a8\u5230To,e.moveTween=null,e}return o(e,t),Object.defineProperty(e.prototype,"targetNode",{get:function(){return this._targetNode},set:function(t){this._targetNode=t,this.fromScale=this.targetNode.scale},enumerable:!1,configurable:!0}),e.prototype.getTween=function(){return this.moveTween||(this.moveType==s.ActionType.\u79fb\u52a8\u5230To?this.moveTween=cc.tween(this.getTarget()).to(this.speed,{scale:this.endScale}):this.moveTween=cc.tween(this.getTarget()).by(this.speed,{scale:this.endScale}),this.moveTween.call(this.callFunc)),this.moveTween},e.prototype.getTarget=function(){return this.targetNode},e.prototype.startAction=function(){this.getTween().stop(),this.getTarget().scale=this.fromScale,this.getTween().start()},e.prototype.endAction=function(){this.getTween().stop(),this.moveType==s.ActionType.\u79fb\u52a8\u5230To?this.getTarget().setScale(this.endScale):this.getTarget().setScale(this.fromScale+this.endScale)},e.prototype.resetAction=function(){this.getTween().stop(),this.getTarget().scale=this.fromScale},a([l({type:cc.Node,visible:!1,formerlySerializedAs:"target"})],e.prototype,"_targetNode",void 0),a([l(cc.Node)],e.prototype,"targetNode",null),a([l({displayName:"\u5f00\u59cb\u5927\u5c0f"})],e.prototype,"fromScale",void 0),a([l({displayName:"\u7ed3\u675f\u5927\u5c0f"})],e.prototype,"endScale",void 0),a([l({displayName:"\u79fb\u52a8\u65b9\u5f0f",type:cc.Enum(s.ActionType)})],e.prototype,"moveType",void 0),a([c],e)}(s.ActionComponent);i.ScaleComponent=p,cc._RF.pop()},{"./ActionComponent":"ActionComponent"}],ScrollDot:[function(t,e,i){"use strict";cc._RF.push(e,"80b7d0pvatLLKn6OCoK6FL2","ScrollDot");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),a=this&&this.__decorate||function(t,e,i,n){var o,a=arguments.length,s=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var r=t.length-1;r>=0;r--)(o=t[r])&&(s=(a<3?o(s):a>3?o(e,i,s):o(e,i))||s);return a>3&&s&&Object.defineProperty(e,i,s),s};Object.defineProperty(i,"__esModule",{value:!0}),i.ScrollDot=i.PageShowType=void 0;var s,r=cc._decorator,c=r.ccclass,l=r.property;(function(t){t[t.dot=0]="dot",t[t.num=1]="num"})(s=i.PageShowType||(i.PageShowType={}));var p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.pageType=s.dot,e.normalFrame=null,e.curFrame=null,e.dotSize=new cc.Size(10,10),e.spacing=10,e.curPageLabel=null,e.totalPageLabel=null,e._layout=null,e._indicators=[],e._pageView=null,e}return o(e,t),e.prototype.onLoad=function(){s.dot==this.pageType&&this._updateLayout()},e.prototype._updateLayout=function(){this._layout=this.getComponent(cc.Layout)||this.addComponent(cc.Layout);var t=this._layout;t.type=cc.Layout.Type.HORIZONTAL,t.spacingX=this.spacing,t.resizeMode=cc.Layout.ResizeMode.CONTAINER},e.prototype.setPageView=function(t){this._pageView=t,s.dot==this.pageType?this._refresh():(this.curPageLabel.string=String(this._pageView.curIndex+1),this.totalPageLabel.string=String(this._pageView.getMaxIndex()))},e.prototype._createIndicator=function(){var t=new cc.Node,e=t.addComponent(cc.Sprite);return e.spriteFrame=this.normalFrame,e.sizeMode=cc.Sprite.SizeMode.CUSTOM,t.parent=this.node,t.setContentSize(this.dotSize),t},e.prototype.changedState=function(){if(this._pageView){var t=this._pageView.curIndex;if(s.dot==this.pageType){var e=this._indicators;if(0===e.length)return;if(t>=e.length)return;for(var i=0;i<e.length;++i){var n=e[i];if(n)n.getComponent(cc.Sprite).spriteFrame=i==t?this.curFrame:this.normalFrame}}else this.curPageLabel.string=String(t+1)}},e.prototype._refresh=function(){if(this._pageView){var t=this._indicators,e=this._pageView.getMaxIndex();if(e!==t.length){var i=0;if(e>t.length)for(i=0;i<e;++i)t[i]||(t[i]=this._createIndicator());else for(i=t.length-e;i>0;--i){var n=t[i-1];this.node.removeChild(n),t.splice(i-1,1)}this._layout&&this._layout.enabledInHierarchy&&this._layout.updateLayout(),this.changedState()}}},a([l({type:cc.Enum(s)})],e.prototype,"pageType",void 0),a([l({displayName:"\u666e\u901a\u56fe\u7247",type:cc.SpriteFrame,visible:function(){return this.pageType==s.dot}})],e.prototype,"normalFrame",void 0),a([l({displayName:"\u5f53\u524d\u56fe\u7247",type:cc.SpriteFrame,visible:function(){return this.pageType==s.dot}})],e.prototype,"curFrame",void 0),a([l({displayName:"\u5927\u5c0f",visible:function(){return this.pageType==s.dot}})],e.prototype,"dotSize",void 0),a([l({displayName:"\u95f4\u9694",visible:function(){return this.pageType==s.dot}})],e.prototype,"spacing",void 0),a([l({displayName:"\u5f53\u524d\u9875",type:cc.Label,visible:function(){return this.pageType==s.num}})],e.prototype,"curPageLabel",void 0),a([l({displayName:"\u603b\u9875\u6570",type:cc.Label,visible:function(){return this.pageType==s.num}})],e.prototype,"totalPageLabel",void 0),a([c],e)}(cc.Component);i.ScrollDot=p,cc._RF.pop()},{}],SelectComponent:[function(t,e,i){"use strict";cc._RF.push(e,"2ba0eMYP/tMbbjSluNTjVFo","SelectComponent");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),a=this&&this.__decorate||function(t,e,i,n){var o,a=arguments.length,s=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var r=t.length-1;r>=0;r--)(o=t[r])&&(s=(a<3?o(s):a>3?o(e,i,s):o(e,i))||s);return a>3&&s&&Object.defineProperty(e,i,s),s};Object.defineProperty(i,"__esModule",{value:!0}),i.SelectComponent=void 0;var s=cc._decorator,r=s.ccclass,c=s.property,l=s.requireComponent,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._normalFrame=null,e.selectFrame=null,e.sprite=null,e}return o(e,t),Object.defineProperty(e.prototype,"normalFrame",{get:function(){return this._normalFrame},set:function(){},enumerable:!1,configurable:!0}),e.prototype.getSpriteCom=function(){return this.sprite||(this.sprite=this.node.getComponent(cc.Sprite)),this.sprite},e.prototype.showStateImage=function(t){this.getSpriteCom().spriteFrame=t?this.selectFrame:this.normalFrame},e.prototype.changeStateImage=function(){this.getSpriteCom().spriteFrame!=this.selectFrame&&(this.getSpriteCom().spriteFrame=this.selectFrame)},e.prototype.resetStateImage=function(){this.getSpriteCom().spriteFrame!=this.normalFrame&&(this.getSpriteCom().spriteFrame=this.normalFrame)},e.prototype.switchStateImage=function(){this.getSpriteCom().spriteFrame==this.normalFrame?this.getSpriteCom().spriteFrame=this.selectFrame:this.getSpriteCom().spriteFrame=this.normalFrame},a([c({displayName:"\u6b63\u5e38",type:cc.SpriteFrame})],e.prototype,"_normalFrame",void 0),a([c({displayName:"\u6b63\u5e38",type:cc.SpriteFrame})],e.prototype,"normalFrame",null),a([c({displayName:"\u9009\u4e2d",type:cc.SpriteFrame})],e.prototype,"selectFrame",void 0),a([r,l(cc.Sprite)],e)}(cc.Component);i.SelectComponent=p,cc._RF.pop()},{}],SequenceComponent:[function(t,e,i){"use strict";cc._RF.push(e,"99abeytDDRNyo3jOJ2g02VC","SequenceComponent");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),a=this&&this.__decorate||function(t,e,i,n){var o,a=arguments.length,s=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var r=t.length-1;r>=0;r--)(o=t[r])&&(s=(a<3?o(s):a>3?o(e,i,s):o(e,i))||s);return a>3&&s&&Object.defineProperty(e,i,s),s};Object.defineProperty(i,"__esModule",{value:!0}),i.SequenceComponent=void 0;var s=t("./ActionComponent"),r=cc._decorator,c=r.ccclass,l=r.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.target=null,e.speed=0,e.actionsArray=[],e.tweenArray=[],e.index=0,e.actionTime=0,e.isAction=!1,e}return o(e,t),e.prototype.getTween=function(){return null},e.prototype.getTime=function(){var t=this;return 0==this.actionTime&&this.actionsArray.forEach(function(e){e&&(t.actionTime+=e.getTime())}),this.actionTime},e.prototype.startAction=function(){this.isAction||this.actionsArray.length>0&&(this.isAction=!0,this.index=0,this.actionsArray[0].startParam(this.nextCallFunc.bind(this)),this.actionsArray[0].startAction())},e.prototype.endAction=function(){this.isAction=!1;var t=this.actionsArray[this.index];t&&t.endAction()},e.prototype.resetAction=function(){this.isAction=!1},e.prototype.nextCallFunc=function(){this.index++,this.index<this.actionsArray.length?this.actionsArray[this.index]?(this.actionsArray[this.index].startParam(this.nextCallFunc.bind(this)),this.actionsArray[this.index].startAction()):this.isAction=!1:(this.isAction=!1,this.actionsArray.forEach(function(t){t.startParam(null)}),this.callFunc())},a([l({type:cc.Node,override:!0,visible:!1})],e.prototype,"target",void 0),a([l({displayName:"\u52a8\u4f5c\u65f6\u95f4",override:!0,visible:!1})],e.prototype,"speed",void 0),a([l(s.ActionComponent)],e.prototype,"actionsArray",void 0),a([c],e)}(s.ActionComponent);i.SequenceComponent=p,cc._RF.pop()},{"./ActionComponent":"ActionComponent"}],Setting:[function(t,e,i){"use strict";cc._RF.push(e,"4cc2comuMhAZ69aOZP0PWBi","Setting");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),a=this&&this.__decorate||function(t,e,i,n){var o,a=arguments.length,s=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var r=t.length-1;r>=0;r--)(o=t[r])&&(s=(a<3?o(s):a>3?o(e,i,s):o(e,i))||s);return a>3&&s&&Object.defineProperty(e,i,s),s};Object.defineProperty(i,"__esModule",{value:!0});var s=t("./Hero/HeroGlobal"),r=t("./Audio"),c=t("./UserDataInfo"),l=cc._decorator,p=l.ccclass,u=(l.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.onBtnCheck=function(){r.default.instance.playAudio("BtnClick"),this.node.scaleX*=-1,"effect"==this.node.name&&(s.default.instance.EffectSwitch=String(1-Number(s.default.instance.EffectSwitch))),"bgm"==this.node.name&&(s.default.instance.BgmSwitch=String(1-Number(s.default.instance.BgmSwitch)),"1"==s.default.instance.BgmSwitch?r.default.instance.playBgm("game"):r.default.instance.stopBgm())},e.prototype.onBtnClose=function(){r.default.instance.playAudio("BtnClick"),this.node.parent.parent&&cc.isValid(this.node.parent.parent)&&this.node.parent.parent.destroy(),c.UserDataInfo.instance.changeDataByType(c.DataFields.music,s.default.instance.BgmSwitch),c.UserDataInfo.instance.changeDataByType(c.DataFields.effect,s.default.instance.EffectSwitch)},e.prototype.onEnable=function(){"effect"==this.node.name&&(this.node.scaleX="1"==s.default.instance.EffectSwitch?-1:1),"bgm"==this.node.name&&(this.node.scaleX="1"==s.default.instance.BgmSwitch?-1:1)},a([p],e)}(cc.Component));i.default=u,cc._RF.pop()},{"./Audio":"Audio","./Hero/HeroGlobal":"HeroGlobal","./UserDataInfo":"UserDataInfo"}],Sign:[function(t,e,i){"use strict";cc._RF.push(e,"4d019A6895IZYwSts2kn4vx","Sign");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),a=this&&this.__decorate||function(t,e,i,n){var o,a=arguments.length,s=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var r=t.length-1;r>=0;r--)(o=t[r])&&(s=(a<3?o(s):a>3?o(e,i,s):o(e,i))||s);return a>3&&s&&Object.defineProperty(e,i,s),s},s=this&&this.__awaiter||function(t,e,i,n){return new(i||(i=Promise))(function(o,a){function s(t){try{c(n.next(t))}catch(e){a(e)}}function r(t){try{c(n.throw(t))}catch(e){a(e)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof i?e:new i(function(t){t(e)})).then(s,r)}c((n=n.apply(t,e||[])).next())})},r=this&&this.__generator||function(t,e){var i,n,o,a,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:r(0),throw:r(1),return:r(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function r(t){return function(e){return c([t,e])}}function c(a){if(i)throw new TypeError("Generator is already executing.");for(;s;)try{if(i=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,n=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!(o=(o=s.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){s=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){s.label=a[1];break}if(6===a[0]&&s.label<o[1]){s.label=o[1],o=a;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(a);break}o[2]&&s.ops.pop(),s.trys.pop();continue}a=e.call(t,s)}catch(r){a=[6,r],n=0}finally{i=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}};Object.defineProperty(i,"__esModule",{value:!0});var c=t("../Audio"),l=t("../Tool/TimeMgr"),p=t("../TextureMgr"),u=t("../Hero/HeroGlobal"),h=t("../GameUtils"),d=t("../UserDataInfo"),f=t("../GameSDKManger"),m=cc._decorator,g=m.ccclass,y=m.property,v=cc.Enum({"\u8865\u7b7e":0,"\u7b7e\u5230":1,"\u5df2\u7b7e":2}),_=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.itemPrefab=null,e.petPrefab=null,e.stateSf=[],e.haveSf=[],e.nowSf=[],e.nothaveSf=[],e}return o(e,t),e.prototype.init=function(){this.layoutNode=this.node.getChildByName("Layout"),this.signBtn=this.node.getChildByName("sign"),this.retroBtn=this.node.getChildByName("retro"),this.signIndex=1,this.initLayout()},e.prototype.initLayout=function(){this.itemBg=[],this.itemIcon=[],this.itemName=[],this.itemNum=[],this.itemTitle=[],this.loadPet();for(var t=0;t<6;t++){var e=cc.instantiate(this.itemPrefab);switch(e.name=""+t,e.parent=this.layoutNode,e.position=t<3?cc.v3(240*t-240,70):cc.v3(240*(t-3)-240,-126),this.itemBg.push(e.getComponent(cc.Sprite)),this.itemTitle.push(e.getChildByName("title").getComponent(cc.Sprite)),this.itemIcon.push(e.getChildByName("icon").getComponent(cc.Sprite)),this.itemName.push(e.getChildByName("name").getComponent(cc.Label)),this.itemNum.push(e.getChildByName("num").getComponent(cc.Label)),t){case 0:this.itemIcon[t].spriteFrame=p.default.instance.rewardSfInGame[1],this.itemName[t].string="\u91d1\u5e01",this.itemNum[t].string="x150";break;case 1:this.itemIcon[t].spriteFrame=p.default.instance.rewardSfInGame[2],this.itemName[t].string="\u519b\u7cae",this.itemNum[t].string="x10";break;case 2:this.itemIcon[t].spriteFrame=p.default.instance.getEquipmentIconById(30308),this.itemName[t].string="\u6212\u6307",this.itemNum[t].string="\u4f3c\u6c34\u6d41\u5e74";break;case 3:this.itemIcon[t].spriteFrame=p.default.instance.rewardSfInGame[0],this.itemName[t].string="\u94bb\u77f3",this.itemNum[t].string="x100";break;case 4:this.itemIcon[t].spriteFrame=p.default.instance.getEquipmentIconById(50303),this.itemName[t].string="\u7fc5\u8180",this.itemNum[t].string="\u6d85\u69c3\u795e\u51e4\u7ffc";break;case 5:this.itemIcon[t].spriteFrame=p.default.instance.rewardSfInGame[1],this.itemName[t].string="\u91d1\u5e01",this.itemNum[t].string="x1500"}}},e.prototype.onLoad=function(){this.init(),this.loadSignData()},e.prototype.loadPet=function(){return s(this,void 0,void 0,function(){var t;return r(this,function(){return t=cc.instantiate(this.petPrefab),this.petSk=this.layoutNode.getChildByName("7").getComponent(sp.Skeleton),this.petSk.skeletonData=t._components[0].skeletonData,this.petSk.animation="fly",this.petSk._updateSkeletonData(),this.petSk.setSkin("default"),[2]})})},e.prototype.loadSignData=function(){var t=d.UserDataInfo.instance.getDataByType(d.DataFields.sign_data);this.start_date=t.start_date,this.sign_attrs=t.sign_attrs,this.needReset=t.needReset,this.hadRetro=t.hadRetro,this.curr_day=l.default.getDelayDay(this.start_date,l.default.getFullYMDToday())+1,this.needReset&&this.curr_day>0&&(this.sign_attrs="0000000",this.needReset=!1),this.saveSignData(),this.initSignItem()},e.prototype.saveSignData=function(){var t={start_date:this.start_date,sign_attrs:this.sign_attrs,needReset:this.needReset,hadRetro:this.hadRetro};d.UserDataInfo.instance.changeDataByType(d.DataFields.sign_data,JSON.stringify(t))},e.prototype.initSignItem=function(){for(var t=(this.sign_attrs+"").split(""),e=0;e<6;e++)this.setItemState(e,v.\u7b7e\u5230);if(0==this.curr_day&&this.needReset)for(var i=0;i<6;i++)this.setItemState(i,v.\u5df2\u7b7e);else{for(var n=0;n<this.curr_day-1;n++)"0"==t[n]?this.setItemState(n,v.\u8865\u7b7e):"1"==t[n]&&this.setItemState(n,v.\u5df2\u7b7e);var o=!1;if("1"==t[this.curr_day-1]){this.setItemState(this.curr_day-1,v.\u5df2\u7b7e);for(var a=0;a<this.curr_day-1;a++)if("0"==t[a]){this.retro_day=a+1,o=!0;break}o?this.setButtonState(v.\u8865\u7b7e):this.setButtonState(v.\u5df2\u7b7e)}else this.setButtonState(v.\u7b7e\u5230);if(this.curr_day>7){for(var s=0;s<this.curr_day-1;s++)if("0"==t[s]){this.retro_day=s+1,o=!0;break}o?this.setButtonState(v.\u8865\u7b7e):this.setButtonState(v.\u5df2\u7b7e)}l.default.getFullYMDToday()==this.hadRetro&&this.setButtonState(v.\u5df2\u7b7e)}},e.prototype.setButtonState=function(t){switch(this.signBtn.active=!1,this.retroBtn.active=!1,t){case v.\u7b7e\u5230:this.signBtn.active=!0;break;case v.\u8865\u7b7e:this.retroBtn.active=!0}},e.prototype.setItemState=function(t,e){if(6!=t){this.itemBg[t].spriteFrame=this.stateSf[e];var i=[this.nothaveSf,this.haveSf,this.nowSf];this.itemTitle[t].spriteFrame=i[e][t]}},e.prototype.onBtnSign=function(){c.default.instance.playAudio("BtnClick"),this.onSign()},e.prototype.onSign=function(){null!=this.curr_day&&this.onUpdateSign(this.curr_day)},e.prototype.onBtnRetro=function(){c.default.instance.playAudio("BtnClick"),this.onRetro()},e.prototype.onRetro=function(){null!=this.retro_day&&(this.hadRetro=l.default.getFullYMDToday(),this.onUpdateSign(this.retro_day,!0))},e.prototype.onUpdateSign=function(t,e){var i=this,n=(this.sign_attrs+"").split("");n[t-1]="1",this.sign_attrs=n.join(""),"1111111"==this.sign_attrs&&(this.start_date=l.default.getFullYMDTomorrow(),this.needReset=!0),this.saveSignData(),e?f.shareAd(function(){i.onReward(t)}):this.onReward(t),this.initSignItem()},e.prototype.onSuccess=function(){this.videoDay&&this.onReward(this.videoDay)},e.prototype.onReward=function(t){switch(t-1){case 0:cc.director.emit("daily_reward",h.DailyAward.coin,150);break;case 1:cc.director.emit("daily_reward",h.DailyAward.life,10);break;case 2:u.default.instance.pushEquipmentData(30308e4);break;case 3:cc.director.emit("daily_reward",h.DailyAward.jade,100);break;case 4:u.default.instance.pushEquipmentData(50303e4);break;case 5:cc.director.emit("daily_reward",h.DailyAward.jade,1500);break;case 6:u.default.instance.unlockPet(0)}this.videoDay=null},e.prototype.refreshState=function(){this.initSignItem()},e.prototype.onEnable=function(){this.layoutNode&&this.refreshState()},e.instance=null,a([y(cc.Prefab)],e.prototype,"itemPrefab",void 0),a([y(cc.Prefab)],e.prototype,"petPrefab",void 0),a([y([cc.SpriteFrame])],e.prototype,"stateSf",void 0),a([y([cc.SpriteFrame])],e.prototype,"haveSf",void 0),a([y([cc.SpriteFrame])],e.prototype,"nowSf",void 0),a([y([cc.SpriteFrame])],e.prototype,"nothaveSf",void 0),a([g],e)}(cc.Component);i.default=_,cc._RF.pop()},{"../Audio":"Audio","../GameSDKManger":"GameSDKManger","../GameUtils":"GameUtils","../Hero/HeroGlobal":"HeroGlobal","../TextureMgr":"TextureMgr","../Tool/TimeMgr":"TimeMgr","../UserDataInfo":"UserDataInfo"}],SkillMgr:[function(t,e,i){"use strict";cc._RF.push(e,"2e35dtDfmZO5IgfWCid6h+W","SkillMgr");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),a=this&&this.__decorate||function(t,e,i,n){var o,a=arguments.length,s=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var r=t.length-1;r>=0;r--)(o=t[r])&&(s=(a<3?o(s):a>3?o(e,i,s):o(e,i))||s);return a>3&&s&&Object.defineProperty(e,i,s),s};Object.defineProperty(i,"__esModule",{value:!0});var s=t("./Game"),r=t("./nativets/NodePool"),c=t("./Hero/Hero"),l=t("./Hero/HeroSkill"),p=t("./Hero/HeroGlobal"),u=t("./nativets/Global"),h=cc._decorator,d=h.ccclass,f=h.property,m=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.skillPrefab=null,e.ZYskillPrefab=null,e.DQskillPrefab=null,e}var i;return o(e,t),i=e,e.prototype.init=function(){switch(p.default.instance.MainHeroIndex){case 1:this.SkillPool=new r.default;var t=cc.instantiate(this.skillPrefab);t.parent=s.default.instance.gameEffectNode,this.SkillPool.put(t);break;case 0:this.ZYSkillPool=new r.default;var e=cc.instantiate(this.ZYskillPrefab);e.parent=s.default.instance.gameEffectNode,this.ZYSkillPool.put(e);break;case 2:this.DQSkillPool=new r.default;var i=cc.instantiate(this.DQskillPrefab);i.parent=s.default.instance.gameEffectNode,this.DQSkillPool.put(i)}},e.prototype.onLoad=function(){i.instance=this,this.init()},e.prototype.getSkillPool=function(t){return 0==t?this.ZYSkillPool:1==t?this.SkillPool:this.DQSkillPool},e.prototype.getSkillItem=function(){var t=p.default.instance.MainHeroIndex,e=null,i=null;0==t?(e=this.ZYskillPrefab,i=this.ZYSkillPool):1==t?(e=this.skillPrefab,i=this.SkillPool):(e=this.DQskillPrefab,i=this.DQSkillPool);var n=i.get();return n||((n=cc.instantiate(e)).parent=s.default.instance.gameEffectNode,i.put(n)),n},e.prototype.create=function(t){var e=this.getSkillItem(),i=c.default.instance.node.position;"jump_middle_attack"==t&&(1==p.default.instance.MainHeroIndex?(c.default.instance.speedY=100,u.default.getInstance().gravity=200):2==p.default.instance.MainHeroIndex&&(i.y=-200)),e.position=i,e.scaleX=c.default.instance.node.scaleX,e.getComponent(l.default).play(t)},e.instance=null,a([f(cc.Prefab)],e.prototype,"skillPrefab",void 0),a([f(cc.Prefab)],e.prototype,"ZYskillPrefab",void 0),a([f(cc.Prefab)],e.prototype,"DQskillPrefab",void 0),i=a([d],e)}(cc.Component);i.default=m,cc._RF.pop()},{"./Game":"Game","./Hero/Hero":"Hero","./Hero/HeroGlobal":"HeroGlobal","./Hero/HeroSkill":"HeroSkill","./nativets/Global":"Global","./nativets/NodePool":"NodePool"}],SkillProgress:[function(t,e,i){"use strict";cc._RF.push(e,"74264QsPDdK56MvJpeQ9Lc6","SkillProgress");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),a=this&&this.__decorate||function(t,e,i,n){var o,a=arguments.length,s=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var r=t.length-1;r>=0;r--)(o=t[r])&&(s=(a<3?o(s):a>3?o(e,i,s):o(e,i))||s);return a>3&&s&&Object.defineProperty(e,i,s),s};Object.defineProperty(i,"__esModule",{value:!0});var s=t("./Hero"),r=t("./HeroFSM"),c=cc._decorator,l=c.ccclass,p=(c.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.init=function(){this.progressBar=this.node.getComponent(cc.ProgressBar),this.node.on("touchstart",this.onClick,this),this.count=0,this.sprite=this.node.getComponent(cc.Sprite),this.barSprite=this.node.getChildByName("bar").getComponent(cc.Sprite)},e.prototype.setSkill=function(t,e,i){this.sprite||this.init(),this.index=t,this.cd=e,this.sprite.spriteFrame=i,this.barSprite.spriteFrame=i},e.prototype.resetCD=function(){this.time=0,this.progressBar.progress=0},e.prototype.onClick=function(){this.getCanClick()&&r.default.instance.fsm.can("skill")&&(s.default.instance.node.y>-200||(this.time=this.cd,s.default.instance.onSkill(this.index)))},e.prototype.getCanClick=function(){return-1!=this.cd&&0==this.progressBar.progress},e.prototype.updateProgress=function(){var t=this.time/this.cd;this.progressBar.progress=t},e.prototype.update=function(t){this.time>0&&(this.time-=t,this.time<=0&&(this.time=0,this.progressBar.progress=0),this.count++,10==this.count&&(this.count=0,this.updateProgress()))},a([l],e)}(cc.Component));i.default=p,cc._RF.pop()},{"./Hero":"Hero","./HeroFSM":"HeroFSM"}],Sort:[function(t,e,i){"use strict";cc._RF.push(e,"888a6C7ms1MK4T7M/QmGo44","Sort"),Object.defineProperty(i,"__esModule",{value:!0}),i.default=function(t,e){return t<e?-1:t==e?0:1},cc._RF.pop()},{}],SoulDialog:[function(t,e,i){"use strict";cc._RF.push(e,"79bfbLOA/hB364kmUdLBZO4","SoulDialog");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),a=this&&this.__decorate||function(t,e,i,n){var o,a=arguments.length,s=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var r=t.length-1;r>=0;r--)(o=t[r])&&(s=(a<3?o(s):a>3?o(e,i,s):o(e,i))||s);return a>3&&s&&Object.defineProperty(e,i,s),s};Object.defineProperty(i,"__esModule",{value:!0});var s=t("../TextureMgr"),r=t("../nativets/Config"),c=t("../i18n/Language"),l=t("../Audio"),p=cc._decorator,u=p.ccclass,h=(p.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.init=function(t){this.equipCom=t,this.icon=this.node.getChildByName("icon").getComponent(cc.Sprite),this.lvBg=this.node.getChildByName("lvbg").getComponent(cc.Sprite),this.nameLabel=this.node.getChildByName("name").getComponent(cc.Label),this.lvLabel=this.node.getChildByName("lv").getComponent(cc.Label),this.equipLabel=this.node.getChildByName("textequip").getComponent(cc.Label),this.textLabel0=this.node.getChildByName("text0").getComponent(cc.Label),this.upBtn=this.node.getChildByName("up").getComponent(cc.Button),this.recycleBtn=this.node.getChildByName("recycle").getComponent(cc.Button),this.equipBtn=this.node.getChildByName("equip").getComponent(cc.Button),this.unEquipBtn=this.node.getChildByName("unequip").getComponent(cc.Button)},e.prototype.setButtonState=function(t){this.equipBtn.node.active=!t,this.equipBtn.node.active=t},e.prototype.onOpen=function(t){this.typeIndex=this.equipCom.soulTitleIndex+1;var e=this.equipCom.soulCompressAttrs[0];-1!=this.equipCom.soulCompressAttrs.indexOf(t)?(this.upBtn.node.active=!1,this.equipBtn.node.active=!1):0==e?(this.upBtn.node.active=!0,this.equipBtn.node.active=!1):(this.upBtn.node.active=!1,this.equipBtn.node.active=!0,6==r.getLvId(e)&&(this.equipBtn.node.active=!1)),this.id=t,this.icon.spriteFrame=s.default.instance.getSoulIconById(t),this.lvBg.spriteFrame=s.default.instance.getLvIconById(t);var i=r.getDataById(t);this.nameLabel.string=i.name,this.lvLabel.string=c.default["star"+r.getLvId(t)]+c.default.soul;var n="";i.atk&&(n+=c.default.equipmentAtk+"+"+i.atk+"                   \n"),i.def&&(n+=c.default.equipmentDef+"+"+i.def+"                   \n");var o=""+n;i.hp&&(o+=c.default.equipmentHp+"+"+i.hp+"                   \n"),i.ls&&(o+=c.default.equipmentLs+"+"+i.ls+"%                   \n"),i.sp&&(o+=c.default.equipmentSp+"+"+i.sp+"%                   \n"),i.cr&&(o+=c.default.equipmentCr+"+"+i.cr+"%                   \n"),i.arp&&(o+=c.default.equipmentArp+"+"+i.arp+"                   \n"),i.bonus&&(o+=c.default.equipmentBonus+"+"+i.bonus+"%                   \n"),i.cd&&(o+=c.default.equipmentCd+"-"+i.cd+"%                   \n"),i.miss&&(o+=c.default.equipmentMiss+"+"+i.miss+"%                   \n"),i.exp&&(o+=c.default.equipmentExp+"+"+i.exp+"%                   \n"),i.gold&&(o+=c.default.equipmentGold+"+"+i.gold+"%                   \n"),this.textLabel0.string=o,this.node.active=!0},e.prototype.onBtnSoulMain=function(){l.default.instance.playAudio("BtnClick"),this.equipCom.soulCompressAttrs[0]=this.id,this.equipCom.icon0.spriteFrame=this.icon.spriteFrame,this.equipBtn.node.active=!1,this.equipCom.soulHC.active=!0,this.equipCom.setSoulHCDialog(this.id),this.equipCom.soulFM.active=!1,this.upBtn.node.active=!1,this.equipCom.onSoulDialogClose()},e.prototype.onBtnSoulSub=function(){l.default.instance.playAudio("BtnClick"),0==this.equipCom.soulCompressAttrs[1]?(this.equipCom.soulCompressAttrs[1]=this.id,this.equipCom.icon1.spriteFrame=this.icon.spriteFrame):(this.equipCom.soulCompressAttrs[2]=this.id,this.equipCom.icon2.spriteFrame=this.icon.spriteFrame),this.equipCom.soulHC.active=!0,this.equipCom.soulFM.active=!1,this.equipBtn.node.active=!1,this.equipCom.onSoulDialogClose(),this.equipCom.refreshSoulCompressRate()},e.prototype.onBtnSoulToWeapon=function(){l.default.instance.playAudio("BtnClick"),this.equipCom.soulHC.active=!1,this.equipCom.soulFM.active=!0,this.equipCom.soulRight.active=!1,this.equipCom.equipmentNode.active=!0,this.equipCom.equipmentLeft.active=!1,this.node.active=!1,this.equipCom.fmIcon0.spriteFrame=this.icon.spriteFrame},a([u],e)}(cc.Component));i.default=h,cc._RF.pop()},{"../Audio":"Audio","../TextureMgr":"TextureMgr","../i18n/Language":"Language","../nativets/Config":"Config"}],SoundManager:[function(t,e,i){"use strict";cc._RF.push(e,"9e702pZFpFNwbviQ1WLwj9n","SoundManager"),Object.defineProperty(i,"__esModule",{value:!0}),i.SoundManager=void 0;var n=function(){function t(){this.audioMgr=new cc.Node,this.audioMgr.name="__SoundManager__",cc.director.getScene().addChild(this.audioMgr),cc.game.addPersistRootNode(this.audioMgr),this._audioSource=this.audioMgr.addComponent(cc.AudioSource)}return Object.defineProperty(t,"instance",{get:function(){return null==this._instance&&(this._instance=new t),this._instance},enumerable:!1,configurable:!0}),t.prototype.play=function(t,e){var i=this;void 0===e&&(e=1),this._audioSource.stop(),t instanceof cc.AudioClip?(this._audioSource.clip=t,this._audioSource.volume=e,this._audioSource.loop=!1,this._audioSource.play()):cc.resources.load(t,function(t,n){t||(i._audioSource.clip=n,i._audioSource.volume=e,i._audioSource.loop=!1,i._audioSource.play())})},t.prototype.stop=function(){this._audioSource.stop()},t}();i.SoundManager=n,cc._RF.pop()},{}],SpawnComponent:[function(t,e,i){"use strict";cc._RF.push(e,"ae5475AkWNOQIT1KwUn1PpQ","SpawnComponent");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),a=this&&this.__decorate||function(t,e,i,n){var o,a=arguments.length,s=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var r=t.length-1;r>=0;r--)(o=t[r])&&(s=(a<3?o(s):a>3?o(e,i,s):o(e,i))||s);return a>3&&s&&Object.defineProperty(e,i,s),s};Object.defineProperty(i,"__esModule",{value:!0}),i.SpawnComponent=void 0;var s=t("./ActionComponent"),r=cc._decorator,c=r.ccclass,l=r.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.target=null,e.speed=0,e.actionsArray=[],e.maxTime=0,e.maxTimeIndex=0,e}return o(e,t),e.prototype.onLoad=function(){var t=this;this.actionsArray.forEach(function(e,i){e&&t.maxTime<e.getTime()&&(t.maxTimeIndex=i)})},e.prototype.getTime=function(){var t=this;return 0==this.maxTime&&this.actionsArray.forEach(function(e){e&&t.maxTime<e.getTime()&&(t.maxTime=e.getTime())}),this.maxTime},e.prototype.getTween=function(){return null},e.prototype.startParam=function(t){this.actionsArray[this.maxTimeIndex].startParam(t)},e.prototype.startAction=function(){this.actionsArray.forEach(function(t){t.startAction()})},e.prototype.endAction=function(){this.actionsArray.forEach(function(t){t.endAction()})},e.prototype.resetAction=function(){},a([l({type:cc.Node,override:!0,visible:!1})],e.prototype,"target",void 0),a([l({displayName:"\u52a8\u4f5c\u65f6\u95f4",override:!0,visible:!1})],e.prototype,"speed",void 0),a([l(s.ActionComponent)],e.prototype,"actionsArray",void 0),a([c],e)}(s.ActionComponent);i.SpawnComponent=p,cc._RF.pop()},{"./ActionComponent":"ActionComponent"}],Spikeweed:[function(t,e,i){"use strict";cc._RF.push(e,"de8ef75E69MZZ1h4kO7gs0Y","Spikeweed");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),a=this&&this.__decorate||function(t,e,i,n){var o,a=arguments.length,s=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var r=t.length-1;r>=0;r--)(o=t[r])&&(s=(a<3?o(s):a>3?o(e,i,s):o(e,i))||s);return a>3&&s&&Object.defineProperty(e,i,s),s};Object.defineProperty(i,"__esModule",{value:!0});var s=t("../nativets/Global"),r=cc._decorator,c=r.ccclass,l=(r.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.attackSpace=2,e.attackTime=.5,e}return o(e,t),e.prototype.init=function(){this.attackSpace=2,this.hit=this.node.getChildByName("hit")},e.prototype.onLoad=function(){this.init(),this.playing=!0},e.prototype.use=function(){this.playing=!0,this.hit.active=!1},e.prototype.unuse=function(){this.playing=!1},e.prototype.update=function(t){s.default.getInstance().inGame&&this.playing&&(this.attackSpace-=t,this.hit.active=this.attackSpace>1.6,this.attackSpace<0&&(this.attackSpace=2))},a([c],e)}(cc.Component));i.default=l,cc._RF.pop()},{"../nativets/Global":"Global"}],SpineComponent:[function(t,e,i){"use strict";cc._RF.push(e,"772c76jgKdCJbxPBIktWyMf","SpineComponent");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),a=this&&this.__decorate||function(t,e,i,n){var o,a=arguments.length,s=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var r=t.length-1;r>=0;r--)(o=t[r])&&(s=(a<3?o(s):a>3?o(e,i,s):o(e,i))||s);return a>3&&s&&Object.defineProperty(e,i,s),s};Object.defineProperty(i,"__esModule",{value:!0}),i.SpineComponent=i.DefaultAnimEnum=void 0;var s,r=t("./ActionComponent"),c=cc._decorator,l=c.ccclass,p=c.property,u=c.executeInEditMode;(function(t){t[t["<None>"]=0]="<None>"})(s=i.DefaultAnimEnum||(i.DefaultAnimEnum={})),cc.Enum(s);var h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.speed=0,e._spine=null,e.spineName="",e._isLoop=!1,e.spineTime=0,e._enumAnimations=cc.Enum({}),e}return o(e,t),Object.defineProperty(e.prototype,"spine",{get:function(){return this._spine},set:function(t){this._spine=t,this.spineName="",this._updateAnimEnum()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"animationIndex",{get:function(){this._updateAnimEnum();var t=this.spineName;if(this.spine&&this.spine.skeletonData&&t){var e=this.spine.skeletonData;if(e){var i=e[t];if(void 0!==i)return i}}return 0},set:function(t){var e;if(this.spine&&this.spine.skeletonData&&(e=this.spine.skeletonData.getAnimsEnum()),e){var i=String(e[t]);void 0!==i?this.spineName=i:console.error(this.name+" animation enums are invalid")}else console.error(this.name+" animation enums are invalid")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isLoop",{get:function(){return this._isLoop},set:function(t){this.spine&&(this._isLoop=t)},enumerable:!1,configurable:!0}),e.prototype.__preload=function(){Editor&&this._updateAnimEnum()},e.prototype.onLoad=function(){Editor||this.isLoop||(this.spineTime=0)},e.prototype.getTime=function(){if(0==this.spineTime&&!this.isLoop)for(var t=this.spine.skeletonData.getRuntimeData().animations,e=0;e<t.length;e++)this.spineName==t[e].name&&(this.spineTime=t[e].duration);return this.spineTime},e.prototype.getTween=function(){return null},e.prototype.startSpineByName=function(t,e){var i=this;this.spine.setAnimation(0,t,e),this.scheduleOnce(function(){i.callFunc&&i.callFunc()},this.getTime())},e.prototype.startAction=function(){var t=this;this.spine.setAnimation(0,this.spineName,this.isLoop),this.scheduleOnce(function(){t.callFunc&&t.callFunc()},this.getTime())},e.prototype.endAction=function(){},e.prototype.resetAction=function(){},e.prototype._updateAnimEnum=function(){var t;Editor&&(this.spine&&this.spine.skeletonData&&(t=this.spine.skeletonData.getAnimsEnum()),this._enumAnimations=cc.Enum({}),Object.assign(this._enumAnimations,t),cc.Enum.update(this._enumAnimations),setPropertyEnumType(this,"animationIndex",this._enumAnimations))},a([p({displayName:"\u52a8\u4f5c\u65f6\u95f4",override:!0,visible:!1})],e.prototype,"speed",void 0),a([p({type:sp.Skeleton,formerlySerializedAs:"spine"})],e.prototype,"_spine",void 0),a([p(sp.Skeleton)],e.prototype,"spine",null),a([p({displayName:"\u52a8\u753b\u540d\u79f0",visible:!1})],e.prototype,"spineName",void 0),a([p({displayName:"animation",type:s})],e.prototype,"animationIndex",null),a([p],e.prototype,"_isLoop",void 0),a([p({displayName:"\u662f\u5426\u5faa\u73af",visible:function(){return!!this.spine}})],e.prototype,"isLoop",null),a([l,u],e)}(r.ActionComponent);i.SpineComponent=h,cc._RF.pop()},{"./ActionComponent":"ActionComponent"}],Statistics:[function(t,e,i){"use strict";cc._RF.push(e,"130a72aNr1N9ro8iQBK31K+","Statistics"),Object.defineProperty(i,"__esModule",{value:!0}),t("../nativets/Platform");var n=function(){function t(){this.adInfo=new Map}return t.getInstance=function(){return this.instance||(this.instance=new t),this.instance},t.prototype.getSwitch=function(){},t.prototype.reportEvent=function(){},t.prototype.reportStage=function(){},t.prototype.register=function(){},t.prototype.updateUserInfo=function(){},t.prototype.reportSubscribe=function(){},t.prototype.getOpenid=function(){},t.prototype.reportAd=function(t,e){var i="";switch(e){case 0:i="issue";break;case 1:i="show";break;case 2:i="click"}var n=null;this.adInfo?n=this.adInfo[t]:this.adInfo=new Map,n?(n[i]++,this.adInfo[t]=n):(this.adInfo[t]={},this.adInfo[t].issue=0,this.adInfo[t].show=0,this.adInfo[t].click=0,this.adInfo[t][i]=1)},t.prototype.newReportAd=function(){this.adInfo&&(this.adInfo=new Map)},t.prototype.reportRank=function(){},t.prototype.getRank=function(){},t.prototype.getRanKIdOffset=function(){return 0},t.instance=null,t.RANKLIST=cc.Enum({"\u6218\u529b\u699c":1,"\u901a\u5173\u699c":2,"\u6740\u622e\u699c":3}),t}();i.default=n,cc._RF.pop()},{"../nativets/Platform":"Platform"}],SwordManager:[function(t,e,i){"use strict";cc._RF.push(e,"53a68M5myRHvbf/ZXPl6+uv","SwordManager");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),a=this&&this.__decorate||function(t,e,i,n){var o,a=arguments.length,s=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var r=t.length-1;r>=0;r--)(o=t[r])&&(s=(a<3?o(s):a>3?o(e,i,s):o(e,i))||s);return a>3&&s&&Object.defineProperty(e,i,s),s};Object.defineProperty(i,"__esModule",{value:!0});var s=t("./BezierMove"),r=cc._decorator,c=r.ccclass,l=r.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.ndSword=null,e._numberOfSwords=0,e.swordInitPos=cc.Vec3.ZERO,e.swordTargetPos=new cc.Vec3(500,260),e.swordList=[],e._speed=600,e._isMouseMode=!0,e}return o(e,t),Object.defineProperty(e.prototype,"numberOfSwords",{get:function(){return this._numberOfSwords},set:function(t){Number.isNaN(t)||(this._numberOfSwords=t,this.createSwords(this._numberOfSwords))},enumerable:!1,configurable:!0}),e.prototype.deleteSwords=function(){for(var t=this.swordList.length-1;t>=0;t--){var e=this.swordList[t];e&&e!=this.ndSword&&e.destroy()}this.swordList.length=0,this.swordList.push(this.ndSword)},e.prototype.createSwords=function(t){this.deleteSwords();for(var e=0;e<t-1;e++){var i=cc.instantiate(this.ndSword);this.node.addChild(i),i.angle=120*Math.random()-60,this.swordList.push(i)}},e.prototype.start=function(){this.swordList.length||(this.swordList=this.node.children),this.swordInitPos=this.ndSword.position,this.registerEvent()},e.prototype.registerEvent=function(){this.node.on(cc.Node.EventType.TOUCH_END,this.onTouchEnd,this)},e.prototype.scheduleTrackMonster=function(){var t=this;this.schedule(function(){var e=cc.instantiate(t.ndSword);t.node.addChild(e);var i=e.getComponent(s.default);i&&i.moveTo(t.swordTargetPos)},1)},e.prototype.onTouchEnd=function(t){if(this._isMouseMode){var e=t.getLocation(),i=this.node.convertToNodeSpaceAR(cc.v3(e));this.moveTo(i)}},e.prototype.moveTo=function(t,e){var i=this;void 0===e&&(e=0),this.swordList.forEach(function(n,o){n&&i.scheduleOnce(function(){var e=n.getComponent(s.default);e&&e.moveTo(t)},o*e)})},e.prototype.onClickSwordBtn=function(){var t=this.ndSword.getComponent(s.default);t&&t.moveTo(this.swordTargetPos)},a([l(cc.Node)],e.prototype,"ndSword",void 0),a([l],e.prototype,"_numberOfSwords",void 0),a([l],e.prototype,"numberOfSwords",null),a([c],e)}(cc.Component);i.default=p,cc._RF.pop()},{"./BezierMove":"BezierMove"}],TaskItem:[function(t,e,i){"use strict";cc._RF.push(e,"48533up2lJJpJbgI4fFoBRm","TaskItem");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),a=this&&this.__decorate||function(t,e,i,n){var o,a=arguments.length,s=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var r=t.length-1;r>=0;r--)(o=t[r])&&(s=(a<3?o(s):a>3?o(e,i,s):o(e,i))||s);return a>3&&s&&Object.defineProperty(e,i,s),s};Object.defineProperty(i,"__esModule",{value:!0});var s=t("../../nativets/Config"),r=t("../../DataMgr"),c=t("../../TextureMgr"),l=t("../../Audio"),p=t("../../GameUtils"),u=cc._decorator,h=u.ccclass,d=(u.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.init=function(){this.goBtn=this.node.getChildByName("go"),this.getBtn=this.node.getChildByName("get"),this.icon=this.node.getChildByName("icon").getComponent(cc.Sprite),this.progressBar=this.node.getChildByName("ProgressBar").getComponent(cc.ProgressBar),this.textLabel=this.node.getChildByName("text").getComponent(cc.Label),this.countLabel=this.node.getChildByName("count").getComponent(cc.Label),this.coinsLabel=this.node.getChildByName("coins").getComponent(cc.Label),this.titleLabel=this.node.getChildByName("title").getComponent(cc.Label)},e.prototype.onRefresh=function(t){this.index=t;var e=s.Task[t],i=e.amount,n=r.default.instance.taskCountData[t];n>i&&(n=i);var o=n/i,a=-1;0==r.default.instance.taskGetCountData[t]?n==i&&(a=0):a=1,this.setState(a),e.gold?(this.icon.spriteFrame=c.default.instance.rewardSfInGame[1],this.rewardNum=e.gold,this.isGold=!0):(this.icon.spriteFrame=c.default.instance.rewardSfInGame[0],this.rewardNum=e.dimond,this.isGold=!1),this.coinsLabel.string="x "+this.rewardNum,this.textLabel.string=e.name+e.amount+e.unit,this.countLabel.string=n+"/"+e.amount,this.titleLabel.string=e.title,this.progressBar.progress=o},e.prototype.setState=function(t){this.goBtn.active=-1==t,this.getBtn.active=0==t},e.prototype.onBtnGet=function(){l.default.instance.playAudio("BtnClick"),this.onGet()},e.prototype.onGet=function(){this.isGold?cc.director.emit("daily_reward",p.DailyAward.coin,this.rewardNum):cc.director.emit("daily_reward",p.DailyAward.jade,this.rewardNum),r.default.instance.taskGetCountData[this.index]=1,r.default.instance.saveSaveDate(),this.onRefresh(this.index)},e.prototype.onBtnGo=function(){l.default.instance.playAudio("BtnClick"),cc.director.emit("other_sub_close")},a([h],e)}(cc.Component));i.default=d,cc._RF.pop()},{"../../Audio":"Audio","../../DataMgr":"DataMgr","../../GameUtils":"GameUtils","../../TextureMgr":"TextureMgr","../../nativets/Config":"Config"}],Task:[function(t,e,i){"use strict";cc._RF.push(e,"ddb25XYXrdNoIiwpWpfapPn","Task");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),a=this&&this.__decorate||function(t,e,i,n){var o,a=arguments.length,s=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var r=t.length-1;r>=0;r--)(o=t[r])&&(s=(a<3?o(s):a>3?o(e,i,s):o(e,i))||s);return a>3&&s&&Object.defineProperty(e,i,s),s};Object.defineProperty(i,"__esModule",{value:!0});var s=t("./TaskItem"),r=cc._decorator,c=r.ccclass,l=r.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.taskItem=null,e}var i;return o(e,t),i=e,e.prototype.init=function(){this.layoutNode=this.node.getChildByName("ScrollView").getChildByName("view").getChildByName("content"),this.initLayout()},e.prototype.initLayout=function(){this.taskScripts=[];for(var t=0;t<9;t++){var e=cc.instantiate(this.taskItem);e.parent=this.layoutNode,this.taskScripts.push(e.getComponent(s.default)),this.taskScripts[t].init(t)}},e.prototype.onLoad=function(){i.instance=this,this.init()},e.prototype.onRefresh=function(){for(var t=0;t<9;t++)this.taskScripts[t].onRefresh(t)},e.prototype.onEnable=function(){this.onRefresh()},e.instance=null,a([l(cc.Prefab)],e.prototype,"taskItem",void 0),i=a([c],e)}(cc.Component);i.default=p,cc._RF.pop()},{"./TaskItem":"TaskItem"}],TestSpine:[function(t,e,i){"use strict";cc._RF.push(e,"4725aKWVddBlIB90Qjgbok/","TestSpine");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),a=this&&this.__decorate||function(t,e,i,n){var o,a=arguments.length,s=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var r=t.length-1;r>=0;r--)(o=t[r])&&(s=(a<3?o(s):a>3?o(e,i,s):o(e,i))||s);return a>3&&s&&Object.defineProperty(e,i,s),s};Object.defineProperty(i,"__esModule",{value:!0});var s=cc._decorator,r=s.ccclass,c=s.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.label=null,e.animationArray=[],e}return o(e,t),e.prototype.onLoad=function(){var t=this;this.spine=this.getComponentInChildren(sp.Skeleton),this.editBox=this.getComponentInChildren(cc.EditBox),this.scrollView=this.getComponentInChildren(cc.ScrollView),this.spine.skeletonData._skeletonCache.animations.forEach(function(e){t.animationArray.push(e.name)}),this.label.string=this.animationArray.join("\n"),this.scrollView.content.height+=this.label.node.height},e.prototype.start=function(){},e.prototype.onBtn_click=function(){var t=this.editBox.string;t&&this.animationArray.includes(t)&&this.spine.addAnimation(0,t,!1)},a([c(cc.Label)],e.prototype,"label",void 0),a([r],e)}(cc.Component);i.default=l,cc._RF.pop()},{}],Test:[function(t,e,i){"use strict";cc._RF.push(e,"a018e3uTsBPgLylAlmzvTHL","Test");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),a=this&&this.__decorate||function(t,e,i,n){var o,a=arguments.length,s=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var r=t.length-1;r>=0;r--)(o=t[r])&&(s=(a<3?o(s):a>3?o(e,i,s):o(e,i))||s);return a>3&&s&&Object.defineProperty(e,i,s),s};Object.defineProperty(i,"__esModule",{value:!0});var s=cc._decorator,r=s.ccclass,c=s.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.hero=null,e.ad=null,e}return o(e,t),e.prototype.start=function(){this.sk=this.hero.getComponent(sp.Skeleton)},e.prototype.onBtnTest=function(){var t=this.sk.findSlot("W"),e=this.sk.skeletonData.getRuntimeData(),i=e.findSkin("003"),n=e.findSlotIndex("W"),o=i.getAttachment(n,"W");t.setAttachment(o);var a=this.sk.findSlot("chibang_zuo"),s=e.findSlotIndex("chibang_zuo"),r=i.getAttachment(s,"chibang_zuo");a.setAttachment(r);var c=this.sk.findSlot("AF"),l=e.findSlotIndex("AF"),p=i.getAttachment(l,"AF");c.setAttachment(p)},e.prototype.onbtnACT=function(){this.ad.opacity=255==this.ad.opacity?0:255},a([c(cc.Node)],e.prototype,"hero",void 0),a([c(cc.Node)],e.prototype,"ad",void 0),a([r],e)}(cc.Component);i.default=l,cc._RF.pop()},{}],TextureMgr:[function(t,e,i){"use strict";cc._RF.push(e,"98cfcA7GElCJJ+6yq4llCdT","TextureMgr");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),a=this&&this.__decorate||function(t,e,i,n){var o,a=arguments.length,s=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var r=t.length-1;r>=0;r--)(o=t[r])&&(s=(a<3?o(s):a>3?o(e,i,s):o(e,i))||s);return a>3&&s&&Object.defineProperty(e,i,s),s};Object.defineProperty(i,"__esModule",{value:!0});var s=t("./nativets/Config"),r=cc._decorator,c=r.ccclass,l=r.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.heroIconSf=[],e.heroIconGameSf=[],e.heroIconRectSf=[],e.heroIconRectMapselectSf=[],e.bossIconGameSf=[],e.monsterIconGameSf=[],e.petIconSf=[],e.petIconBoxSf=[],e.petIconBoxMapselectSf=[],e.lvSf=[],e.weaponSf=[],e.armorSf=[],e.ringSf=[],e.ornamentSf=[],e.wingSf=[],e.soulSf=[],e.skillZYSf=[],e.skillDCSf=[],e.skillDQSf=[],e.rewardSfInGame=[],e.rewardBg=null,e.coinSf=null,e.rewardSf=null,e.addHpSf=null,e.lockSf=null,e.soulRankSf=[],e}var i;return o(e,t),i=e,e.prototype.init=function(){this.typeAttrs=[this.weaponSf,this.armorSf,this.ringSf,this.ornamentSf,this.wingSf,this.soulSf],this.SkillAttrs=[this.skillZYSf,this.skillDCSf,this.skillDQSf]},e.prototype.onLoad=function(){i.instance=this,this.init()},e.prototype.getLvIconById=function(t){var e=s.getLvId(t);return this.lvSf[e-1]},e.prototype.getEquipmentIconById=function(t){var e=s.getTypeId(t)-1,i=s.getIndexId(t)-1;return this.typeAttrs[e][i]},e.prototype.getSoulIconById=function(t){var e=s.getLvId(t)-1,i=s.getIndexId(t)-1;return this.soulSf[9*e+i]},e.prototype.getSoulRankIconById=function(t){var e=s.getLvId(t)-1;return this.soulRankSf[e]},e.instance=null,a([l([cc.SpriteFrame])],e.prototype,"heroIconSf",void 0),a([l([cc.SpriteFrame])],e.prototype,"heroIconGameSf",void 0),a([l([cc.SpriteFrame])],e.prototype,"heroIconRectSf",void 0),a([l([cc.SpriteFrame])],e.prototype,"heroIconRectMapselectSf",void 0),a([l([cc.SpriteFrame])],e.prototype,"bossIconGameSf",void 0),a([l([cc.SpriteFrame])],e.prototype,"monsterIconGameSf",void 0),a([l([cc.SpriteFrame])],e.prototype,"petIconSf",void 0),a([l([cc.SpriteFrame])],e.prototype,"petIconBoxSf",void 0),a([l([cc.SpriteFrame])],e.prototype,"petIconBoxMapselectSf",void 0),a([l([cc.SpriteFrame])],e.prototype,"lvSf",void 0),a([l([cc.SpriteFrame])],e.prototype,"weaponSf",void 0),a([l([cc.SpriteFrame])],e.prototype,"armorSf",void 0),a([l([cc.SpriteFrame])],e.prototype,"ringSf",void 0),a([l([cc.SpriteFrame])],e.prototype,"ornamentSf",void 0),a([l([cc.SpriteFrame])],e.prototype,"wingSf",void 0),a([l([cc.SpriteFrame])],e.prototype,"soulSf",void 0),a([l([cc.SpriteFrame])],e.prototype,"skillZYSf",void 0),a([l([cc.SpriteFrame])],e.prototype,"skillDCSf",void 0),a([l([cc.SpriteFrame])],e.prototype,"skillDQSf",void 0),a([l([cc.SpriteFrame])],e.prototype,"rewardSfInGame",void 0),a([l(cc.SpriteFrame)],e.prototype,"rewardBg",void 0),a([l(cc.SpriteFrame)],e.prototype,"coinSf",void 0),a([l(cc.SpriteFrame)],e.prototype,"rewardSf",void 0),a([l(cc.SpriteFrame)],e.prototype,"addHpSf",void 0),a([l(cc.SpriteFrame)],e.prototype,"lockSf",void 0),a([l([cc.SpriteFrame])],e.prototype,"soulRankSf",void 0),i=a([c],e)}(cc.Component);i.default=p,cc._RF.pop()},{"./nativets/Config":"Config"}],TimeLimit:[function(t,e,i){"use strict";cc._RF.push(e,"38be6rqDOpEX7enYKmVIQSb","TimeLimit");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),a=this&&this.__decorate||function(t,e,i,n){var o,a=arguments.length,s=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var r=t.length-1;r>=0;r--)(o=t[r])&&(s=(a<3?o(s):a>3?o(e,i,s):o(e,i))||s);return a>3&&s&&Object.defineProperty(e,i,s),s};Object.defineProperty(i,"__esModule",{value:!0});var s=t("../Audio"),r=t("../UserDataInfo"),c=cc._decorator,l=c.ccclass,p=(c.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.init=function(){this.closeBtn=this.node.getChildByName("box").getChildByName("close"),this.petNode=this.node.getChildByName("pet"),this.wingNode=this.node.getChildByName("wing"),this.titleLabel=this.node.getChildByName("box").getChildByName("title").getComponent(cc.Label)},e.prototype.onLoad=function(){this.init()},e.prototype.open=function(t){(t||"1"!=r.UserDataInfo.instance.getDataByType(r.DataFields.reward_wing))&&(this.isPet=t,this.petNode.active=t,this.wingNode.active=!t,this.titleLabel.string=t?"\u9650\u65f6\u795e\u5ba0\u793c\u5305":"\u9650\u65f6\u795e\u7fc5",this.node.active=!0)},e.prototype.onBtnVideo=function(){s.default.instance.playAudio("BtnClick"),this.onClose()},e.prototype.onBtnClose=function(){s.default.instance.playAudio("BtnClick"),this.onClose()},e.prototype.onClose=function(){this.node.active=!1,this.node.emit("close_limit")},e.prototype.onEnable=function(){var t=this;this.closeBtn||this.init(),this.unscheduleAllCallbacks(),this.closeBtn.active=!1,this.scheduleOnce(function(){t.closeBtn.active=!0},1)},a([l],e)}(cc.Component));i.default=p,cc._RF.pop()},{"../Audio":"Audio","../UserDataInfo":"UserDataInfo"}],TimeMgr:[function(t,e,i){"use strict";cc._RF.push(e,"a889bX1K/pEH5qqCUubNG9O","TimeMgr"),Object.defineProperty(i,"__esModule",{value:!0});var n=function(){function t(){}return t.getFullYMD=function(t){var e,i,n=t.getMonth()+1;e=n<10?"0"+n:String(n);var o=t.getDate();return i=o<10?"0"+o:String(o),""+t.getFullYear()+e+i},t.getFullYMDToday=function(){return this.getFullYMD(new Date)},t.getFullYMDYesterday=function(){return this.getFullYMD(new Date(Date.now()-864e5))},t.getFullYMDTomorrow=function(){return this.getFullYMD(new Date(Date.now()+864e5))},t.getDelayNow=function(e){return t.getDelayDay(e,t.getFullYMD(new Date))},t.getDelayDay=function(t,e){var i=parseInt(t.substring(0,4)),n=parseInt(t.substring(4,6)),o=parseInt(t.substring(6,8)),a=new Date(i,n,o),s=parseInt(e.substring(0,4)),r=parseInt(e.substring(4,6)),c=parseInt(e.substring(6,8));return(new Date(s,r,c).getTime()-a.getTime())/864e5},t.formatTime=function(t){var e=t%60<10?"0"+Math.floor(t%60):""+Math.floor(t%60);return(t/60<10?"0"+Math.floor(t/60):""+Math.floor(t/60))+":"+e},t.formatTimeH=function(t){var e=t%60<10?"0"+Math.floor(t%60):""+Math.floor(t%60),i=Math.floor(t/3600);return i+":"+((t-3600*i)/60<10?"0"+Math.floor((t-3600*i)/60):""+Math.floor((t-3600*i)/60))+":"+e},t}();i.default=n,cc._RF.pop()},{}],Tips:[function(t,e,i){"use strict";cc._RF.push(e,"68fa5Ud79NJcYCRk2BKXXGX","Tips");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),a=this&&this.__decorate||function(t,e,i,n){var o,a=arguments.length,s=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var r=t.length-1;r>=0;r--)(o=t[r])&&(s=(a<3?o(s):a>3?o(e,i,s):o(e,i))||s);return a>3&&s&&Object.defineProperty(e,i,s),s};Object.defineProperty(i,"__esModule",{value:!0});var s=t("../Audio"),r=cc._decorator,c=r.ccclass,l=r.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.sfArrs=[],e.isGame=!1,e}return o(e,t),e.prototype.init=function(){this.anim=this.node.getComponent(cc.Animation),this.bg=this.node.getChildByName("bg").getComponent(cc.Sprite),this.ceNode=this.node.getChildByName("ce"),this.upNode=this.node.getChildByName("up"),this.upIcon=this.upNode.getComponent(cc.Sprite),this.label=this.ceNode.getChildByName("num").getComponent(cc.Label),this.anim.on(cc.Animation.EventType.FINISHED,this.hideSuccess,this)},e.prototype.onLoad=function(){this.init()},e.prototype.showSuccess=function(t){s.default.instance.playAudio("CEUp"),this.anim&&(this.bg.spriteFrame=this.sfArrs[0],this.ceNode&&(this.ceNode.active=!0),this.upIcon.spriteFrame=null,this.anim.stop(),this.unscheduleAllCallbacks(),this.node&&(this.node.active=!0),this.anim.play(),t&&(this.label.string=t))},e.prototype.hideSuccess=function(){var t=this;this.scheduleOnce(function(){t.isGame?t.node.destroy():t.node.active=!1},1.5)},e.prototype.showSuccessInGame=function(t){s.default.instance.playAudio("CEUp"),this.isGame=!0,this.anim&&(this.bg.spriteFrame=this.sfArrs[0],this.ceNode.active=!0,this.upIcon.spriteFrame=null,this.anim.stop(),this.unscheduleAllCallbacks(),this.node.active=!0,this.anim.play(),t&&(this.label.string=t))},e.prototype.showRankUp=function(t){s.default.instance.playAudio("CEUp"),this.anim&&(this.bg.spriteFrame=t?this.sfArrs[0]:this.sfArrs[1],this.ceNode.active=!1,this.upIcon.spriteFrame=t?this.sfArrs[2]:this.sfArrs[3],this.anim.stop(),this.unscheduleAllCallbacks(),this.node.active=!0,this.anim.play())},e.prototype.showUpgrade=function(t){s.default.instance.playAudio("CEUp"),this.anim&&(this.bg.spriteFrame=t?this.sfArrs[0]:this.sfArrs[1],this.ceNode.active=!1,this.upIcon.spriteFrame=t?this.sfArrs[4]:this.sfArrs[5],this.anim.stop(),this.unscheduleAllCallbacks(),this.node.active=!0,this.anim.play())},a([l([cc.SpriteFrame])],e.prototype,"sfArrs",void 0),a([c],e)}(cc.Component);i.default=p,cc._RF.pop()},{"../Audio":"Audio"}],UVMove:[function(t,e,i){"use strict";cc._RF.push(e,"b6789klXkZCmaFl7Uy5fudG","UVMove");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),a=this&&this.__decorate||function(t,e,i,n){var o,a=arguments.length,s=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var r=t.length-1;r>=0;r--)(o=t[r])&&(s=(a<3?o(s):a>3?o(e,i,s):o(e,i))||s);return a>3&&s&&Object.defineProperty(e,i,s),s};Object.defineProperty(i,"__esModule",{value:!0});var s=cc._decorator,r=s.ccclass,c=(s.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.time=0,e}return o(e,t),e.prototype.onLoad=function(){this.material=this.node.getComponent(cc.Sprite).getMaterial(0)},e.prototype.effect=function(){this.schedule(this.upd,0,cc.macro.REPEAT_FOREVER,1)},e.prototype.upd=function(){this.time+=.01,this.material.effect.setProperty("time",this.time)},e.prototype.onEnable=function(){this.effect()},a([r],e)}(cc.Component));i.default=c,cc._RF.pop()},{}],UserDataInfo:[function(t,e,i){"use strict";cc._RF.push(e,"3b990+L7rdFGq9D9edrVlPb","UserDataInfo"),Object.defineProperty(i,"__esModule",{value:!0}),i.UserDataInfo=i.DataFields=void 0;var n,o=t("../commen/CryptoJS"),a=t("./Tool/TimeMgr");(function(t){t[t.music=0]="music",t[t.effect=1]="effect",t[t.sidebar=2]="sidebar",t[t.money=3]="money",t[t.language=4]="language",t[t.lastLoginTime=5]="lastLoginTime",t[t.first_select=6]="first_select",t[t.openId=7]="openId",t[t.map_data=8]="map_data",t[t.map_box=9]="map_box",t[t.hero_global_data=10]="hero_global_data",t[t.hero_data=11]="hero_data",t[t.save_date=12]="save_date",t[t.time_limit=13]="time_limit",t[t.box_limit=14]="box_limit",t[t.reward_wing=15]="reward_wing",t[t.sign_data=16]="sign_data",t[t.wing_reward=17]="wing_reward",t[t.equipment_attrs=18]="equipment_attrs"})(n=i.DataFields||(i.DataFields={}));var s=function(){function t(){this.itemArray={},this.data_music=this.defaultData(cc.sys.localStorage.getItem(this.getCryptoItem("music")))||"1",this.data_effect=this.defaultData(cc.sys.localStorage.getItem(this.getCryptoItem("effect")))||"1",this.data_sidebar=this.defaultData(cc.sys.localStorage.getItem(this.getCryptoItem("side_bar")))||"0",this.data_money=this.defaultData(cc.sys.localStorage.getItem(this.getCryptoItem("money")))||"100",this.data_language=this.defaultData(cc.sys.localStorage.getItem(this.getCryptoItem("language")))||"0",this.data_first_select=this.defaultData(cc.sys.localStorage.getItem(this.getCryptoItem("first_select")))||"0",this.data_openId=this.defaultData(cc.sys.localStorage.getItem(this.getCryptoItem("open_id")))||"";for(var t=[[],[],[]],e=0;e<3;e++)t[e].length=40,t[e].fill(0);this.data_map_data=this.defaultObject(this.defaultData(cc.sys.localStorage.getItem(this.getCryptoItem("map_data"))),t);var i=[];for(e=0;e<12;e++)i[e]=[],i[e].length=3,i[e].fill(0);this.data_box_data=this.defaultObject(this.defaultData(cc.sys.localStorage.getItem(this.getCryptoItem("map_box"))),i),this.data_hero_global=this.defaultObject(this.defaultData(cc.sys.localStorage.getItem(this.getCryptoItem("hero_global"))),this.defaultHeroData()),this.data_hero_data=this.defaultObject(this.defaultData(cc.sys.localStorage.getItem(this.getCryptoItem("hero_data"))),this.defaultHeroDataArray()),this.data_save_date=this.defaultObject(this.defaultData(cc.sys.localStorage.getItem(this.getCryptoItem("save_date"))),this.defaultSaveDate()),this.data_sign_data=this.defaultObject(this.defaultData(cc.sys.localStorage.getItem(this.getCryptoItem("sign_data"))),this.defaultSignData()),this.data_time_limit=this.defaultData(cc.sys.localStorage.getItem(this.getCryptoItem("time_limit")))||"3600",this.data_box_limit=this.defaultObject(this.defaultData(cc.sys.localStorage.getItem(this.getCryptoItem("box_limit"))),{win:0,lose:0,limitCount:0}),this.data_equipment_attrs=this.defaultObject(this.defaultData(cc.sys.localStorage.getItem(this.getCryptoItem("equipment_attrs"))),this.defaultEquipmentAttrs()),this.data_reward_wing=this.defaultData(cc.sys.localStorage.getItem(this.getCryptoItem("reward_wing")))||"0"}return Object.defineProperty(t,"instance",{get:function(){return this._instance||(this._instance=new t),this._instance},enumerable:!1,configurable:!0}),t.prototype.getCryptoItem=function(t){return this.itemArray[t]?this.itemArray[t]:(this.itemArray[t]=o.default.encodeBase64(o.default.parseUtf8(t)),this.itemArray[t])},t.prototype.changeStrData=function(t,e,i,n){return t&&i!=t?(e.str=n,e.data=t,t):(e.str=n,e.data=i,i)},t.prototype.changeArrayData=function(t,e,i,n){return t?(e.str=n,e.data=JSON.parse(t),JSON.parse(t)):(e.str=n,e.data=i,i)},t.prototype.getStrByType=function(t,e){var i={str:"",data:""};switch(t){case n.music:this.data_music=this.changeStrData(e,i,this.data_music,"music");break;case n.effect:this.data_effect=this.changeStrData(e,i,this.data_effect,"effect");break;case n.sidebar:this.data_sidebar=this.changeStrData(e,i,this.data_sidebar,"side_bar");break;case n.money:this.data_money=this.changeStrData(e,i,this.data_money,"money");break;case n.lastLoginTime:this.data_lastLoginTime=this.changeStrData(e,i,this.data_lastLoginTime,"last_login_time");break;case n.language:this.data_language=this.changeStrData(e,i,this.data_language,"language");break;case n.openId:this.data_openId=this.changeStrData(e,i,this.data_openId,"open_id");break;case n.first_select:this.data_first_select=this.changeStrData(e,i,this.data_first_select,"first_select");break;case n.map_data:this.data_map_data=this.changeArrayData(e,i,this.data_map_data,"map_data");break;case n.map_box:this.data_box_data=this.changeArrayData(e,i,this.data_box_data,"map_box");break;case n.hero_global_data:this.data_hero_global=this.changeArrayData(e,i,this.data_hero_global,"hero_global");break;case n.hero_data:this.data_hero_data=this.changeArrayData(e,i,this.data_hero_data,"hero_data");break;case n.save_date:this.data_save_date=this.changeStrData(e,i,this.data_save_date,"save_date");break;case n.time_limit:this.data_time_limit=this.changeStrData(e,i,this.data_time_limit,"time_limit");break;case n.box_limit:this.data_box_limit=this.changeArrayData(e,i,this.data_box_limit,"box_limit");break;case n.sign_data:this.data_sign_data=this.changeArrayData(e,i,this.data_sign_data,"sign_data");break;case n.reward_wing:this.data_reward_wing=this.changeStrData(e,i,this.data_reward_wing,"reward_wing");break;case n.equipment_attrs:this.data_equipment_attrs=this.changeArrayData(e,i,this.data_equipment_attrs,"equipment_attrs")}return i},t.prototype.defaultObject=function(t,e){return t?JSON.parse(t):e||{}},t.prototype.defaultData=function(t){return t?o.default.decode(t):null},t.prototype.defaultHeroData=function(){return{Exp:0,Life:400,Coins:3e10,Jade:4e5,Unlock:1,MainHeroIndex:0,OtherHeroIndex:1,PetIndex:-1,MonsterKillCount:0,HighestCE:0,AchieveCountData:[0,0,0,0,0,0,0,0,0,0],AchieveGetCountData:[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1]}},t.prototype.defaultHeroDataArray=function(){for(var t=[],e=[11101e4,12104e4,13107e4],i=[21101e4,22104e4,23107e4],n=0;n<3;n++)t.push({Weapon:e[n],Armor:i[n],Wing:-1,Ring:-1,Ornament:-1,SkillAttrs:[0,0,0,0,0,-1,-1]});return t},t.prototype.defaultSaveDate=function(){return{date:a.default.getFullYMDYesterday(),lifeCount:0,coinsCount:0,jadeCount:0,activityCount:0,taskCountData:[1,0,0,0,0,0,0,0,0],taskGetCountData:[0,0,0,0,0,0,0,0,0]}},t.prototype.defaultEquipmentAttrs=function(){return{WeaponAttrs:[11101e4,12104e4,13107e4],ArmorAttrs:[21101e4,22104e4,23107e4],RingAttrs:[],OrnamentAttrs:[],WingAttrs:[],PetLvAttrs:[0,0,0],BookAttrs:[],SoulAttrs:[60108]}},t.prototype.defaultSignData=function(){return{start_date:a.default.getFullYMDToday(),sign_attrs:"0000000",needReset:!1,hadRetro:a.default.getFullYMDYesterday()}},t.prototype.getDataByType=function(t){return this.getStrByType(t).data},t.prototype.changeDataByType=function(t,e){var i,n=this;new Promise(function(o){i=n.getStrByType(t,e),o({data:e,dataStr:i.str})}).then(function(t){cc.sys.localStorage.setItem(n.getCryptoItem(t.dataStr),o.default.encode(t.data))})},t}();i.UserDataInfo=s,cc._RF.pop()},{"../commen/CryptoJS":"CryptoJS","./Tool/TimeMgr":"TimeMgr"}],ZH:[function(t,e,i){"use strict";cc._RF.push(e,"e3038v3+EVEspDV0kPGUkLo","ZH"),Object.defineProperty(i,"__esModule",{value:!0}),i.default={1:"\u4e00",2:"\u4e8c",3:"\u4e09",4:"\u56db",5:"\u4e94",6:"\u516d",7:"\u4e03",8:"\u516b",9:"\u4e5d",10:"\u5341",textNull:"\u65e0",star1:"\u4e00\u661f",star2:"\u4e8c\u661f",star3:"\u4e09\u661f",star4:"\u56db\u661f",star5:"\u4e94\u661f",star6:"\u516d\u661f",lvup:"\u5347\u7ea7",coins:"\u91d1\u5e01",lv:"\u7b49\u7ea7",soul:"\u6b66\u9b42",endHome:"\u8fd4\u56de\u4e3b\u9875",endNext:"\u4e0b\u4e00\u5173",endRevive:"\u590d\u6d3b",endTask0:"\u6210\u529f\u901a\u5173",endTask1:"\u5269\u4f59\u8840\u91cf\u5927\u4e8e60%",endTask2:"\u901a\u5173\u65f6\u95f4\u5c11\u4e8e180S",Task0:"\u6210\u529f\u901a\u5173",Task1:"${time}\u79d2\u5185\u901a\u5173",Task2:"\u4e0d\u4f7f\u7528\u8f85\u52a9\u6280\u80fd",Task3:"\u8fde\u51fb\u8fbe\u5230${combo}",Task4:"\u8840\u91cf${hp}%\u901a\u5173",pauseHome:"\u9000\u51fa\u5173\u5361",pauseRestart:"\u91cd\u65b0\u518d\u6765",pauseResume:"\u7ee7\u7eed\u6218\u6597",settingEffect:"\u97f3\u6548",settingBgm:"\u97f3\u4e50",settingOn:"\u5f00",settingOff:"\u5173",settingOk:"\u786e\u8ba4",settingCancel:"\u53d6\u6d88",mapTitle1:"\u7b2c\u4e00\u7ae0 \u7af9\u6797\u76f8\u9047",mapTitle2:"\u7b2c\u4e8c\u7ae0 \u5c71\u4e2d\u6fc0\u6218",mapTitle3:"\u7b2c\u4e09\u7ae0 \u96ea\u5c71\u9ccc\u6597",mapTitle4:"\u7b2c\u56db\u7ae0 \u9a71\u9010\u51fa\u5173",mapSelectStart:"\u5f00\u59cb\u6e38\u620f",mapSelectConsume:"\u6d88\u8017\u4e24\u519b\u7cae",mapSelectMission:"\u7b2c${x}\u7ae0",mapSelectTurn:"\u7b2c${x}\u56de",mapSelectRequirement:"\u4e09\u661f\u6761\u4ef6:",mapSelectAward:"\u6389\u843d\u7269\u54c1:",heroName0:"\u67aa\u795e",heroName1:"\u5927\u7f8e",heroName2:"\u5973\u795e",bossName0:"\u72ec\u773c\u6218\u795e",bossName1:"\u5251\u795e",bossName2:"\u864e\u58eb",petName0:"\u51e4\u51f0",petName1:"\u9752\u9f99",petName2:"\u8150\u9cb2",equipmentWeapon:"\u6b66\u5668",equipmentArmor:"\u62a4\u7532",equipmentRing:"\u6212\u6307",equipmentOrnament:"\u9970\u54c1",equipmentWing:"\u7fc5\u8180",equipmentHp:"\u751f\u547d",equipmentDef:"\u9632\u5fa1",equipmentAtk:"\u653b\u51fb",equipmentLs:"\u5438\u8840",equipmentSp:"\u79fb\u901f",equipmentBonus:"\u4f24\u5bb3",equipmentCr:"\u66b4\u51fb\u7387",equipmentArp:"\u7a7f\u900f",equipmentMiss:"\u95ea\u907f\u7387",equipmentCd:"\u51b7\u5374\u7f29\u51cf",equipmentExp:"\u7ecf\u9a8c",equipmentGold:"\u91d1\u94b1",equipmentBaseAtt:"\u3010\u57fa\u7840\u5c5e\u6027\u3011",equipmentSpecialAtt:"\u3010\u7279\u6b8a\u5c5e\u6027\u3011",equipmentSoulAtt:"\u3010\u6b66\u9b42\u5c5e\u6027\u3011",equipmentLvup:"\u7b49\u7ea7\u63d0\u5347",equipmentHpup:"\u751f\u547d\u63d0\u5347",equipmentAtkup:"\u653b\u51fb\u63d0\u5347",upgrade:"\u5347\u7ea7",equip:"\u88c5\u5907",unequip:"\u5378\u4e0b",recycle:"\u56de\u6536",enchant:"\u9644\u9b54",equiped:"\u5df2\u88c5\u5907",notEquip:"\u672a\u88c5\u5907",skillZY0:"\u96f7\u65a9\u5207",skillZY1:"\u4e5d\u5929\u795e\u96f7",skillZY2:"\u96f7\u9f99\u65a9",skillZY3:"\u795e\u96f7\u706d\u4e16",skillZY4:"\u4e0d\u52a8\u5982\u5c71",skillZY5:"\u7075\u5149\u704c\u9876",skillZY6:"\u65e0\u575a\u4e0d\u6467",skillDC0:"\u7edd\u5f71\u7bad",skillDC1:"\u591a\u91cd\u7bad",skillDC2:"\u6025\u901f\u77ac\u6740",skillDC3:"\u590d\u4ec7\u4e4b\u96e8",skillDC4:"\u70b9\u77f3\u6210\u91d1",skillDC5:"\u75be\u6b65\u5982\u98de",skillDC6:"\u767e\u6b65\u7a7f\u6768",skillDQ3:"\u5730\u7206\u5929\u661f",skillDQ2:"\u708e\u706d\u9ed1\u6d1e",skillDQ0:"\u7206\u708e\u65a9",skillDQ1:"\u6d41\u661f\u706b\u96e8\u200c",skillDQ4:"\u4f1a\u5fc3\u4e00\u51fb",skillDQ5:"\u75be\u6b65\u5982\u98de",skillDQ6:"\u767e\u6b65\u7a7f\u6768",equipmentSkillDetail:"\u6280\u80fd\u8be6\u60c5",equipmentSkillCd:"\u51b7\u5374\u65f6\u95f4",equipmentSkillDmg:"\u6280\u80fd\u4f24\u5bb3",equipmentSkillText:"",equipmentActiveSkill:"\u4e3b\u52a8\u6280\u80fd",equipmentPassiveSkill:"\u88ab\u52a8\u6280\u80fd",equipmentPetText:"\u7279\u6b8a\u6280\u80fd: \u81ea\u52a8\u62fe\u53d6\u6389\u843d\u7269\u54c1"},cc._RF.pop()},{}],aes:[function(t,e,i){"use strict";var n;cc._RF.push(e,"7c0b2FcU2lAeragv9jHUqhm","aes"),n=function(t){return function(){var e=t,i=e.lib.BlockCipher,n=e.algo,o=[],a=[],s=[],r=[],c=[],l=[],p=[],u=[],h=[],d=[];(function(){for(var t=[],e=0;e<256;e++)t[e]=e<128?e<<1:e<<1^283;var i=0,n=0;for(e=0;e<256;e++){var f=n^n<<1^n<<2^n<<3^n<<4;f=f>>>8^255&f^99,o[i]=f,a[f]=i;var m=t[i],g=t[m],y=t[g],v=257*t[f]^16843008*f;s[i]=v<<24|v>>>8,r[i]=v<<16|v>>>16,c[i]=v<<8|v>>>24,l[i]=v,v=16843009*y^65537*g^257*m^16843008*i,p[f]=v<<24|v>>>8,u[f]=v<<16|v>>>16,h[f]=v<<8|v>>>24,d[f]=v,i?(i=m^t[t[t[y^m]]],n^=t[t[n]]):i=n=1}})();var f=[0,1,2,4,8,16,32,64,128,27,54],m=n.AES=i.extend({_doReset:function(){if(!this._nRounds||this._keyPriorReset!==this._key){for(var t=this._keyPriorReset=this._key,e=t.words,i=t.sigBytes/4,n=4*((this._nRounds=i+6)+1),a=this._keySchedule=[],s=0;s<n;s++)if(s<i)a[s]=e[s];else{var r=a[s-1];s%i?i>6&&s%i==4&&(r=o[r>>>24]<<24|o[r>>>16&255]<<16|o[r>>>8&255]<<8|o[255&r]):(r=o[(r=r<<8|r>>>24)>>>24]<<24|o[r>>>16&255]<<16|o[r>>>8&255]<<8|o[255&r],r^=f[s/i|0]<<24),a[s]=a[s-i]^r}for(var c=this._invKeySchedule=[],l=0;l<n;l++)s=n-l,r=l%4?a[s]:a[s-4],c[l]=l<4||s<=4?r:p[o[r>>>24]]^u[o[r>>>16&255]]^h[o[r>>>8&255]]^d[o[255&r]]}},encryptBlock:function(t,e){this._doCryptBlock(t,e,this._keySchedule,s,r,c,l,o)},decryptBlock:function(t,e){var i=t[e+1];t[e+1]=t[e+3],t[e+3]=i,this._doCryptBlock(t,e,this._invKeySchedule,p,u,h,d,a),i=t[e+1],t[e+1]=t[e+3],t[e+3]=i},_doCryptBlock:function(t,e,i,n,o,a,s,r){for(var c=this._nRounds,l=t[e]^i[0],p=t[e+1]^i[1],u=t[e+2]^i[2],h=t[e+3]^i[3],d=4,f=1;f<c;f++){var m=n[l>>>24]^o[p>>>16&255]^a[u>>>8&255]^s[255&h]^i[d++],g=n[p>>>24]^o[u>>>16&255]^a[h>>>8&255]^s[255&l]^i[d++],y=n[u>>>24]^o[h>>>16&255]^a[l>>>8&255]^s[255&p]^i[d++],v=n[h>>>24]^o[l>>>16&255]^a[p>>>8&255]^s[255&u]^i[d++];l=m,p=g,u=y,h=v}m=(r[l>>>24]<<24|r[p>>>16&255]<<16|r[u>>>8&255]<<8|r[255&h])^i[d++],g=(r[p>>>24]<<24|r[u>>>16&255]<<16|r[h>>>8&255]<<8|r[255&l])^i[d++],y=(r[u>>>24]<<24|r[h>>>16&255]<<16|r[l>>>8&255]<<8|r[255&p])^i[d++],v=(r[h>>>24]<<24|r[l>>>16&255]<<16|r[p>>>8&255]<<8|r[255&u])^i[d++],t[e]=m,t[e+1]=g,t[e+2]=y,t[e+3]=v},keySize:8});e.AES=i._createHelper(m)}(),t.AES},"object"==typeof i?e.exports=i=n(t("./core"),t("./enc-base64"),t("./evpkdf"),t("./cipher-core")):"function"==typeof define&&define.amd?define(["./core","./enc-base64","./evpkdf","./cipher-core"],n):n((void 0).CryptoJS),cc._RF.pop()},{"./cipher-core":"cipher-core","./core":"core","./enc-base64":"enc-base64","./evpkdf":"evpkdf"}],"cipher-core":[function(t,e,i){"use strict";var n;cc._RF.push(e,"7727finVORC0I+RuLWG+KYf","cipher-core"),n=function(t){t.lib.Cipher||function(e){var i=t,n=i.lib,o=n.Base,a=n.WordArray,s=n.BufferedBlockAlgorithm,r=i.enc,c=(r.Utf8,r.Base64),l=i.algo.EvpKDF,p=n.Cipher=s.extend({cfg:o.extend(),createEncryptor:function(t,e){return this.create(this._ENC_XFORM_MODE,t,e)},createDecryptor:function(t,e){return this.create(this._DEC_XFORM_MODE,t,e)},init:function(t,e,i){this.cfg=this.cfg.extend(i),this._xformMode=t,this._key=e,this.reset()},reset:function(){s.reset.call(this),this._doReset()},process:function(t){return this._append(t),this._process()},finalize:function(t){return t&&this._append(t),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function t(t){return"string"==typeof t?_:y}return function(e){return{encrypt:function(i,n,o){return t(n).encrypt(e,i,n,o)},decrypt:function(i,n,o){return t(n).decrypt(e,i,n,o)}}}}()}),u=(n.StreamCipher=p.extend({_doFinalize:function(){return this._process(!0)},blockSize:1}),i.mode={}),h=n.BlockCipherMode=o.extend({createEncryptor:function(t,e){return this.Encryptor.create(t,e)},createDecryptor:function(t,e){return this.Decryptor.create(t,e)},init:function(t,e){this._cipher=t,this._iv=e}}),d=u.CBC=function(){var t=h.extend();function i(t,i,n){var o=this._iv;if(o){var a=o;this._iv=e}else a=this._prevBlock;for(var s=0;s<n;s++)t[i+s]^=a[s]}return t.Encryptor=t.extend({processBlock:function(t,e){var n=this._cipher,o=n.blockSize;i.call(this,t,e,o),n.encryptBlock(t,e),this._prevBlock=t.slice(e,e+o)}}),t.Decryptor=t.extend({processBlock:function(t,e){var n=this._cipher,o=n.blockSize,a=t.slice(e,e+o);n.decryptBlock(t,e),i.call(this,t,e,o),this._prevBlock=a}}),t}(),f=(i.pad={}).Pkcs7={pad:function(t,e){for(var i=4*e,n=i-t.sigBytes%i,o=n<<24|n<<16|n<<8|n,s=[],r=0;r<n;r+=4)s.push(o);var c=a.create(s,n);t.concat(c)},unpad:function(t){var e=255&t.words[t.sigBytes-1>>>2];t.sigBytes-=e}},m=(n.BlockCipher=p.extend({cfg:p.cfg.extend({mode:d,padding:f}),reset:function(){p.reset.call(this);var t=this.cfg,e=t.iv,i=t.mode;if(this._xformMode==this._ENC_XFORM_MODE)var n=i.createEncryptor;else n=i.createDecryptor,this._minBufferSize=1;this._mode&&this._mode.__creator==n?this._mode.init(this,e&&e.words):(this._mode=n.call(i,this,e&&e.words),this._mode.__creator=n)},_doProcessBlock:function(t,e){this._mode.processBlock(t,e)},_doFinalize:function(){var t=this.cfg.padding;if(this._xformMode==this._ENC_XFORM_MODE){t.pad(this._data,this.blockSize);var e=this._process(!0)}else e=this._process(!0),t.unpad(e);return e},blockSize:4}),n.CipherParams=o.extend({init:function(t){this.mixIn(t)},toString:function(t){return(t||this.formatter).stringify(this)}})),g=(i.format={}).OpenSSL={stringify:function(t){var e=t.ciphertext,i=t.salt;if(i)var n=a.create([1398893684,1701076831]).concat(i).concat(e);else n=e;return n.toString(c)},parse:function(t){var e=c.parse(t),i=e.words;if(1398893684==i[0]&&1701076831==i[1]){var n=a.create(i.slice(2,4));i.splice(0,4),e.sigBytes-=16}return m.create({ciphertext:e,salt:n})}},y=n.SerializableCipher=o.extend({cfg:o.extend({format:g}),encrypt:function(t,e,i,n){n=this.cfg.extend(n);var o=t.createEncryptor(i,n),a=o.finalize(e),s=o.cfg;return m.create({ciphertext:a,key:i,iv:s.iv,algorithm:t,mode:s.mode,padding:s.padding,blockSize:t.blockSize,formatter:n.format})},decrypt:function(t,e,i,n){return n=this.cfg.extend(n),e=this._parse(e,n.format),t.createDecryptor(i,n).finalize(e.ciphertext)},_parse:function(t,e){return"string"==typeof t?e.parse(t,this):t}}),v=(i.kdf={}).OpenSSL={execute:function(t,e,i,n){n||(n=a.random(8));var o=l.create({keySize:e+i}).compute(t,n),s=a.create(o.words.slice(e),4*i);return o.sigBytes=4*e,m.create({key:o,iv:s,salt:n})}},_=n.PasswordBasedCipher=y.extend({cfg:y.cfg.extend({kdf:v}),encrypt:function(t,e,i,n){var o=(n=this.cfg.extend(n)).kdf.execute(i,t.keySize,t.ivSize);n.iv=o.iv;var a=y.encrypt.call(this,t,e,o.key,n);return a.mixIn(o),a},decrypt:function(t,e,i,n){n=this.cfg.extend(n),e=this._parse(e,n.format);var o=n.kdf.execute(i,t.keySize,t.ivSize,e.salt);return n.iv=o.iv,y.decrypt.call(this,t,e,o.key,n)}})}()},"object"==typeof i?e.exports=i=n(t("./core"),t("./evpkdf")):"function"==typeof define&&define.amd?define(["./core","./evpkdf"],n):n((void 0).CryptoJS),cc._RF.pop()},{"./core":"core","./evpkdf":"evpkdf"}],core:[function(t,e,i){"use strict";var n;cc._RF.push(e,"477d6XNuaxAtZpTVHnfGFhD","core"),n=function(){var t=t||function(t){var e=Object.create||function(){function t(){}return function(e){var i;return t.prototype=e,i=new t,t.prototype=null,i}}(),i={},n=i.lib={},o=n.Base={extend:function(t){var i=e(this);return t&&i.mixIn(t),i.hasOwnProperty("init")&&this.init!==i.init||(i.init=function(){i.$super.init.apply(this,arguments)}),i.init.prototype=i,i.$super=this,i},create:function(){var t=this.extend();return t.init.apply(t,arguments),t},init:function(){},mixIn:function(t){for(var e in t)t.hasOwnProperty(e)&&(this[e]=t[e]);t.hasOwnProperty("toString")&&(this.toString=t.toString)},clone:function(){return this.init.prototype.extend(this)}},a=n.WordArray=o.extend({init:function(t,e){t=this.words=t||[],this.sigBytes=null!=e?e:4*t.length},toString:function(t){return(t||r).stringify(this)},concat:function(t){var e=this.words,i=t.words,n=this.sigBytes,o=t.sigBytes;if(this.clamp(),n%4)for(var a=0;a<o;a++){var s=i[a>>>2]>>>24-a%4*8&255;e[n+a>>>2]|=s<<24-(n+a)%4*8}else for(a=0;a<o;a+=4)e[n+a>>>2]=i[a>>>2];return this.sigBytes+=o,this},clamp:function(){var e=this.words,i=this.sigBytes;e[i>>>2]&=4294967295<<32-i%4*8,e.length=t.ceil(i/4)},clone:function(){var t=o.clone.call(this);return t.words=this.words.slice(0),t},random:function(e){for(var i,n=[],o=function(e){e=e;var i=987654321,n=4294967295;return function(){var o=((i=36969*(65535&i)+(i>>16)&n)<<16)+(e=18e3*(65535&e)+(e>>16)&n)&n;return o/=4294967296,(o+=.5)*(t.random()>.5?1:-1)}},s=0;s<e;s+=4){var r=o(4294967296*(i||t.random()));i=987654071*r(),n.push(4294967296*r()|0)}return new a.init(n,e)}}),s=i.enc={},r=s.Hex={stringify:function(t){for(var e=t.words,i=t.sigBytes,n=[],o=0;o<i;o++){var a=e[o>>>2]>>>24-o%4*8&255;n.push((a>>>4).toString(16)),n.push((15&a).toString(16))}return n.join("")},parse:function(t){for(var e=t.length,i=[],n=0;n<e;n+=2)i[n>>>3]|=parseInt(t.substr(n,2),16)<<24-n%8*4;return new a.init(i,e/2)}},c=s.Latin1={stringify:function(t){for(var e=t.words,i=t.sigBytes,n=[],o=0;o<i;o++){var a=e[o>>>2]>>>24-o%4*8&255;n.push(String.fromCharCode(a))}return n.join("")},parse:function(t){for(var e=t.length,i=[],n=0;n<e;n++)i[n>>>2]|=(255&t.charCodeAt(n))<<24-n%4*8;return new a.init(i,e)}},l=s.Utf8={stringify:function(t){try{return decodeURIComponent(escape(c.stringify(t)))}catch(e){throw new Error("Malformed UTF-8 data")}},parse:function(t){return c.parse(unescape(encodeURIComponent(t)))}},p=n.BufferedBlockAlgorithm=o.extend({reset:function(){this._data=new a.init,this._nDataBytes=0},_append:function(t){"string"==typeof t&&(t=l.parse(t)),this._data.concat(t),this._nDataBytes+=t.sigBytes},_process:function(e){var i=this._data,n=i.words,o=i.sigBytes,s=this.blockSize,r=o/(4*s),c=(r=e?t.ceil(r):t.max((0|r)-this._minBufferSize,0))*s,l=t.min(4*c,o);if(c){for(var p=0;p<c;p+=s)this._doProcessBlock(n,p);var u=n.splice(0,c);i.sigBytes-=l}return new a.init(u,l)},clone:function(){var t=o.clone.call(this);return t._data=this._data.clone(),t},_minBufferSize:0}),u=(n.Hasher=p.extend({cfg:o.extend(),init:function(t){this.cfg=this.cfg.extend(t),this.reset()},reset:function(){p.reset.call(this),this._doReset()},update:function(t){return this._append(t),this._process(),this},finalize:function(t){return t&&this._append(t),this._doFinalize()},blockSize:16,_createHelper:function(t){return function(e,i){return new t.init(i).finalize(e)}},_createHmacHelper:function(t){return function(e,i){return new u.HMAC.init(t,i).finalize(e)}}}),i.algo={});return i}(Math);return t},"object"==typeof i?e.exports=i=n():"function"==typeof define&&define.amd?define([],n):(void 0).CryptoJS=n(),cc._RF.pop()},{}],"crypto-js":[function(t,e,i){"use strict";var n;cc._RF.push(e,"fa50arzzX9Oappsa3wvgJPe","crypto-js"),n=function(){var t,e,i,n,o,a,s,r,c,l,p=p||function(t){var e=Object.create||function(){function t(){}return function(e){var i;return t.prototype=e,i=new t,t.prototype=null,i}}(),i={},n=i.lib={},o=n.Base={extend:function(t){var i=e(this);return t&&i.mixIn(t),i.hasOwnProperty("init")&&this.init!==i.init||(i.init=function(){i.$super.init.apply(this,arguments)}),i.init.prototype=i,i.$super=this,i},create:function(){var t=this.extend();return t.init.apply(t,arguments),t},init:function(){},mixIn:function(t){for(var e in t)t.hasOwnProperty(e)&&(this[e]=t[e]);t.hasOwnProperty("toString")&&(this.toString=t.toString)},clone:function(){return this.init.prototype.extend(this)}},a=n.WordArray=o.extend({init:function(t,e){t=this.words=t||[],this.sigBytes=null!=e?e:4*t.length},toString:function(t){return(t||r).stringify(this)},concat:function(t){var e=this.words,i=t.words,n=this.sigBytes,o=t.sigBytes;if(this.clamp(),n%4)for(var a=0;a<o;a++){var s=i[a>>>2]>>>24-a%4*8&255;e[n+a>>>2]|=s<<24-(n+a)%4*8}else for(a=0;a<o;a+=4)e[n+a>>>2]=i[a>>>2];return this.sigBytes+=o,this},clamp:function(){var e=this.words,i=this.sigBytes;e[i>>>2]&=4294967295<<32-i%4*8,e.length=t.ceil(i/4)},clone:function(){var t=o.clone.call(this);return t.words=this.words.slice(0),t},random:function(e){for(var i,n=[],o=function(e){e=e;var i=987654321,n=4294967295;return function(){var o=((i=36969*(65535&i)+(i>>16)&n)<<16)+(e=18e3*(65535&e)+(e>>16)&n)&n;return o/=4294967296,(o+=.5)*(t.random()>.5?1:-1)}},s=0;s<e;s+=4){var r=o(4294967296*(i||t.random()));i=987654071*r(),n.push(4294967296*r()|0)}return new a.init(n,e)}}),s=i.enc={},r=s.Hex={stringify:function(t){for(var e=t.words,i=t.sigBytes,n=[],o=0;o<i;o++){var a=e[o>>>2]>>>24-o%4*8&255;n.push((a>>>4).toString(16)),n.push((15&a).toString(16))}return n.join("")},parse:function(t){for(var e=t.length,i=[],n=0;n<e;n+=2)i[n>>>3]|=parseInt(t.substr(n,2),16)<<24-n%8*4;return new a.init(i,e/2)}},c=s.Latin1={stringify:function(t){for(var e=t.words,i=t.sigBytes,n=[],o=0;o<i;o++){var a=e[o>>>2]>>>24-o%4*8&255;n.push(String.fromCharCode(a))}return n.join("")},parse:function(t){for(var e=t.length,i=[],n=0;n<e;n++)i[n>>>2]|=(255&t.charCodeAt(n))<<24-n%4*8;return new a.init(i,e)}},l=s.Utf8={stringify:function(t){try{return decodeURIComponent(escape(c.stringify(t)))}catch(e){throw new Error("Malformed UTF-8 data")}},parse:function(t){return c.parse(unescape(encodeURIComponent(t)))}},p=n.BufferedBlockAlgorithm=o.extend({reset:function(){this._data=new a.init,this._nDataBytes=0},_append:function(t){"string"==typeof t&&(t=l.parse(t)),this._data.concat(t),this._nDataBytes+=t.sigBytes},_process:function(e){var i=this._data,n=i.words,o=i.sigBytes,s=this.blockSize,r=o/(4*s),c=(r=e?t.ceil(r):t.max((0|r)-this._minBufferSize,0))*s,l=t.min(4*c,o);if(c){for(var p=0;p<c;p+=s)this._doProcessBlock(n,p);var u=n.splice(0,c);i.sigBytes-=l}return new a.init(u,l)},clone:function(){var t=o.clone.call(this);return t._data=this._data.clone(),t},_minBufferSize:0}),u=(n.Hasher=p.extend({cfg:o.extend(),init:function(t){this.cfg=this.cfg.extend(t),this.reset()},reset:function(){p.reset.call(this),this._doReset()},update:function(t){return this._append(t),this._process(),this},finalize:function(t){return t&&this._append(t),this._doFinalize()},blockSize:16,_createHelper:function(t){return function(e,i){return new t.init(i).finalize(e)}},_createHmacHelper:function(t){return function(e,i){return new u.HMAC.init(t,i).finalize(e)}}}),i.algo={});return i}(Math);return function(){var t=p,e=t.lib.WordArray;function i(t,i,n){for(var o=[],a=0,s=0;s<i;s++)if(s%4){var r=n[t.charCodeAt(s-1)]<<s%4*2,c=n[t.charCodeAt(s)]>>>6-s%4*2;o[a>>>2]|=(r|c)<<24-a%4*8,a++}return e.create(o,a)}t.enc.Base64={stringify:function(t){var e=t.words,i=t.sigBytes,n=this._map;t.clamp();for(var o=[],a=0;a<i;a+=3)for(var s=(e[a>>>2]>>>24-a%4*8&255)<<16|(e[a+1>>>2]>>>24-(a+1)%4*8&255)<<8|e[a+2>>>2]>>>24-(a+2)%4*8&255,r=0;r<4&&a+.75*r<i;r++)o.push(n.charAt(s>>>6*(3-r)&63));var c=n.charAt(64);if(c)for(;o.length%4;)o.push(c);return o.join("")},parse:function(t){var e=t.length,n=this._map,o=this._reverseMap;if(!o){o=this._reverseMap=[];for(var a=0;a<n.length;a++)o[n.charCodeAt(a)]=a}var s=n.charAt(64);if(s){var r=t.indexOf(s);-1!==r&&(e=r)}return i(t,e,o)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}}(),function(t){var e=p,i=e.lib,n=i.WordArray,o=i.Hasher,a=e.algo,s=[];(function(){for(var e=0;e<64;e++)s[e]=4294967296*t.abs(t.sin(e+1))|0})();var r=a.MD5=o.extend({_doReset:function(){this._hash=new n.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(t,e){for(var i=0;i<16;i++){var n=e+i,o=t[n];t[n]=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8)}var a=this._hash.words,r=t[e+0],p=t[e+1],d=t[e+2],f=t[e+3],m=t[e+4],g=t[e+5],y=t[e+6],v=t[e+7],_=t[e+8],b=t[e+9],C=t[e+10],S=t[e+11],x=t[e+12],A=t[e+13],k=t[e+14],B=t[e+15],I=a[0],w=a[1],M=a[2],P=a[3];I=c(I,w,M,P,r,7,s[0]),P=c(P,I,w,M,p,12,s[1]),M=c(M,P,I,w,d,17,s[2]),w=c(w,M,P,I,f,22,s[3]),I=c(I,w,M,P,m,7,s[4]),P=c(P,I,w,M,g,12,s[5]),M=c(M,P,I,w,y,17,s[6]),w=c(w,M,P,I,v,22,s[7]),I=c(I,w,M,P,_,7,s[8]),P=c(P,I,w,M,b,12,s[9]),M=c(M,P,I,w,C,17,s[10]),w=c(w,M,P,I,S,22,s[11]),I=c(I,w,M,P,x,7,s[12]),P=c(P,I,w,M,A,12,s[13]),M=c(M,P,I,w,k,17,s[14]),I=l(I,w=c(w,M,P,I,B,22,s[15]),M,P,p,5,s[16]),P=l(P,I,w,M,y,9,s[17]),M=l(M,P,I,w,S,14,s[18]),w=l(w,M,P,I,r,20,s[19]),I=l(I,w,M,P,g,5,s[20]),P=l(P,I,w,M,C,9,s[21]),M=l(M,P,I,w,B,14,s[22]),w=l(w,M,P,I,m,20,s[23]),I=l(I,w,M,P,b,5,s[24]),P=l(P,I,w,M,k,9,s[25]),M=l(M,P,I,w,f,14,s[26]),w=l(w,M,P,I,_,20,s[27]),I=l(I,w,M,P,A,5,s[28]),P=l(P,I,w,M,d,9,s[29]),M=l(M,P,I,w,v,14,s[30]),I=u(I,w=l(w,M,P,I,x,20,s[31]),M,P,g,4,s[32]),P=u(P,I,w,M,_,11,s[33]),M=u(M,P,I,w,S,16,s[34]),w=u(w,M,P,I,k,23,s[35]),I=u(I,w,M,P,p,4,s[36]),P=u(P,I,w,M,m,11,s[37]),M=u(M,P,I,w,v,16,s[38]),w=u(w,M,P,I,C,23,s[39]),I=u(I,w,M,P,A,4,s[40]),P=u(P,I,w,M,r,11,s[41]),M=u(M,P,I,w,f,16,s[42]),w=u(w,M,P,I,y,23,s[43]),I=u(I,w,M,P,b,4,s[44]),P=u(P,I,w,M,x,11,s[45]),M=u(M,P,I,w,B,16,s[46]),I=h(I,w=u(w,M,P,I,d,23,s[47]),M,P,r,6,s[48]),P=h(P,I,w,M,v,10,s[49]),M=h(M,P,I,w,k,15,s[50]),w=h(w,M,P,I,g,21,s[51]),I=h(I,w,M,P,x,6,s[52]),P=h(P,I,w,M,f,10,s[53]),M=h(M,P,I,w,C,15,s[54]),w=h(w,M,P,I,p,21,s[55]),I=h(I,w,M,P,_,6,s[56]),P=h(P,I,w,M,B,10,s[57]),M=h(M,P,I,w,y,15,s[58]),w=h(w,M,P,I,A,21,s[59]),I=h(I,w,M,P,m,6,s[60]),P=h(P,I,w,M,S,10,s[61]),M=h(M,P,I,w,d,15,s[62]),w=h(w,M,P,I,b,21,s[63]),a[0]=a[0]+I|0,a[1]=a[1]+w|0,a[2]=a[2]+M|0,a[3]=a[3]+P|0},_doFinalize:function(){var e=this._data,i=e.words,n=8*this._nDataBytes,o=8*e.sigBytes;i[o>>>5]|=128<<24-o%32;var a=t.floor(n/4294967296),s=n;i[15+(o+64>>>9<<4)]=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),i[14+(o+64>>>9<<4)]=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8),e.sigBytes=4*(i.length+1),this._process();for(var r=this._hash,c=r.words,l=0;l<4;l++){var p=c[l];c[l]=16711935&(p<<8|p>>>24)|4278255360&(p<<24|p>>>8)}return r},clone:function(){var t=o.clone.call(this);return t._hash=this._hash.clone(),t}});function c(t,e,i,n,o,a,s){var r=t+(e&i|~e&n)+o+s;return(r<<a|r>>>32-a)+e}function l(t,e,i,n,o,a,s){var r=t+(e&n|i&~n)+o+s;return(r<<a|r>>>32-a)+e}function u(t,e,i,n,o,a,s){var r=t+(e^i^n)+o+s;return(r<<a|r>>>32-a)+e}function h(t,e,i,n,o,a,s){var r=t+(i^(e|~n))+o+s;return(r<<a|r>>>32-a)+e}e.MD5=o._createHelper(r),e.HmacMD5=o._createHmacHelper(r)}(Math),e=(t=p).lib,i=e.WordArray,n=e.Hasher,o=t.algo,a=[],s=o.SHA1=n.extend({_doReset:function(){this._hash=new i.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(t,e){for(var i=this._hash.words,n=i[0],o=i[1],s=i[2],r=i[3],c=i[4],l=0;l<80;l++){if(l<16)a[l]=0|t[e+l];else{var p=a[l-3]^a[l-8]^a[l-14]^a[l-16];a[l]=p<<1|p>>>31}var u=(n<<5|n>>>27)+c+a[l];u+=l<20?1518500249+(o&s|~o&r):l<40?1859775393+(o^s^r):l<60?(o&s|o&r|s&r)-1894007588:(o^s^r)-899497514,c=r,r=s,s=o<<30|o>>>2,o=n,n=u}i[0]=i[0]+n|0,i[1]=i[1]+o|0,i[2]=i[2]+s|0,i[3]=i[3]+r|0,i[4]=i[4]+c|0},_doFinalize:function(){var t=this._data,e=t.words,i=8*this._nDataBytes,n=8*t.sigBytes;return e[n>>>5]|=128<<24-n%32,e[14+(n+64>>>9<<4)]=Math.floor(i/4294967296),e[15+(n+64>>>9<<4)]=i,t.sigBytes=4*e.length,this._process(),this._hash},clone:function(){var t=n.clone.call(this);return t._hash=this._hash.clone(),t}}),t.SHA1=n._createHelper(s),t.HmacSHA1=n._createHmacHelper(s),function(t){var e=p,i=e.lib,n=i.WordArray,o=i.Hasher,a=e.algo,s=[],r=[];(function(){function e(e){for(var i=t.sqrt(e),n=2;n<=i;n++)if(!(e%n))return!1;return!0}function i(t){return 4294967296*(t-(0|t))|0}for(var n=2,o=0;o<64;)e(n)&&(o<8&&(s[o]=i(t.pow(n,.5))),r[o]=i(t.pow(n,1/3)),o++),n++})();var c=[],l=a.SHA256=o.extend({_doReset:function(){this._hash=new n.init(s.slice(0))},_doProcessBlock:function(t,e){for(var i=this._hash.words,n=i[0],o=i[1],a=i[2],s=i[3],l=i[4],p=i[5],u=i[6],h=i[7],d=0;d<64;d++){if(d<16)c[d]=0|t[e+d];else{var f=c[d-15],m=(f<<25|f>>>7)^(f<<14|f>>>18)^f>>>3,g=c[d-2],y=(g<<15|g>>>17)^(g<<13|g>>>19)^g>>>10;c[d]=m+c[d-7]+y+c[d-16]}var v=n&o^n&a^o&a,_=(n<<30|n>>>2)^(n<<19|n>>>13)^(n<<10|n>>>22),b=h+((l<<26|l>>>6)^(l<<21|l>>>11)^(l<<7|l>>>25))+(l&p^~l&u)+r[d]+c[d];h=u,u=p,p=l,l=s+b|0,s=a,a=o,o=n,n=b+(_+v)|0}i[0]=i[0]+n|0,i[1]=i[1]+o|0,i[2]=i[2]+a|0,i[3]=i[3]+s|0,i[4]=i[4]+l|0,i[5]=i[5]+p|0,i[6]=i[6]+u|0,i[7]=i[7]+h|0},_doFinalize:function(){var e=this._data,i=e.words,n=8*this._nDataBytes,o=8*e.sigBytes;return i[o>>>5]|=128<<24-o%32,i[14+(o+64>>>9<<4)]=t.floor(n/4294967296),i[15+(o+64>>>9<<4)]=n,e.sigBytes=4*i.length,this._process(),this._hash},clone:function(){var t=o.clone.call(this);return t._hash=this._hash.clone(),t}});e.SHA256=o._createHelper(l),e.HmacSHA256=o._createHmacHelper(l)}(Math),function(){var t=p,e=t.lib.WordArray,i=t.enc;function n(t){return t<<8&4278255360|t>>>8&16711935}i.Utf16=i.Utf16BE={stringify:function(t){for(var e=t.words,i=t.sigBytes,n=[],o=0;o<i;o+=2){var a=e[o>>>2]>>>16-o%4*8&65535;n.push(String.fromCharCode(a))}return n.join("")},parse:function(t){for(var i=t.length,n=[],o=0;o<i;o++)n[o>>>1]|=t.charCodeAt(o)<<16-o%2*16;return e.create(n,2*i)}},i.Utf16LE={stringify:function(t){for(var e=t.words,i=t.sigBytes,o=[],a=0;a<i;a+=2){var s=n(e[a>>>2]>>>16-a%4*8&65535);o.push(String.fromCharCode(s))}return o.join("")},parse:function(t){for(var i=t.length,o=[],a=0;a<i;a++)o[a>>>1]|=n(t.charCodeAt(a)<<16-a%2*16);return e.create(o,2*i)}}}(),function(){if("function"==typeof ArrayBuffer){var t=p.lib.WordArray,e=t.init;(t.init=function(t){if(t instanceof ArrayBuffer&&(t=new Uint8Array(t)),(t instanceof Int8Array||"undefined"!=typeof Uint8ClampedArray&&t instanceof Uint8ClampedArray||t instanceof Int16Array||t instanceof Uint16Array||t instanceof Int32Array||t instanceof Uint32Array||t instanceof Float32Array||t instanceof Float64Array)&&(t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength)),t instanceof Uint8Array){for(var i=t.byteLength,n=[],o=0;o<i;o++)n[o>>>2]|=t[o]<<24-o%4*8;e.call(this,n,i)}else e.apply(this,arguments)}).prototype=t}}(),function(){var t=p,e=t.lib,i=e.WordArray,n=e.Hasher,o=t.algo,a=i.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),s=i.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),r=i.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),c=i.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),l=i.create([0,1518500249,1859775393,2400959708,2840853838]),u=i.create([1352829926,1548603684,1836072691,2053994217,0]),h=o.RIPEMD160=n.extend({_doReset:function(){this._hash=i.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(t,e){for(var i=0;i<16;i++){var n=e+i,o=t[n];t[n]=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8)}var p,h,_,b,C,S,x,A,k,B,I,w=this._hash.words,M=l.words,P=u.words,O=a.words,D=s.words,N=r.words,R=c.words;for(S=p=w[0],x=h=w[1],A=_=w[2],k=b=w[3],B=C=w[4],i=0;i<80;i+=1)I=p+t[e+O[i]]|0,I+=i<16?d(h,_,b)+M[0]:i<32?f(h,_,b)+M[1]:i<48?m(h,_,b)+M[2]:i<64?g(h,_,b)+M[3]:y(h,_,b)+M[4],I=(I=v(I|=0,N[i]))+C|0,p=C,C=b,b=v(_,10),_=h,h=I,I=S+t[e+D[i]]|0,I+=i<16?y(x,A,k)+P[0]:i<32?g(x,A,k)+P[1]:i<48?m(x,A,k)+P[2]:i<64?f(x,A,k)+P[3]:d(x,A,k)+P[4],I=(I=v(I|=0,R[i]))+B|0,S=B,B=k,k=v(A,10),A=x,x=I;I=w[1]+_+k|0,w[1]=w[2]+b+B|0,w[2]=w[3]+C+S|0,w[3]=w[4]+p+x|0,w[4]=w[0]+h+A|0,w[0]=I},_doFinalize:function(){var t=this._data,e=t.words,i=8*this._nDataBytes,n=8*t.sigBytes;e[n>>>5]|=128<<24-n%32,e[14+(n+64>>>9<<4)]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8),t.sigBytes=4*(e.length+1),this._process();for(var o=this._hash,a=o.words,s=0;s<5;s++){var r=a[s];a[s]=16711935&(r<<8|r>>>24)|4278255360&(r<<24|r>>>8)}return o},clone:function(){var t=n.clone.call(this);return t._hash=this._hash.clone(),t}});function d(t,e,i){return t^e^i}function f(t,e,i){return t&e|~t&i}function m(t,e,i){return(t|~e)^i}function g(t,e,i){return t&i|e&~i}function y(t,e,i){return t^(e|~i)}function v(t,e){return t<<e|t>>>32-e}t.RIPEMD160=n._createHelper(h),t.HmacRIPEMD160=n._createHmacHelper(h)}(Math),function(){var t=p,e=t.lib.Base,i=t.enc.Utf8;t.algo.HMAC=e.extend({init:function(t,e){t=this._hasher=new t.init,"string"==typeof e&&(e=i.parse(e));var n=t.blockSize,o=4*n;e.sigBytes>o&&(e=t.finalize(e)),e.clamp();for(var a=this._oKey=e.clone(),s=this._iKey=e.clone(),r=a.words,c=s.words,l=0;l<n;l++)r[l]^=1549556828,c[l]^=909522486;a.sigBytes=s.sigBytes=o,this.reset()},reset:function(){var t=this._hasher;t.reset(),t.update(this._iKey)},update:function(t){return this._hasher.update(t),this},finalize:function(t){var e=this._hasher,i=e.finalize(t);return e.reset(),e.finalize(this._oKey.clone().concat(i))}})}(),function(){var t=p,e=t.lib,i=e.Base,n=e.WordArray,o=t.algo,a=o.SHA1,s=o.HMAC,r=o.PBKDF2=i.extend({cfg:i.extend({keySize:4,hasher:a,iterations:1}),init:function(t){this.cfg=this.cfg.extend(t)},compute:function(t,e){for(var i=this.cfg,o=s.create(i.hasher,t),a=n.create(),r=n.create([1]),c=a.words,l=r.words,p=i.keySize,u=i.iterations;c.length<p;){var h=o.update(e).finalize(r);o.reset();for(var d=h.words,f=d.length,m=h,g=1;g<u;g++){m=o.finalize(m),o.reset();for(var y=m.words,v=0;v<f;v++)d[v]^=y[v]}a.concat(h),l[0]++}return a.sigBytes=4*p,a}});t.PBKDF2=function(t,e,i){return r.create(i).compute(t,e)}}(),function(){var t=p,e=t.lib,i=e.Base,n=e.WordArray,o=t.algo,a=o.MD5,s=o.EvpKDF=i.extend({cfg:i.extend({keySize:4,hasher:a,iterations:1}),init:function(t){this.cfg=this.cfg.extend(t)},compute:function(t,e){for(var i=this.cfg,o=i.hasher.create(),a=n.create(),s=a.words,r=i.keySize,c=i.iterations;s.length<r;){l&&o.update(l);var l=o.update(t).finalize(e);o.reset();for(var p=1;p<c;p++)l=o.finalize(l),o.reset();a.concat(l)}return a.sigBytes=4*r,a}});t.EvpKDF=function(t,e,i){return s.create(i).compute(t,e)}}(),function(){var t=p,e=t.lib.WordArray,i=t.algo,n=i.SHA256,o=i.SHA224=n.extend({_doReset:function(){this._hash=new e.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var t=n._doFinalize.call(this);return t.sigBytes-=4,t}});t.SHA224=n._createHelper(o),t.HmacSHA224=n._createHmacHelper(o)}(),function(){var t=p,e=t.lib,i=e.Base,n=e.WordArray,o=t.x64={};o.Word=i.extend({init:function(t,e){this.high=t,this.low=e}}),o.WordArray=i.extend({init:function(t,e){t=this.words=t||[],this.sigBytes=null!=e?e:8*t.length},toX32:function(){for(var t=this.words,e=t.length,i=[],o=0;o<e;o++){var a=t[o];i.push(a.high),i.push(a.low)}return n.create(i,this.sigBytes)},clone:function(){for(var t=i.clone.call(this),e=t.words=this.words.slice(0),n=e.length,o=0;o<n;o++)e[o]=e[o].clone();return t}})}(),function(t){var e=p,i=e.lib,n=i.WordArray,o=i.Hasher,a=e.x64.Word,s=e.algo,r=[],c=[],l=[];(function(){for(var t=1,e=0,i=0;i<24;i++){r[t+5*e]=(i+1)*(i+2)/2%64;var n=(2*t+3*e)%5;t=e%5,e=n}for(t=0;t<5;t++)for(e=0;e<5;e++)c[t+5*e]=e+(2*t+3*e)%5*5;for(var o=1,s=0;s<24;s++){for(var p=0,u=0,h=0;h<7;h++){if(1&o){var d=(1<<h)-1;d<32?u^=1<<d:p^=1<<d-32}128&o?o=o<<1^113:o<<=1}l[s]=a.create(p,u)}})();var u=[];(function(){for(var t=0;t<25;t++)u[t]=a.create()})();var h=s.SHA3=o.extend({cfg:o.cfg.extend({outputLength:512}),_doReset:function(){for(var t=this._state=[],e=0;e<25;e++)t[e]=new a.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(t,e){for(var i=this._state,n=this.blockSize/2,o=0;o<n;o++){var a=t[e+2*o],s=t[e+2*o+1];a=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),s=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8),(w=i[o]).high^=s,w.low^=a}for(var p=0;p<24;p++){for(var h=0;h<5;h++){for(var d=0,f=0,m=0;m<5;m++)d^=(w=i[h+5*m]).high,f^=w.low;var g=u[h];g.high=d,g.low=f}for(h=0;h<5;h++){var y=u[(h+4)%5],v=u[(h+1)%5],_=v.high,b=v.low;for(d=y.high^(_<<1|b>>>31),f=y.low^(b<<1|_>>>31),m=0;m<5;m++)(w=i[h+5*m]).high^=d,w.low^=f}for(var C=1;C<25;C++){var S=(w=i[C]).high,x=w.low,A=r[C];A<32?(d=S<<A|x>>>32-A,f=x<<A|S>>>32-A):(d=x<<A-32|S>>>64-A,f=S<<A-32|x>>>64-A);var k=u[c[C]];k.high=d,k.low=f}var B=u[0],I=i[0];for(B.high=I.high,B.low=I.low,h=0;h<5;h++)for(m=0;m<5;m++){var w=i[C=h+5*m],M=u[C],P=u[(h+1)%5+5*m],O=u[(h+2)%5+5*m];w.high=M.high^~P.high&O.high,w.low=M.low^~P.low&O.low}w=i[0];var D=l[p];w.high^=D.high,w.low^=D.low}},_doFinalize:function(){var e=this._data,i=e.words,o=(this._nDataBytes,8*e.sigBytes),a=32*this.blockSize;i[o>>>5]|=1<<24-o%32,i[(t.ceil((o+1)/a)*a>>>5)-1]|=128,e.sigBytes=4*i.length,this._process();for(var s=this._state,r=this.cfg.outputLength/8,c=r/8,l=[],p=0;p<c;p++){var u=s[p],h=u.high,d=u.low;h=16711935&(h<<8|h>>>24)|4278255360&(h<<24|h>>>8),d=16711935&(d<<8|d>>>24)|4278255360&(d<<24|d>>>8),l.push(d),l.push(h)}return new n.init(l,r)},clone:function(){for(var t=o.clone.call(this),e=t._state=this._state.slice(0),i=0;i<25;i++)e[i]=e[i].clone();return t}});e.SHA3=o._createHelper(h),e.HmacSHA3=o._createHmacHelper(h)}(Math),function(){var t=p,e=t.lib.Hasher,i=t.x64,n=i.Word,o=i.WordArray,a=t.algo;function s(){return n.create.apply(n,arguments)}var r=[s(1116352408,3609767458),s(1899447441,602891725),s(3049323471,3964484399),s(3921009573,2173295548),s(961987163,4081628472),s(1508970993,3053834265),s(2453635748,2937671579),s(2870763221,3664609560),s(3624381080,2734883394),s(310598401,1164996542),s(607225278,1323610764),s(1426881987,3590304994),s(1925078388,4068182383),s(2162078206,991336113),s(2614888103,633803317),s(3248222580,3479774868),s(3835390401,2666613458),s(4022224774,944711139),s(264347078,2341262773),s(604807628,2007800933),s(770255983,1495990901),s(1249150122,1856431235),s(1555081692,3175218132),s(1996064986,2198950837),s(2554220882,3999719339),s(2821834349,766784016),s(2952996808,2566594879),s(3210313671,3203337956),s(3336571891,1034457026),s(3584528711,2466948901),s(113926993,3758326383),s(338241895,168717936),s(666307205,1188179964),s(773529912,1546045734),s(1294757372,1522805485),s(1396182291,2643833823),s(1695183700,2343527390),s(1986661051,1014477480),s(2177026350,1206759142),s(2456956037,344077627),s(2730485921,1290863460),s(2820302411,3158454273),s(3259730800,3505952657),s(3345764771,106217008),s(3516065817,3606008344),s(3600352804,1432725776),s(4094571909,1467031594),s(275423344,851169720),s(430227734,3100823752),s(506948616,1363258195),s(659060556,3750685593),s(883997877,3785050280),s(958139571,3318307427),s(1322822218,3812723403),s(1537002063,2003034995),s(1747873779,3602036899),s(1955562222,1575990012),s(2024104815,1125592928),s(2227730452,2716904306),s(2361852424,442776044),s(2428436474,593698344),s(2756734187,3733110249),s(3204031479,2999351573),s(3329325298,3815920427),s(3391569614,3928383900),s(3515267271,566280711),s(3940187606,3454069534),s(4118630271,4000239992),s(116418474,1914138554),s(174292421,2731055270),s(289380356,3203993006),s(460393269,320620315),s(685471733,587496836),s(852142971,1086792851),s(1017036298,365543100),s(1126000580,2618297676),s(1288033470,3409855158),s(1501505948,4234509866),s(1607167915,987167468),s(1816402316,1246189591)],c=[];(function(){for(var t=0;t<80;t++)c[t]=s()})();var l=a.SHA512=e.extend({_doReset:function(){this._hash=new o.init([new n.init(1779033703,4089235720),new n.init(3144134277,2227873595),new n.init(1013904242,4271175723),new n.init(2773480762,1595750129),new n.init(1359893119,2917565137),new n.init(2600822924,725511199),new n.init(528734635,4215389547),new n.init(1541459225,327033209)])},_doProcessBlock:function(t,e){for(var i=this._hash.words,n=i[0],o=i[1],a=i[2],s=i[3],l=i[4],p=i[5],u=i[6],h=i[7],d=n.high,f=n.low,m=o.high,g=o.low,y=a.high,v=a.low,_=s.high,b=s.low,C=l.high,S=l.low,x=p.high,A=p.low,k=u.high,B=u.low,I=h.high,w=h.low,M=d,P=f,O=m,D=g,N=y,R=v,L=_,F=b,T=C,j=S,H=x,E=A,G=k,q=B,U=I,z=w,W=0;W<80;W++){var J=c[W];if(W<16)var Y=J.high=0|t[e+2*W],X=J.low=0|t[e+2*W+1];else{var K=c[W-15],V=K.high,Z=K.low,Q=(V>>>1|Z<<31)^(V>>>8|Z<<24)^V>>>7,$=(Z>>>1|V<<31)^(Z>>>8|V<<24)^(Z>>>7|V<<25),tt=c[W-2],et=tt.high,it=tt.low,nt=(et>>>19|it<<13)^(et<<3|it>>>29)^et>>>6,ot=(it>>>19|et<<13)^(it<<3|et>>>29)^(it>>>6|et<<26),at=c[W-7],st=at.high,rt=at.low,ct=c[W-16],lt=ct.high,pt=ct.low;Y=(Y=(Y=Q+st+((X=$+rt)>>>0<$>>>0?1:0))+nt+((X+=ot)>>>0<ot>>>0?1:0))+lt+((X+=pt)>>>0<pt>>>0?1:0),J.high=Y,J.low=X}var ut,ht=T&H^~T&G,dt=j&E^~j&q,ft=M&O^M&N^O&N,mt=P&D^P&R^D&R,gt=(M>>>28|P<<4)^(M<<30|P>>>2)^(M<<25|P>>>7),yt=(P>>>28|M<<4)^(P<<30|M>>>2)^(P<<25|M>>>7),vt=(T>>>14|j<<18)^(T>>>18|j<<14)^(T<<23|j>>>9),_t=(j>>>14|T<<18)^(j>>>18|T<<14)^(j<<23|T>>>9),bt=r[W],Ct=bt.high,St=bt.low,xt=U+vt+((ut=z+_t)>>>0<z>>>0?1:0),At=yt+mt;U=G,z=q,G=H,q=E,H=T,E=j,T=L+(xt=(xt=(xt=xt+ht+((ut+=dt)>>>0<dt>>>0?1:0))+Ct+((ut+=St)>>>0<St>>>0?1:0))+Y+((ut+=X)>>>0<X>>>0?1:0))+((j=F+ut|0)>>>0<F>>>0?1:0)|0,L=N,F=R,N=O,R=D,O=M,D=P,M=xt+(gt+ft+(At>>>0<yt>>>0?1:0))+((P=ut+At|0)>>>0<ut>>>0?1:0)|0}f=n.low=f+P,n.high=d+M+(f>>>0<P>>>0?1:0),g=o.low=g+D,o.high=m+O+(g>>>0<D>>>0?1:0),v=a.low=v+R,a.high=y+N+(v>>>0<R>>>0?1:0),b=s.low=b+F,s.high=_+L+(b>>>0<F>>>0?1:0),S=l.low=S+j,l.high=C+T+(S>>>0<j>>>0?1:0),A=p.low=A+E,p.high=x+H+(A>>>0<E>>>0?1:0),B=u.low=B+q,u.high=k+G+(B>>>0<q>>>0?1:0),w=h.low=w+z,h.high=I+U+(w>>>0<z>>>0?1:0)},_doFinalize:function(){var t=this._data,e=t.words,i=8*this._nDataBytes,n=8*t.sigBytes;return e[n>>>5]|=128<<24-n%32,e[30+(n+128>>>10<<5)]=Math.floor(i/4294967296),e[31+(n+128>>>10<<5)]=i,t.sigBytes=4*e.length,this._process(),this._hash.toX32()},clone:function(){var t=e.clone.call(this);return t._hash=this._hash.clone(),t},blockSize:32});t.SHA512=e._createHelper(l),t.HmacSHA512=e._createHmacHelper(l)}(),function(){var t=p,e=t.x64,i=e.Word,n=e.WordArray,o=t.algo,a=o.SHA512,s=o.SHA384=a.extend({_doReset:function(){this._hash=new n.init([new i.init(3418070365,3238371032),new i.init(1654270250,914150663),new i.init(2438529370,812702999),new i.init(355462360,4144912697),new i.init(1731405415,4290775857),new i.init(2394180231,1750603025),new i.init(3675008525,1694076839),new i.init(1203062813,3204075428)])},_doFinalize:function(){var t=a._doFinalize.call(this);return t.sigBytes-=16,t}});t.SHA384=a._createHelper(s),t.HmacSHA384=a._createHmacHelper(s)}(),p.lib.Cipher||function(t){var e=p,i=e.lib,n=i.Base,o=i.WordArray,a=i.BufferedBlockAlgorithm,s=e.enc,r=(s.Utf8,s.Base64),c=e.algo.EvpKDF,l=i.Cipher=a.extend({cfg:n.extend(),createEncryptor:function(t,e){return this.create(this._ENC_XFORM_MODE,t,e)},createDecryptor:function(t,e){return this.create(this._DEC_XFORM_MODE,t,e)},init:function(t,e,i){this.cfg=this.cfg.extend(i),this._xformMode=t,this._key=e,this.reset()},reset:function(){a.reset.call(this),this._doReset()},process:function(t){return this._append(t),this._process()},finalize:function(t){return t&&this._append(t),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function t(t){return"string"==typeof t?_:y}return function(e){return{encrypt:function(i,n,o){return t(n).encrypt(e,i,n,o)},decrypt:function(i,n,o){return t(n).decrypt(e,i,n,o)}}}}()}),u=(i.StreamCipher=l.extend({_doFinalize:function(){return this._process(!0)},blockSize:1}),e.mode={}),h=i.BlockCipherMode=n.extend({createEncryptor:function(t,e){return this.Encryptor.create(t,e)},createDecryptor:function(t,e){return this.Decryptor.create(t,e)},init:function(t,e){this._cipher=t,this._iv=e}}),d=u.CBC=function(){var e=h.extend();function i(e,i,n){var o=this._iv;if(o){var a=o;this._iv=t}else a=this._prevBlock;for(var s=0;s<n;s++)e[i+s]^=a[s]}return e.Encryptor=e.extend({processBlock:function(t,e){var n=this._cipher,o=n.blockSize;i.call(this,t,e,o),n.encryptBlock(t,e),this._prevBlock=t.slice(e,e+o)}}),e.Decryptor=e.extend({processBlock:function(t,e){var n=this._cipher,o=n.blockSize,a=t.slice(e,e+o);n.decryptBlock(t,e),i.call(this,t,e,o),this._prevBlock=a}}),e}(),f=(e.pad={}).Pkcs7={pad:function(t,e){for(var i=4*e,n=i-t.sigBytes%i,a=n<<24|n<<16|n<<8|n,s=[],r=0;r<n;r+=4)s.push(a);var c=o.create(s,n);t.concat(c)},unpad:function(t){var e=255&t.words[t.sigBytes-1>>>2];t.sigBytes-=e}},m=(i.BlockCipher=l.extend({cfg:l.cfg.extend({mode:d,padding:f}),reset:function(){l.reset.call(this);var t=this.cfg,e=t.iv,i=t.mode;if(this._xformMode==this._ENC_XFORM_MODE)var n=i.createEncryptor;else n=i.createDecryptor,this._minBufferSize=1;this._mode&&this._mode.__creator==n?this._mode.init(this,e&&e.words):(this._mode=n.call(i,this,e&&e.words),this._mode.__creator=n)},_doProcessBlock:function(t,e){this._mode.processBlock(t,e)},_doFinalize:function(){var t=this.cfg.padding;if(this._xformMode==this._ENC_XFORM_MODE){t.pad(this._data,this.blockSize);var e=this._process(!0)}else e=this._process(!0),t.unpad(e);return e},blockSize:4}),i.CipherParams=n.extend({init:function(t){this.mixIn(t)},toString:function(t){return(t||this.formatter).stringify(this)}})),g=(e.format={}).OpenSSL={stringify:function(t){var e=t.ciphertext,i=t.salt;if(i)var n=o.create([1398893684,1701076831]).concat(i).concat(e);else n=e;return n.toString(r)},parse:function(t){var e=r.parse(t),i=e.words;if(1398893684==i[0]&&1701076831==i[1]){var n=o.create(i.slice(2,4));i.splice(0,4),e.sigBytes-=16}return m.create({ciphertext:e,salt:n})}},y=i.SerializableCipher=n.extend({cfg:n.extend({format:g}),encrypt:function(t,e,i,n){n=this.cfg.extend(n);var o=t.createEncryptor(i,n),a=o.finalize(e),s=o.cfg;return m.create({ciphertext:a,key:i,iv:s.iv,algorithm:t,mode:s.mode,padding:s.padding,blockSize:t.blockSize,formatter:n.format})},decrypt:function(t,e,i,n){return n=this.cfg.extend(n),e=this._parse(e,n.format),t.createDecryptor(i,n).finalize(e.ciphertext)},_parse:function(t,e){return"string"==typeof t?e.parse(t,this):t}}),v=(e.kdf={}).OpenSSL={execute:function(t,e,i,n){n||(n=o.random(8));var a=c.create({keySize:e+i}).compute(t,n),s=o.create(a.words.slice(e),4*i);return a.sigBytes=4*e,m.create({key:a,iv:s,salt:n})}},_=i.PasswordBasedCipher=y.extend({cfg:y.cfg.extend({kdf:v}),encrypt:function(t,e,i,n){var o=(n=this.cfg.extend(n)).kdf.execute(i,t.keySize,t.ivSize);n.iv=o.iv;var a=y.encrypt.call(this,t,e,o.key,n);return a.mixIn(o),a},decrypt:function(t,e,i,n){n=this.cfg.extend(n),e=this._parse(e,n.format);var o=n.kdf.execute(i,t.keySize,t.ivSize,e.salt);return n.iv=o.iv,y.decrypt.call(this,t,e,o.key,n)}})}(),p.mode.CFB=function(){var t=p.lib.BlockCipherMode.extend();function e(t,e,i,n){var o=this._iv;if(o){var a=o.slice(0);this._iv=void 0}else a=this._prevBlock;n.encryptBlock(a,0);for(var s=0;s<i;s++)t[e+s]^=a[s]}return t.Encryptor=t.extend({processBlock:function(t,i){var n=this._cipher,o=n.blockSize;e.call(this,t,i,o,n),this._prevBlock=t.slice(i,i+o)}}),t.Decryptor=t.extend({processBlock:function(t,i){var n=this._cipher,o=n.blockSize,a=t.slice(i,i+o);e.call(this,t,i,o,n),this._prevBlock=a}}),t}(),p.mode.ECB=((r=p.lib.BlockCipherMode.extend()).Encryptor=r.extend({processBlock:function(t,e){this._cipher.encryptBlock(t,e)}}),r.Decryptor=r.extend({processBlock:function(t,e){this._cipher.decryptBlock(t,e)}}),r),p.pad.AnsiX923={pad:function(t,e){var i=t.sigBytes,n=4*e,o=n-i%n,a=i+o-1;t.clamp(),t.words[a>>>2]|=o<<24-a%4*8,t.sigBytes+=o},unpad:function(t){var e=255&t.words[t.sigBytes-1>>>2];t.sigBytes-=e}},p.pad.Iso10126={pad:function(t,e){var i=4*e,n=i-t.sigBytes%i;t.concat(p.lib.WordArray.random(n-1)).concat(p.lib.WordArray.create([n<<24],1))},unpad:function(t){var e=255&t.words[t.sigBytes-1>>>2];t.sigBytes-=e}},p.pad.Iso97971={pad:function(t,e){t.concat(p.lib.WordArray.create([2147483648],1)),p.pad.ZeroPadding.pad(t,e)},unpad:function(t){p.pad.ZeroPadding.unpad(t),t.sigBytes--}},p.mode.OFB=(l=(c=p.lib.BlockCipherMode.extend()).Encryptor=c.extend({processBlock:function(t,e){var i=this._cipher,n=i.blockSize,o=this._iv,a=this._keystream;o&&(a=this._keystream=o.slice(0),this._iv=void 0),i.encryptBlock(a,0);for(var s=0;s<n;s++)t[e+s]^=a[s]}}),c.Decryptor=l,c),p.pad.NoPadding={pad:function(){},unpad:function(){}},function(){var t=p,e=t.lib.CipherParams,i=t.enc.Hex;t.format.Hex={stringify:function(t){return t.ciphertext.toString(i)},parse:function(t){var n=i.parse(t);return e.create({ciphertext:n})}}}(),function(){var t=p,e=t.lib.BlockCipher,i=t.algo,n=[],o=[],a=[],s=[],r=[],c=[],l=[],u=[],h=[],d=[];(function(){for(var t=[],e=0;e<256;e++)t[e]=e<128?e<<1:e<<1^283;var i=0,p=0;for(e=0;e<256;e++){var f=p^p<<1^p<<2^p<<3^p<<4;f=f>>>8^255&f^99,n[i]=f,o[f]=i;var m=t[i],g=t[m],y=t[g],v=257*t[f]^16843008*f;a[i]=v<<24|v>>>8,s[i]=v<<16|v>>>16,r[i]=v<<8|v>>>24,c[i]=v,v=16843009*y^65537*g^257*m^16843008*i,l[f]=v<<24|v>>>8,u[f]=v<<16|v>>>16,h[f]=v<<8|v>>>24,d[f]=v,i?(i=m^t[t[t[y^m]]],p^=t[t[p]]):i=p=1}})();var f=[0,1,2,4,8,16,32,64,128,27,54],m=i.AES=e.extend({_doReset:function(){if(!this._nRounds||this._keyPriorReset!==this._key){for(var t=this._keyPriorReset=this._key,e=t.words,i=t.sigBytes/4,o=4*((this._nRounds=i+6)+1),a=this._keySchedule=[],s=0;s<o;s++)if(s<i)a[s]=e[s];else{var r=a[s-1];s%i?i>6&&s%i==4&&(r=n[r>>>24]<<24|n[r>>>16&255]<<16|n[r>>>8&255]<<8|n[255&r]):(r=n[(r=r<<8|r>>>24)>>>24]<<24|n[r>>>16&255]<<16|n[r>>>8&255]<<8|n[255&r],r^=f[s/i|0]<<24),a[s]=a[s-i]^r}for(var c=this._invKeySchedule=[],p=0;p<o;p++)s=o-p,r=p%4?a[s]:a[s-4],c[p]=p<4||s<=4?r:l[n[r>>>24]]^u[n[r>>>16&255]]^h[n[r>>>8&255]]^d[n[255&r]]}},encryptBlock:function(t,e){this._doCryptBlock(t,e,this._keySchedule,a,s,r,c,n)},decryptBlock:function(t,e){var i=t[e+1];t[e+1]=t[e+3],t[e+3]=i,this._doCryptBlock(t,e,this._invKeySchedule,l,u,h,d,o),i=t[e+1],t[e+1]=t[e+3],t[e+3]=i},_doCryptBlock:function(t,e,i,n,o,a,s,r){for(var c=this._nRounds,l=t[e]^i[0],p=t[e+1]^i[1],u=t[e+2]^i[2],h=t[e+3]^i[3],d=4,f=1;f<c;f++){var m=n[l>>>24]^o[p>>>16&255]^a[u>>>8&255]^s[255&h]^i[d++],g=n[p>>>24]^o[u>>>16&255]^a[h>>>8&255]^s[255&l]^i[d++],y=n[u>>>24]^o[h>>>16&255]^a[l>>>8&255]^s[255&p]^i[d++],v=n[h>>>24]^o[l>>>16&255]^a[p>>>8&255]^s[255&u]^i[d++];l=m,p=g,u=y,h=v}m=(r[l>>>24]<<24|r[p>>>16&255]<<16|r[u>>>8&255]<<8|r[255&h])^i[d++],g=(r[p>>>24]<<24|r[u>>>16&255]<<16|r[h>>>8&255]<<8|r[255&l])^i[d++],y=(r[u>>>24]<<24|r[h>>>16&255]<<16|r[l>>>8&255]<<8|r[255&p])^i[d++],v=(r[h>>>24]<<24|r[l>>>16&255]<<16|r[p>>>8&255]<<8|r[255&u])^i[d++],t[e]=m,t[e+1]=g,t[e+2]=y,t[e+3]=v},keySize:8});t.AES=e._createHelper(m)}(),function(){var t=p,e=t.lib,i=e.WordArray,n=e.BlockCipher,o=t.algo,a=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],s=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],r=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],c=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],l=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],u=o.DES=n.extend({_doReset:function(){for(var t=this._key.words,e=[],i=0;i<56;i++){var n=a[i]-1;e[i]=t[n>>>5]>>>31-n%32&1}for(var o=this._subKeys=[],c=0;c<16;c++){var l=o[c]=[],p=r[c];for(i=0;i<24;i++)l[i/6|0]|=e[(s[i]-1+p)%28]<<31-i%6,l[4+(i/6|0)]|=e[28+(s[i+24]-1+p)%28]<<31-i%6;for(l[0]=l[0]<<1|l[0]>>>31,i=1;i<7;i++)l[i]=l[i]>>>4*(i-1)+3;l[7]=l[7]<<5|l[7]>>>27}var u=this._invSubKeys=[];for(i=0;i<16;i++)u[i]=o[15-i]},encryptBlock:function(t,e){this._doCryptBlock(t,e,this._subKeys)},decryptBlock:function(t,e){this._doCryptBlock(t,e,this._invSubKeys)},_doCryptBlock:function(t,e,i){this._lBlock=t[e],this._rBlock=t[e+1],h.call(this,4,252645135),h.call(this,16,65535),d.call(this,2,858993459),d.call(this,8,16711935),h.call(this,1,1431655765);for(var n=0;n<16;n++){for(var o=i[n],a=this._lBlock,s=this._rBlock,r=0,p=0;p<8;p++)r|=c[p][((s^o[p])&l[p])>>>0];this._lBlock=s,this._rBlock=a^r}var u=this._lBlock;this._lBlock=this._rBlock,this._rBlock=u,h.call(this,1,1431655765),d.call(this,8,16711935),d.call(this,2,858993459),h.call(this,16,65535),h.call(this,4,252645135),t[e]=this._lBlock,t[e+1]=this._rBlock},keySize:2,ivSize:2,blockSize:2});function h(t,e){var i=(this._lBlock>>>t^this._rBlock)&e;this._rBlock^=i,this._lBlock^=i<<t}function d(t,e){var i=(this._rBlock>>>t^this._lBlock)&e;this._lBlock^=i,this._rBlock^=i<<t}t.DES=n._createHelper(u);var f=o.TripleDES=n.extend({_doReset:function(){var t=this._key.words;this._des1=u.createEncryptor(i.create(t.slice(0,2))),this._des2=u.createEncryptor(i.create(t.slice(2,4))),this._des3=u.createEncryptor(i.create(t.slice(4,6)))},encryptBlock:function(t,e){this._des1.encryptBlock(t,e),this._des2.decryptBlock(t,e),this._des3.encryptBlock(t,e)},decryptBlock:function(t,e){this._des3.decryptBlock(t,e),this._des2.encryptBlock(t,e),this._des1.decryptBlock(t,e)},keySize:6,ivSize:2,blockSize:2});t.TripleDES=n._createHelper(f)}(),function(){var t=p,e=t.lib.StreamCipher,i=t.algo,n=i.RC4=e.extend({_doReset:function(){for(var t=this._key,e=t.words,i=t.sigBytes,n=this._S=[],o=0;o<256;o++)n[o]=o;o=0;for(var a=0;o<256;o++){var s=o%i,r=e[s>>>2]>>>24-s%4*8&255;a=(a+n[o]+r)%256;var c=n[o];n[o]=n[a],n[a]=c}this._i=this._j=0},_doProcessBlock:function(t,e){t[e]^=o.call(this)},keySize:8,ivSize:0});function o(){for(var t=this._S,e=this._i,i=this._j,n=0,o=0;o<4;o++){i=(i+t[e=(e+1)%256])%256;var a=t[e];t[e]=t[i],t[i]=a,n|=t[(t[e]+t[i])%256]<<24-8*o}return this._i=e,this._j=i,n}t.RC4=e._createHelper(n);var a=i.RC4Drop=n.extend({cfg:n.cfg.extend({drop:192}),_doReset:function(){n._doReset.call(this);for(var t=this.cfg.drop;t>0;t--)o.call(this)}});t.RC4Drop=e._createHelper(a)}(),p.mode.CTRGladman=function(){var t=p.lib.BlockCipherMode.extend();function e(t){if(255==(t>>24&255)){var e=t>>16&255,i=t>>8&255,n=255&t;255===e?(e=0,255===i?(i=0,255===n?n=0:++n):++i):++e,t=0,t+=e<<16,t+=i<<8,t+=n}else t+=1<<24;return t}function i(t){return 0===(t[0]=e(t[0]))&&(t[1]=e(t[1])),t}var n=t.Encryptor=t.extend({processBlock:function(t,e){var n=this._cipher,o=n.blockSize,a=this._iv,s=this._counter;a&&(s=this._counter=a.slice(0),this._iv=void 0),i(s);var r=s.slice(0);n.encryptBlock(r,0);for(var c=0;c<o;c++)t[e+c]^=r[c]}});return t.Decryptor=n,t}(),function(){var t=p,e=t.lib.StreamCipher,i=t.algo,n=[],o=[],a=[],s=i.Rabbit=e.extend({_doReset:function(){for(var t=this._key.words,e=this.cfg.iv,i=0;i<4;i++)t[i]=16711935&(t[i]<<8|t[i]>>>24)|4278255360&(t[i]<<24|t[i]>>>8);var n=this._X=[t[0],t[3]<<16|t[2]>>>16,t[1],t[0]<<16|t[3]>>>16,t[2],t[1]<<16|t[0]>>>16,t[3],t[2]<<16|t[1]>>>16],o=this._C=[t[2]<<16|t[2]>>>16,4294901760&t[0]|65535&t[1],t[3]<<16|t[3]>>>16,4294901760&t[1]|65535&t[2],t[0]<<16|t[0]>>>16,4294901760&t[2]|65535&t[3],t[1]<<16|t[1]>>>16,4294901760&t[3]|65535&t[0]];for(this._b=0,i=0;i<4;i++)r.call(this);for(i=0;i<8;i++)o[i]^=n[i+4&7];if(e){var a=e.words,s=a[0],c=a[1],l=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8),p=16711935&(c<<8|c>>>24)|4278255360&(c<<24|c>>>8),u=l>>>16|4294901760&p,h=p<<16|65535&l;for(o[0]^=l,o[1]^=u,o[2]^=p,o[3]^=h,o[4]^=l,o[5]^=u,o[6]^=p,o[7]^=h,i=0;i<4;i++)r.call(this)}},_doProcessBlock:function(t,e){var i=this._X;r.call(this),n[0]=i[0]^i[5]>>>16^i[3]<<16,n[1]=i[2]^i[7]>>>16^i[5]<<16,n[2]=i[4]^i[1]>>>16^i[7]<<16,n[3]=i[6]^i[3]>>>16^i[1]<<16;for(var o=0;o<4;o++)n[o]=16711935&(n[o]<<8|n[o]>>>24)|4278255360&(n[o]<<24|n[o]>>>8),t[e+o]^=n[o]},blockSize:4,ivSize:2});function r(){for(var t=this._X,e=this._C,i=0;i<8;i++)o[i]=e[i];for(e[0]=e[0]+1295307597+this._b|0,e[1]=e[1]+3545052371+(e[0]>>>0<o[0]>>>0?1:0)|0,e[2]=e[2]+886263092+(e[1]>>>0<o[1]>>>0?1:0)|0,e[3]=e[3]+1295307597+(e[2]>>>0<o[2]>>>0?1:0)|0,e[4]=e[4]+3545052371+(e[3]>>>0<o[3]>>>0?1:0)|0,e[5]=e[5]+886263092+(e[4]>>>0<o[4]>>>0?1:0)|0,e[6]=e[6]+1295307597+(e[5]>>>0<o[5]>>>0?1:0)|0,e[7]=e[7]+3545052371+(e[6]>>>0<o[6]>>>0?1:0)|0,this._b=e[7]>>>0<o[7]>>>0?1:0,i=0;i<8;i++){var n=t[i]+e[i],s=65535&n,r=n>>>16,c=((s*s>>>17)+s*r>>>15)+r*r,l=((4294901760&n)*n|0)+((65535&n)*n|0);a[i]=c^l}t[0]=a[0]+(a[7]<<16|a[7]>>>16)+(a[6]<<16|a[6]>>>16)|0,t[1]=a[1]+(a[0]<<8|a[0]>>>24)+a[7]|0,t[2]=a[2]+(a[1]<<16|a[1]>>>16)+(a[0]<<16|a[0]>>>16)|0,t[3]=a[3]+(a[2]<<8|a[2]>>>24)+a[1]|0,t[4]=a[4]+(a[3]<<16|a[3]>>>16)+(a[2]<<16|a[2]>>>16)|0,t[5]=a[5]+(a[4]<<8|a[4]>>>24)+a[3]|0,t[6]=a[6]+(a[5]<<16|a[5]>>>16)+(a[4]<<16|a[4]>>>16)|0,t[7]=a[7]+(a[6]<<8|a[6]>>>24)+a[5]|0}t.Rabbit=e._createHelper(s)}(),p.mode.CTR=function(){var t=p.lib.BlockCipherMode.extend(),e=t.Encryptor=t.extend({processBlock:function(t,e){var i=this._cipher,n=i.blockSize,o=this._iv,a=this._counter;o&&(a=this._counter=o.slice(0),this._iv=void 0);var s=a.slice(0);i.encryptBlock(s,0),a[n-1]=a[n-1]+1|0;for(var r=0;r<n;r++)t[e+r]^=s[r]}});return t.Decryptor=e,t}(),function(){var t=p,e=t.lib.StreamCipher,i=t.algo,n=[],o=[],a=[],s=i.RabbitLegacy=e.extend({_doReset:function(){var t=this._key.words,e=this.cfg.iv,i=this._X=[t[0],t[3]<<16|t[2]>>>16,t[1],t[0]<<16|t[3]>>>16,t[2],t[1]<<16|t[0]>>>16,t[3],t[2]<<16|t[1]>>>16],n=this._C=[t[2]<<16|t[2]>>>16,4294901760&t[0]|65535&t[1],t[3]<<16|t[3]>>>16,4294901760&t[1]|65535&t[2],t[0]<<16|t[0]>>>16,4294901760&t[2]|65535&t[3],t[1]<<16|t[1]>>>16,4294901760&t[3]|65535&t[0]];this._b=0;for(var o=0;o<4;o++)r.call(this);for(o=0;o<8;o++)n[o]^=i[o+4&7];if(e){var a=e.words,s=a[0],c=a[1],l=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8),p=16711935&(c<<8|c>>>24)|4278255360&(c<<24|c>>>8),u=l>>>16|4294901760&p,h=p<<16|65535&l;for(n[0]^=l,n[1]^=u,n[2]^=p,n[3]^=h,n[4]^=l,n[5]^=u,n[6]^=p,n[7]^=h,o=0;o<4;o++)r.call(this)}},_doProcessBlock:function(t,e){var i=this._X;r.call(this),n[0]=i[0]^i[5]>>>16^i[3]<<16,n[1]=i[2]^i[7]>>>16^i[5]<<16,n[2]=i[4]^i[1]>>>16^i[7]<<16,n[3]=i[6]^i[3]>>>16^i[1]<<16;for(var o=0;o<4;o++)n[o]=16711935&(n[o]<<8|n[o]>>>24)|4278255360&(n[o]<<24|n[o]>>>8),t[e+o]^=n[o]},blockSize:4,ivSize:2});function r(){for(var t=this._X,e=this._C,i=0;i<8;i++)o[i]=e[i];for(e[0]=e[0]+1295307597+this._b|0,e[1]=e[1]+3545052371+(e[0]>>>0<o[0]>>>0?1:0)|0,e[2]=e[2]+886263092+(e[1]>>>0<o[1]>>>0?1:0)|0,e[3]=e[3]+1295307597+(e[2]>>>0<o[2]>>>0?1:0)|0,e[4]=e[4]+3545052371+(e[3]>>>0<o[3]>>>0?1:0)|0,e[5]=e[5]+886263092+(e[4]>>>0<o[4]>>>0?1:0)|0,e[6]=e[6]+1295307597+(e[5]>>>0<o[5]>>>0?1:0)|0,e[7]=e[7]+3545052371+(e[6]>>>0<o[6]>>>0?1:0)|0,this._b=e[7]>>>0<o[7]>>>0?1:0,i=0;i<8;i++){var n=t[i]+e[i],s=65535&n,r=n>>>16,c=((s*s>>>17)+s*r>>>15)+r*r,l=((4294901760&n)*n|0)+((65535&n)*n|0);a[i]=c^l}t[0]=a[0]+(a[7]<<16|a[7]>>>16)+(a[6]<<16|a[6]>>>16)|0,t[1]=a[1]+(a[0]<<8|a[0]>>>24)+a[7]|0,t[2]=a[2]+(a[1]<<16|a[1]>>>16)+(a[0]<<16|a[0]>>>16)|0,t[3]=a[3]+(a[2]<<8|a[2]>>>24)+a[1]|0,t[4]=a[4]+(a[3]<<16|a[3]>>>16)+(a[2]<<16|a[2]>>>16)|0,t[5]=a[5]+(a[4]<<8|a[4]>>>24)+a[3]|0,t[6]=a[6]+(a[5]<<16|a[5]>>>16)+(a[4]<<16|a[4]>>>16)|0,t[7]=a[7]+(a[6]<<8|a[6]>>>24)+a[5]|0}t.RabbitLegacy=e._createHelper(s)}(),p.pad.ZeroPadding={pad:function(t,e){var i=4*e;t.clamp(),t.sigBytes+=i-(t.sigBytes%i||i)},unpad:function(t){for(var e=t.words,i=t.sigBytes-1;!(e[i>>>2]>>>24-i%4*8&255);)i--;t.sigBytes=i+1}},p},"object"==typeof i?e.exports=i=n():"function"==typeof define&&define.amd?define([],n):(void 0).CryptoJS=n(),cc._RF.pop()},{}],"enc-base64":[function(t,e,i){"use strict";var n;cc._RF.push(e,"34b33oLo4JEnJCWiiOufAkL","enc-base64"),n=function(t){return function(){var e=t,i=e.lib.WordArray;function n(t,e,n){for(var o=[],a=0,s=0;s<e;s++)if(s%4){var r=n[t.charCodeAt(s-1)]<<s%4*2,c=n[t.charCodeAt(s)]>>>6-s%4*2;o[a>>>2]|=(r|c)<<24-a%4*8,a++}return i.create(o,a)}e.enc.Base64={stringify:function(t){var e=t.words,i=t.sigBytes,n=this._map;t.clamp();for(var o=[],a=0;a<i;a+=3)for(var s=(e[a>>>2]>>>24-a%4*8&255)<<16|(e[a+1>>>2]>>>24-(a+1)%4*8&255)<<8|e[a+2>>>2]>>>24-(a+2)%4*8&255,r=0;r<4&&a+.75*r<i;r++)o.push(n.charAt(s>>>6*(3-r)&63));var c=n.charAt(64);if(c)for(;o.length%4;)o.push(c);return o.join("")},parse:function(t){var e=t.length,i=this._map,o=this._reverseMap;if(!o){o=this._reverseMap=[];for(var a=0;a<i.length;a++)o[i.charCodeAt(a)]=a}var s=i.charAt(64);if(s){var r=t.indexOf(s);-1!==r&&(e=r)}return n(t,e,o)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}}(),t.enc.Base64},"object"==typeof i?e.exports=i=n(t("./core")):"function"==typeof define&&define.amd?define(["./core"],n):n((void 0).CryptoJS),cc._RF.pop()},{"./core":"core"}],"enc-hex":[function(t,e,i){"use strict";var n;cc._RF.push(e,"1dc27PQNk5NeqZBPUSdvkAJ","enc-hex"),n=function(t){return t.enc.Hex},"object"==typeof i?e.exports=i=n(t("./core")):"function"==typeof define&&define.amd?define(["./core"],n):n((void 0).CryptoJS),cc._RF.pop()},{"./core":"core"}],"enc-latin1":[function(t,e,i){"use strict";var n;cc._RF.push(e,"4b58dH0LfFFmKX3tTjU8Oj9","enc-latin1"),n=function(t){return t.enc.Latin1},"object"==typeof i?e.exports=i=n(t("./core")):"function"==typeof define&&define.amd?define(["./core"],n):n((void 0).CryptoJS),cc._RF.pop()},{"./core":"core"}],"enc-utf16":[function(t,e,i){"use strict";var n;cc._RF.push(e,"b9ccbGKg7hCm7C+NCgYUtVV","enc-utf16"),n=function(t){return function(){var e=t,i=e.lib.WordArray,n=e.enc;function o(t){return t<<8&4278255360|t>>>8&16711935}n.Utf16=n.Utf16BE={stringify:function(t){for(var e=t.words,i=t.sigBytes,n=[],o=0;o<i;o+=2){var a=e[o>>>2]>>>16-o%4*8&65535;n.push(String.fromCharCode(a))}return n.join("")},parse:function(t){for(var e=t.length,n=[],o=0;o<e;o++)n[o>>>1]|=t.charCodeAt(o)<<16-o%2*16;return i.create(n,2*e)}},n.Utf16LE={stringify:function(t){for(var e=t.words,i=t.sigBytes,n=[],a=0;a<i;a+=2){var s=o(e[a>>>2]>>>16-a%4*8&65535);n.push(String.fromCharCode(s))}return n.join("")},parse:function(t){for(var e=t.length,n=[],a=0;a<e;a++)n[a>>>1]|=o(t.charCodeAt(a)<<16-a%2*16);return i.create(n,2*e)}}}(),t.enc.Utf16},"object"==typeof i?e.exports=i=n(t("./core")):"function"==typeof define&&define.amd?define(["./core"],n):n((void 0).CryptoJS),cc._RF.pop()},{"./core":"core"}],"enc-utf8":[function(t,e,i){"use strict";var n;cc._RF.push(e,"9f8b89C9ihP5bpWniuVixJe","enc-utf8"),n=function(t){return t.enc.Utf8},"object"==typeof i?e.exports=i=n(t("./core")):"function"==typeof define&&define.amd?define(["./core"],n):n((void 0).CryptoJS),cc._RF.pop()},{"./core":"core"}],evpkdf:[function(t,e,i){"use strict";var n;cc._RF.push(e,"113b873c/tPf5jZuRsfZaYa","evpkdf"),n=function(t){var e,i,n,o,a,s,r;return n=(i=(e=t).lib).Base,o=i.WordArray,s=(a=e.algo).MD5,r=a.EvpKDF=n.extend({cfg:n.extend({keySize:4,hasher:s,iterations:1}),init:function(t){this.cfg=this.cfg.extend(t)},compute:function(t,e){for(var i=this.cfg,n=i.hasher.create(),a=o.create(),s=a.words,r=i.keySize,c=i.iterations;s.length<r;){l&&n.update(l);var l=n.update(t).finalize(e);n.reset();for(var p=1;p<c;p++)l=n.finalize(l),n.reset();a.concat(l)}return a.sigBytes=4*r,a}}),e.EvpKDF=function(t,e,i){return r.create(i).compute(t,e)},t.EvpKDF},"object"==typeof i?e.exports=i=n(t("./core"),t("./sha1"),t("./hmac")):"function"==typeof define&&define.amd?define(["./core","./sha1","./hmac"],n):n((void 0).CryptoJS),cc._RF.pop()},{"./core":"core","./hmac":"hmac","./sha1":"sha1"}],"format-hex":[function(t,e,i){"use strict";var n;cc._RF.push(e,"39c80WO3/RLAoKpj3oOi0cW","format-hex"),n=function(t){var e,i,n;return i=(e=t).lib.CipherParams,n=e.enc.Hex,e.format.Hex={stringify:function(t){return t.ciphertext.toString(n)},parse:function(t){var e=n.parse(t);return i.create({ciphertext:e})}},t.format.Hex},"object"==typeof i?e.exports=i=n(t("./core"),t("./cipher-core")):"function"==typeof define&&define.amd?define(["./core","./cipher-core"],n):n((void 0).CryptoJS),cc._RF.pop()},{"./cipher-core":"cipher-core","./core":"core"}],"format-openssl":[function(t,e,i){"use strict";var n;cc._RF.push(e,"65812lEIhpDNKzH+QD+kFLN","format-openssl"),n=function(t){return t.format.OpenSSL},"object"==typeof i?e.exports=i=n(t("./core"),t("./cipher-core")):"function"==typeof define&&define.amd?define(["./core","./cipher-core"],n):n((void 0).CryptoJS),cc._RF.pop()},{"./cipher-core":"cipher-core","./core":"core"}],"hmac-md5":[function(t,e,i){"use strict";var n;cc._RF.push(e,"c52a8iINOhPiZJ2nOAEsMe0","hmac-md5"),n=function(t){return t.HmacMD5},"object"==typeof i?e.exports=i=n(t("./core"),t("./hmac")):"function"==typeof define&&define.amd?define(["./core","./hmac"],n):n((void 0).CryptoJS),cc._RF.pop()},{"./core":"core","./hmac":"hmac"}],"hmac-ripemd160":[function(t,e,i){"use strict";var n;cc._RF.push(e,"acb8enjI1dJvIP2RjWOgFcw","hmac-ripemd160"),n=function(t){return t.HmacRIPEMD160},"object"==typeof i?e.exports=i=n(t("./core"),t("./ripemd160"),t("./hmac")):"function"==typeof define&&define.amd?define(["./core","./ripemd160","./hmac"],n):n((void 0).CryptoJS),cc._RF.pop()},{"./core":"core","./hmac":"hmac","./ripemd160":"ripemd160"}],"hmac-sha1":[function(t,e,i){"use strict";var n;cc._RF.push(e,"bf852Y8WqRE5pyAFG9m9mHM","hmac-sha1"),n=function(t){return t.HmacSHA1},"object"==typeof i?e.exports=i=n(t("./core"),t("./sha1"),t("./hmac")):"function"==typeof define&&define.amd?define(["./core","./sha1","./hmac"],n):n((void 0).CryptoJS),cc._RF.pop()},{"./core":"core","./hmac":"hmac","./sha1":"sha1"}],"hmac-sha224":[function(t,e,i){"use strict";var n;cc._RF.push(e,"4d3ef0QhWFG64KeDRXXIAe8","hmac-sha224"),n=function(t){return t.HmacSHA224},"object"==typeof i?e.exports=i=n(t("./core"),t("./sha256"),t("./sha224"),t("./hmac")):"function"==typeof define&&define.amd?define(["./core","./sha256","./sha224","./hmac"],n):n((void 0).CryptoJS),cc._RF.pop()},{"./core":"core","./hmac":"hmac","./sha224":"sha224","./sha256":"sha256"}],"hmac-sha256":[function(t,e,i){"use strict";var n;cc._RF.push(e,"722d6oiAApMr4agtjhKqDgU","hmac-sha256"),n=function(t){return t.HmacSHA256},"object"==typeof i?e.exports=i=n(t("./core"),t("./sha256"),t("./hmac")):"function"==typeof define&&define.amd?define(["./core","./sha256","./hmac"],n):n((void 0).CryptoJS),cc._RF.pop()},{"./core":"core","./hmac":"hmac","./sha256":"sha256"}],"hmac-sha384":[function(t,e,i){"use strict";var n;cc._RF.push(e,"4ddd9jUUAJMRp8VhJl3irvA","hmac-sha384"),n=function(t){return t.HmacSHA384},"object"==typeof i?e.exports=i=n(t("./core"),t("./x64-core"),t("./sha512"),t("./sha384"),t("./hmac")):"function"==typeof define&&define.amd?define(["./core","./x64-core","./sha512","./sha384","./hmac"],n):n((void 0).CryptoJS),cc._RF.pop()},{"./core":"core","./hmac":"hmac","./sha384":"sha384","./sha512":"sha512","./x64-core":"x64-core"}],"hmac-sha3":[function(t,e,i){"use strict";var n;cc._RF.push(e,"1a534EFeVNLvI3qn7QBm0lC","hmac-sha3"),n=function(t){return t.HmacSHA3},"object"==typeof i?e.exports=i=n(t("./core"),t("./x64-core"),t("./sha3"),t("./hmac")):"function"==typeof define&&define.amd?define(["./core","./x64-core","./sha3","./hmac"],n):n((void 0).CryptoJS),cc._RF.pop()},{"./core":"core","./hmac":"hmac","./sha3":"sha3","./x64-core":"x64-core"}],"hmac-sha512":[function(t,e,i){"use strict";var n;cc._RF.push(e,"0f002mjg7NE/Lw1T2HsvA+Y","hmac-sha512"),n=function(t){return t.HmacSHA512},"object"==typeof i?e.exports=i=n(t("./core"),t("./x64-core"),t("./sha512"),t("./hmac")):"function"==typeof define&&define.amd?define(["./core","./x64-core","./sha512","./hmac"],n):n((void 0).CryptoJS),cc._RF.pop()},{"./core":"core","./hmac":"hmac","./sha512":"sha512","./x64-core":"x64-core"}],hmac:[function(t,e,i){"use strict";var n;cc._RF.push(e,"f6c22cyoiJMYbE7Kacwtxf5","hmac"),n=function(t){var e,i,n;i=(e=t).lib.Base,n=e.enc.Utf8,e.algo.HMAC=i.extend({init:function(t,e){t=this._hasher=new t.init,"string"==typeof e&&(e=n.parse(e));var i=t.blockSize,o=4*i;e.sigBytes>o&&(e=t.finalize(e)),e.clamp();for(var a=this._oKey=e.clone(),s=this._iKey=e.clone(),r=a.words,c=s.words,l=0;l<i;l++)r[l]^=1549556828,c[l]^=909522486;a.sigBytes=s.sigBytes=o,this.reset()},reset:function(){var t=this._hasher;t.reset(),t.update(this._iKey)},update:function(t){return this._hasher.update(t),this},finalize:function(t){var e=this._hasher,i=e.finalize(t);return e.reset(),e.finalize(this._oKey.clone().concat(i))}})},"object"==typeof i?e.exports=i=n(t("./core")):"function"==typeof define&&define.amd?define(["./core"],n):n((void 0).CryptoJS),cc._RF.pop()},{"./core":"core"}],i18n:[function(t,e,i){"use strict";cc._RF.push(e,"f269a7ULRNDg4j7Ca5dbW6F","i18n");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),a=this&&this.__decorate||function(t,e,i,n){var o,a=arguments.length,s=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var r=t.length-1;r>=0;r--)(o=t[r])&&(s=(a<3?o(s):a>3?o(e,i,s):o(e,i))||s);return a>3&&s&&Object.defineProperty(e,i,s),s};Object.defineProperty(i,"__esModule",{value:!0});var s=t("./Language"),r=cc._decorator,c=r.ccclass,l=r.property,p=r.executeInEditMode,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.text="",e}return o(e,t),e.prototype.onLoad=function(){this.node.getComponent(cc.Label).string=s.default[this.text]},e.prototype.start=function(){},a([l(cc.String)],e.prototype,"text",void 0),a([c,p],e)}(cc.Component);i.default=u,cc._RF.pop()},{"./Language":"Language"}],index:[function(t,e,i){"use strict";var n;cc._RF.push(e,"c078cqwugpOsoMRfzxvExZg","index"),n=function(t){return t},"object"==typeof i?e.exports=i=n(t("./core"),t("./x64-core"),t("./lib-typedarrays"),t("./enc-utf16"),t("./enc-base64"),t("./sha1"),t("./sha256"),t("./sha224"),t("./sha512"),t("./sha384"),t("./sha3"),t("./ripemd160"),t("./hmac"),t("./pbkdf2"),t("./evpkdf"),t("./cipher-core"),t("./mode-cfb"),t("./mode-ctr"),t("./mode-ctr-gladman"),t("./mode-ofb"),t("./mode-ecb"),t("./pad-ansix923"),t("./pad-iso10126"),t("./pad-iso97971"),t("./pad-zeropadding"),t("./pad-nopadding"),t("./format-hex"),t("./aes"),t("./tripledes"),t("./rc4"),t("./rabbit"),t("./rabbit-legacy")):"function"==typeof define&&define.amd?define(["./core","./x64-core","./lib-typedarrays","./enc-utf16","./enc-base64","./sha1","./sha256","./sha224","./sha512","./sha384","./sha3","./ripemd160","./hmac","./pbkdf2","./evpkdf","./cipher-core","./mode-cfb","./mode-ctr","./mode-ctr-gladman","./mode-ofb","./mode-ecb","./pad-ansix923","./pad-iso10126","./pad-iso97971","./pad-zeropadding","./pad-nopadding","./format-hex","./aes","./tripledes","./rc4","./rabbit","./rabbit-legacy"],n):(void 0).CryptoJS=n((void 0).CryptoJS),cc._RF.pop()},{"./aes":"aes","./cipher-core":"cipher-core","./core":"core","./enc-base64":"enc-base64","./enc-utf16":"enc-utf16","./evpkdf":"evpkdf","./format-hex":"format-hex","./hmac":"hmac","./lib-typedarrays":"lib-typedarrays","./mode-cfb":"mode-cfb","./mode-ctr":"mode-ctr","./mode-ctr-gladman":"mode-ctr-gladman","./mode-ecb":"mode-ecb","./mode-ofb":"mode-ofb","./pad-ansix923":"pad-ansix923","./pad-iso10126":"pad-iso10126","./pad-iso97971":"pad-iso97971","./pad-nopadding":"pad-nopadding","./pad-zeropadding":"pad-zeropadding","./pbkdf2":"pbkdf2","./rabbit":"rabbit","./rabbit-legacy":"rabbit-legacy","./rc4":"rc4","./ripemd160":"ripemd160","./sha1":"sha1","./sha224":"sha224","./sha256":"sha256","./sha3":"sha3","./sha384":"sha384","./sha512":"sha512","./tripledes":"tripledes","./x64-core":"x64-core"}],"lib-typedarrays":[function(t,e,i){"use strict";var n;cc._RF.push(e,"afc22vSEDdC8aK6iogLo4QL","lib-typedarrays"),n=function(t){return function(){if("function"==typeof ArrayBuffer){var e=t.lib.WordArray,i=e.init;(e.init=function(t){if(t instanceof ArrayBuffer&&(t=new Uint8Array(t)),(t instanceof Int8Array||"undefined"!=typeof Uint8ClampedArray&&t instanceof Uint8ClampedArray||t instanceof Int16Array||t instanceof Uint16Array||t instanceof Int32Array||t instanceof Uint32Array||t instanceof Float32Array||t instanceof Float64Array)&&(t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength)),t instanceof Uint8Array){for(var e=t.byteLength,n=[],o=0;o<e;o++)n[o>>>2]|=t[o]<<24-o%4*8;i.call(this,n,e)}else i.apply(this,arguments)}).prototype=e}}(),t.lib.WordArray},"object"==typeof i?e.exports=i=n(t("./core")):"function"==typeof define&&define.amd?define(["./core"],n):n((void 0).CryptoJS),cc._RF.pop()},{"./core":"core"}],md5:[function(t,e){"use strict";cc._RF.push(e,"ed942J/1dBFa4mFn3vvITmb","md5"),e.exports=function(t){function e(t){for(var e=[],i=0;i<8;i++)e.push(255&t),t>>>=8;return e}function i(t,e,i){return t&e|~t&i}function n(t,e,i){return i&t|~i&e}function o(t,e,i){return t^e^i}function a(t,e,i){return e^(t|~i)}function s(t,e){return t[e+3]<<24|t[e+2]<<16|t[e+1]<<8|t[e]}function r(t){for(var e=[],i=0;i<t.length;i++)if(t.charCodeAt(i)<=127)e.push(t.charCodeAt(i));else for(var n=encodeURIComponent(t.charAt(i)).substring(1).split("%"),o=0;o<n.length;o++)e.push(parseInt(n[o],16));return e}function c(t,e,i,n){for(var o,a="",s=0,r=0,c=3;c>=0;c--)s=255&(r=arguments[c]),s<<=8,s|=255&(r>>>=8),s<<=8,s|=255&(r>>>=8),s<<=8,a+=(void 0,o=((s|=r>>>=8)>>>0).toString(16),"00000000".substring(0,8-o.length)+o);return a}function l(t){for(var e=new Array(t.length),i=0;i<t.length;i++)e[i]=t[i];return e}var p=null;function u(t){return t.slice()}var h=null;function d(t,e){return 4294967295&t+e}return"string"==typeof t?p=r(t):t.constructor==Array?0===t.length?p=u(t):"string"==typeof t[0]?p=function(t){for(var e=[],i=0;i<t.length;i++)e=e.concat(r(t[i]));return e}(t):"number"==typeof t[0]?p=u(t):h=typeof t[0]:"undefined"!=typeof ArrayBuffer?t instanceof ArrayBuffer?p=l(new Uint8Array(t)):t instanceof Uint8Array||t instanceof Int8Array?p=l(t):t instanceof Uint32Array||t instanceof Int32Array||t instanceof Uint16Array||t instanceof Int16Array||t instanceof Float32Array||t instanceof Float64Array?p=l(new Uint8Array(t.buffer)):h=typeof t:h=typeof t,h&&alert("MD5 type mismatch, cannot process "+h),function(){function t(t,e,i,n){var o,a,s=b;b=_,_=v,v=d(v,(o=d(y,d(t,d(e,i))))<<(a=n)&4294967295|o>>>32-a),y=s}var r=p.length;p.push(128);var l=p.length%64;if(l>56){for(var u=0;u<64-l;u++)p.push(0);l=p.length%64}for(u=0;u<56-l;u++)p.push(0);p=p.concat(e(8*r));var h=1732584193,f=4023233417,m=2562383102,g=271733878,y=0,v=0,_=0,b=0;for(u=0;u<p.length/64;u++){y=h;var C=64*u;t(i(v=f,_=m,b=g),3614090360,s(p,C),7),t(i(v,_,b),3905402710,s(p,C+4),12),t(i(v,_,b),606105819,s(p,C+8),17),t(i(v,_,b),3250441966,s(p,C+12),22),t(i(v,_,b),4118548399,s(p,C+16),7),t(i(v,_,b),1200080426,s(p,C+20),12),t(i(v,_,b),2821735955,s(p,C+24),17),t(i(v,_,b),4249261313,s(p,C+28),22),t(i(v,_,b),1770035416,s(p,C+32),7),t(i(v,_,b),2336552879,s(p,C+36),12),t(i(v,_,b),4294925233,s(p,C+40),17),t(i(v,_,b),2304563134,s(p,C+44),22),t(i(v,_,b),1804603682,s(p,C+48),7),t(i(v,_,b),4254626195,s(p,C+52),12),t(i(v,_,b),2792965006,s(p,C+56),17),t(i(v,_,b),1236535329,s(p,C+60),22),t(n(v,_,b),4129170786,s(p,C+4),5),t(n(v,_,b),3225465664,s(p,C+24),9),t(n(v,_,b),643717713,s(p,C+44),14),t(n(v,_,b),3921069994,s(p,C),20),t(n(v,_,b),3593408605,s(p,C+20),5),t(n(v,_,b),38016083,s(p,C+40),9),t(n(v,_,b),3634488961,s(p,C+60),14),t(n(v,_,b),3889429448,s(p,C+16),20),t(n(v,_,b),568446438,s(p,C+36),5),t(n(v,_,b),3275163606,s(p,C+56),9),t(n(v,_,b),4107603335,s(p,C+12),14),t(n(v,_,b),1163531501,s(p,C+32),20),t(n(v,_,b),2850285829,s(p,C+52),5),t(n(v,_,b),4243563512,s(p,C+8),9),t(n(v,_,b),1735328473,s(p,C+28),14),t(n(v,_,b),2368359562,s(p,C+48),20),t(o(v,_,b),4294588738,s(p,C+20),4),t(o(v,_,b),2272392833,s(p,C+32),11),t(o(v,_,b),1839030562,s(p,C+44),16),t(o(v,_,b),4259657740,s(p,C+56),23),t(o(v,_,b),2763975236,s(p,C+4),4),t(o(v,_,b),1272893353,s(p,C+16),11),t(o(v,_,b),4139469664,s(p,C+28),16),t(o(v,_,b),3200236656,s(p,C+40),23),t(o(v,_,b),681279174,s(p,C+52),4),t(o(v,_,b),3936430074,s(p,C),11),t(o(v,_,b),3572445317,s(p,C+12),16),t(o(v,_,b),76029189,s(p,C+24),23),t(o(v,_,b),3654602809,s(p,C+36),4),t(o(v,_,b),3873151461,s(p,C+48),11),t(o(v,_,b),530742520,s(p,C+60),16),t(o(v,_,b),3299628645,s(p,C+8),23),t(a(v,_,b),4096336452,s(p,C),6),t(a(v,_,b),1126891415,s(p,C+28),10),t(a(v,_,b),2878612391,s(p,C+56),15),t(a(v,_,b),4237533241,s(p,C+20),21),t(a(v,_,b),1700485571,s(p,C+48),6),t(a(v,_,b),2399980690,s(p,C+12),10),t(a(v,_,b),4293915773,s(p,C+40),15),t(a(v,_,b),2240044497,s(p,C+4),21),t(a(v,_,b),1873313359,s(p,C+32),6),t(a(v,_,b),4264355552,s(p,C+60),10),t(a(v,_,b),2734768916,s(p,C+24),15),t(a(v,_,b),1309151649,s(p,C+52),21),t(a(v,_,b),4149444226,s(p,C+16),6),t(a(v,_,b),3174756917,s(p,C+44),10),t(a(v,_,b),718787259,s(p,C+8),15),t(a(v,_,b),3951481745,s(p,C+36),21),h=d(h,y),f=d(f,v),m=d(m,_),g=d(g,b)}return c(g,m,f,h)}()},cc._RF.pop()},{}],"mode-cfb":[function(t,e,i){"use strict";var n;cc._RF.push(e,"a4b34aqLWBK2b2lorfyua/Q","mode-cfb"),n=function(t){return t.mode.CFB=function(){var e=t.lib.BlockCipherMode.extend();function i(t,e,i,n){var o=this._iv;if(o){var a=o.slice(0);this._iv=void 0}else a=this._prevBlock;n.encryptBlock(a,0);for(var s=0;s<i;s++)t[e+s]^=a[s]}return e.Encryptor=e.extend({processBlock:function(t,e){var n=this._cipher,o=n.blockSize;i.call(this,t,e,o,n),this._prevBlock=t.slice(e,e+o)}}),e.Decryptor=e.extend({processBlock:function(t,e){var n=this._cipher,o=n.blockSize,a=t.slice(e,e+o);i.call(this,t,e,o,n),this._prevBlock=a}}),e}(),t.mode.CFB},"object"==typeof i?e.exports=i=n(t("./core"),t("./cipher-core")):"function"==typeof define&&define.amd?define(["./core","./cipher-core"],n):n((void 0).CryptoJS),cc._RF.pop()},{"./cipher-core":"cipher-core","./core":"core"}],"mode-ctr-gladman":[function(t,e,i){"use strict";var n;cc._RF.push(e,"6b39e1pUz1LX4ZYPqEDNtrt","mode-ctr-gladman"),n=function(t){return t.mode.CTRGladman=function(){var e=t.lib.BlockCipherMode.extend();function i(t){if(255==(t>>24&255)){var e=t>>16&255,i=t>>8&255,n=255&t;255===e?(e=0,255===i?(i=0,255===n?n=0:++n):++i):++e,t=0,t+=e<<16,t+=i<<8,t+=n}else t+=1<<24;return t}function n(t){return 0===(t[0]=i(t[0]))&&(t[1]=i(t[1])),t}var o=e.Encryptor=e.extend({processBlock:function(t,e){var i=this._cipher,o=i.blockSize,a=this._iv,s=this._counter;a&&(s=this._counter=a.slice(0),this._iv=void 0),n(s);var r=s.slice(0);i.encryptBlock(r,0);for(var c=0;c<o;c++)t[e+c]^=r[c]}});return e.Decryptor=o,e}(),t.mode.CTRGladman},"object"==typeof i?e.exports=i=n(t("./core"),t("./cipher-core")):"function"==typeof define&&define.amd?define(["./core","./cipher-core"],n):n((void 0).CryptoJS),cc._RF.pop()},{"./cipher-core":"cipher-core","./core":"core"}],"mode-ctr":[function(t,e,i){"use strict";var n;cc._RF.push(e,"9757f4ZVtxL741rKxFsf+8x","mode-ctr"),n=function(t){var e,i;return t.mode.CTR=(i=(e=t.lib.BlockCipherMode.extend()).Encryptor=e.extend({processBlock:function(t,e){var i=this._cipher,n=i.blockSize,o=this._iv,a=this._counter;o&&(a=this._counter=o.slice(0),this._iv=void 0);var s=a.slice(0);i.encryptBlock(s,0),a[n-1]=a[n-1]+1|0;for(var r=0;r<n;r++)t[e+r]^=s[r]}}),e.Decryptor=i,e),t.mode.CTR},"object"==typeof i?e.exports=i=n(t("./core"),t("./cipher-core")):"function"==typeof define&&define.amd?define(["./core","./cipher-core"],n):n((void 0).CryptoJS),cc._RF.pop()},{"./cipher-core":"cipher-core","./core":"core"}],"mode-ecb":[function(t,e,i){"use strict";var n;cc._RF.push(e,"9faffiNUQdFkKYNHz4o/omh","mode-ecb"),n=function(t){var e;return t.mode.ECB=((e=t.lib.BlockCipherMode.extend()).Encryptor=e.extend({processBlock:function(t,e){this._cipher.encryptBlock(t,e)}}),e.Decryptor=e.extend({processBlock:function(t,e){this._cipher.decryptBlock(t,e)}}),e),t.mode.ECB},"object"==typeof i?e.exports=i=n(t("./core"),t("./cipher-core")):"function"==typeof define&&define.amd?define(["./core","./cipher-core"],n):n((void 0).CryptoJS),cc._RF.pop()},{"./cipher-core":"cipher-core","./core":"core"}],"mode-ofb":[function(t,e,i){"use strict";var n;cc._RF.push(e,"caf7eyDn49C44GUvrofOFdb","mode-ofb"),n=function(t){var e,i;return t.mode.OFB=(i=(e=t.lib.BlockCipherMode.extend()).Encryptor=e.extend({processBlock:function(t,e){var i=this._cipher,n=i.blockSize,o=this._iv,a=this._keystream;o&&(a=this._keystream=o.slice(0),this._iv=void 0),i.encryptBlock(a,0);for(var s=0;s<n;s++)t[e+s]^=a[s]}}),e.Decryptor=i,e),t.mode.OFB},"object"==typeof i?e.exports=i=n(t("./core"),t("./cipher-core")):"function"==typeof define&&define.amd?define(["./core","./cipher-core"],n):n((void 0).CryptoJS),cc._RF.pop()},{"./cipher-core":"cipher-core","./core":"core"}],"pad-ansix923":[function(t,e,i){"use strict";var n;cc._RF.push(e,"bc552a8YcpK8aBvKIYqts71","pad-ansix923"),n=function(t){return t.pad.AnsiX923={pad:function(t,e){var i=t.sigBytes,n=4*e,o=n-i%n,a=i+o-1;t.clamp(),t.words[a>>>2]|=o<<24-a%4*8,t.sigBytes+=o},unpad:function(t){var e=255&t.words[t.sigBytes-1>>>2];t.sigBytes-=e}},t.pad.Ansix923},"object"==typeof i?e.exports=i=n(t("./core"),t("./cipher-core")):"function"==typeof define&&define.amd?define(["./core","./cipher-core"],n):n((void 0).CryptoJS),cc._RF.pop()},{"./cipher-core":"cipher-core","./core":"core"}],"pad-iso10126":[function(t,e,i){"use strict";var n;cc._RF.push(e,"f8ead33oShJ/IyfYZEVJp3t","pad-iso10126"),n=function(t){return t.pad.Iso10126={pad:function(e,i){var n=4*i,o=n-e.sigBytes%n;e.concat(t.lib.WordArray.random(o-1)).concat(t.lib.WordArray.create([o<<24],1))},unpad:function(t){var e=255&t.words[t.sigBytes-1>>>2];t.sigBytes-=e}},t.pad.Iso10126},"object"==typeof i?e.exports=i=n(t("./core"),t("./cipher-core")):"function"==typeof define&&define.amd?define(["./core","./cipher-core"],n):n((void 0).CryptoJS),cc._RF.pop()},{"./cipher-core":"cipher-core","./core":"core"}],"pad-iso97971":[function(t,e,i){"use strict";var n;cc._RF.push(e,"212daZAEB5G14g0yi/p6c2D","pad-iso97971"),n=function(t){return t.pad.Iso97971={pad:function(e,i){e.concat(t.lib.WordArray.create([2147483648],1)),t.pad.ZeroPadding.pad(e,i)},unpad:function(e){t.pad.ZeroPadding.unpad(e),e.sigBytes--}},t.pad.Iso97971},"object"==typeof i?e.exports=i=n(t("./core"),t("./cipher-core")):"function"==typeof define&&define.amd?define(["./core","./cipher-core"],n):n((void 0).CryptoJS),cc._RF.pop()},{"./cipher-core":"cipher-core","./core":"core"}],"pad-nopadding":[function(t,e,i){"use strict";var n;cc._RF.push(e,"36d3bq/NdZK/KsZu3Sehk8x","pad-nopadding"),n=function(t){return t.pad.NoPadding={pad:function(){},unpad:function(){}},t.pad.NoPadding},"object"==typeof i?e.exports=i=n(t("./core"),t("./cipher-core")):"function"==typeof define&&define.amd?define(["./core","./cipher-core"],n):n((void 0).CryptoJS),cc._RF.pop()},{"./cipher-core":"cipher-core","./core":"core"}],"pad-pkcs7":[function(t,e,i){"use strict";var n;cc._RF.push(e,"a0326ziym5Iqro1TtSHsy0s","pad-pkcs7"),n=function(t){return t.pad.Pkcs7},"object"==typeof i?e.exports=i=n(t("./core"),t("./cipher-core")):"function"==typeof define&&define.amd?define(["./core","./cipher-core"],n):n((void 0).CryptoJS),cc._RF.pop()},{"./cipher-core":"cipher-core","./core":"core"}],"pad-zeropadding":[function(t,e,i){"use strict";var n;cc._RF.push(e,"904a7Gp24xICr4AR7mmMtQF","pad-zeropadding"),n=function(t){return t.pad.ZeroPadding={pad:function(t,e){var i=4*e;t.clamp(),t.sigBytes+=i-(t.sigBytes%i||i)},unpad:function(t){for(var e=t.words,i=t.sigBytes-1;!(e[i>>>2]>>>24-i%4*8&255);)i--;t.sigBytes=i+1}},t.pad.ZeroPadding},"object"==typeof i?e.exports=i=n(t("./core"),t("./cipher-core")):"function"==typeof define&&define.amd?define(["./core","./cipher-core"],n):n((void 0).CryptoJS),cc._RF.pop()},{"./cipher-core":"cipher-core","./core":"core"}],pbkdf2:[function(t,e,i){"use strict";var n;cc._RF.push(e,"d7d4d1W/ZVMYp8mKP/qZ5/d","pbkdf2"),n=function(t){var e,i,n,o,a,s,r,c;return n=(i=(e=t).lib).Base,o=i.WordArray,s=(a=e.algo).SHA1,r=a.HMAC,c=a.PBKDF2=n.extend({cfg:n.extend({keySize:4,hasher:s,iterations:1}),init:function(t){this.cfg=this.cfg.extend(t)},compute:function(t,e){for(var i=this.cfg,n=r.create(i.hasher,t),a=o.create(),s=o.create([1]),c=a.words,l=s.words,p=i.keySize,u=i.iterations;c.length<p;){var h=n.update(e).finalize(s);n.reset();for(var d=h.words,f=d.length,m=h,g=1;g<u;g++){m=n.finalize(m),n.reset();for(var y=m.words,v=0;v<f;v++)d[v]^=y[v]}a.concat(h),l[0]++}return a.sigBytes=4*p,a}}),e.PBKDF2=function(t,e,i){return c.create(i).compute(t,e)},t.PBKDF2},"object"==typeof i?e.exports=i=n(t("./core"),t("./sha1"),t("./hmac")):"function"==typeof define&&define.amd?define(["./core","./sha1","./hmac"],n):n((void 0).CryptoJS),cc._RF.pop()},{"./core":"core","./hmac":"hmac","./sha1":"sha1"}],"rabbit-legacy":[function(t,e,i){"use strict";var n;cc._RF.push(e,"7f5d4yG/HVE064jXqmYoa/+","rabbit-legacy"),n=function(t){return function(){var e=t,i=e.lib.StreamCipher,n=e.algo,o=[],a=[],s=[],r=n.RabbitLegacy=i.extend({_doReset:function(){var t=this._key.words,e=this.cfg.iv,i=this._X=[t[0],t[3]<<16|t[2]>>>16,t[1],t[0]<<16|t[3]>>>16,t[2],t[1]<<16|t[0]>>>16,t[3],t[2]<<16|t[1]>>>16],n=this._C=[t[2]<<16|t[2]>>>16,4294901760&t[0]|65535&t[1],t[3]<<16|t[3]>>>16,4294901760&t[1]|65535&t[2],t[0]<<16|t[0]>>>16,4294901760&t[2]|65535&t[3],t[1]<<16|t[1]>>>16,4294901760&t[3]|65535&t[0]];this._b=0;for(var o=0;o<4;o++)c.call(this);for(o=0;o<8;o++)n[o]^=i[o+4&7];if(e){var a=e.words,s=a[0],r=a[1],l=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8),p=16711935&(r<<8|r>>>24)|4278255360&(r<<24|r>>>8),u=l>>>16|4294901760&p,h=p<<16|65535&l;for(n[0]^=l,n[1]^=u,n[2]^=p,n[3]^=h,n[4]^=l,n[5]^=u,n[6]^=p,n[7]^=h,o=0;o<4;o++)c.call(this)}},_doProcessBlock:function(t,e){var i=this._X;c.call(this),o[0]=i[0]^i[5]>>>16^i[3]<<16,o[1]=i[2]^i[7]>>>16^i[5]<<16,o[2]=i[4]^i[1]>>>16^i[7]<<16,o[3]=i[6]^i[3]>>>16^i[1]<<16;for(var n=0;n<4;n++)o[n]=16711935&(o[n]<<8|o[n]>>>24)|4278255360&(o[n]<<24|o[n]>>>8),t[e+n]^=o[n]},blockSize:4,ivSize:2});function c(){for(var t=this._X,e=this._C,i=0;i<8;i++)a[i]=e[i];for(e[0]=e[0]+1295307597+this._b|0,e[1]=e[1]+3545052371+(e[0]>>>0<a[0]>>>0?1:0)|0,e[2]=e[2]+886263092+(e[1]>>>0<a[1]>>>0?1:0)|0,e[3]=e[3]+1295307597+(e[2]>>>0<a[2]>>>0?1:0)|0,e[4]=e[4]+3545052371+(e[3]>>>0<a[3]>>>0?1:0)|0,e[5]=e[5]+886263092+(e[4]>>>0<a[4]>>>0?1:0)|0,e[6]=e[6]+1295307597+(e[5]>>>0<a[5]>>>0?1:0)|0,e[7]=e[7]+3545052371+(e[6]>>>0<a[6]>>>0?1:0)|0,this._b=e[7]>>>0<a[7]>>>0?1:0,i=0;i<8;i++){var n=t[i]+e[i],o=65535&n,r=n>>>16,c=((o*o>>>17)+o*r>>>15)+r*r,l=((4294901760&n)*n|0)+((65535&n)*n|0);s[i]=c^l}t[0]=s[0]+(s[7]<<16|s[7]>>>16)+(s[6]<<16|s[6]>>>16)|0,t[1]=s[1]+(s[0]<<8|s[0]>>>24)+s[7]|0,t[2]=s[2]+(s[1]<<16|s[1]>>>16)+(s[0]<<16|s[0]>>>16)|0,t[3]=s[3]+(s[2]<<8|s[2]>>>24)+s[1]|0,t[4]=s[4]+(s[3]<<16|s[3]>>>16)+(s[2]<<16|s[2]>>>16)|0,t[5]=s[5]+(s[4]<<8|s[4]>>>24)+s[3]|0,t[6]=s[6]+(s[5]<<16|s[5]>>>16)+(s[4]<<16|s[4]>>>16)|0,t[7]=s[7]+(s[6]<<8|s[6]>>>24)+s[5]|0}e.RabbitLegacy=i._createHelper(r)}(),t.RabbitLegacy},"object"==typeof i?e.exports=i=n(t("./core"),t("./enc-base64"),t("./evpkdf"),t("./cipher-core")):"function"==typeof define&&define.amd?define(["./core","./enc-base64","./evpkdf","./cipher-core"],n):n((void 0).CryptoJS),cc._RF.pop()},{"./cipher-core":"cipher-core","./core":"core","./enc-base64":"enc-base64","./evpkdf":"evpkdf"}],rabbit:[function(t,e,i){"use strict";var n;cc._RF.push(e,"a75c6fYMilCjZOgsMB7EGSz","rabbit"),n=function(t){return function(){var e=t,i=e.lib.StreamCipher,n=e.algo,o=[],a=[],s=[],r=n.Rabbit=i.extend({_doReset:function(){for(var t=this._key.words,e=this.cfg.iv,i=0;i<4;i++)t[i]=16711935&(t[i]<<8|t[i]>>>24)|4278255360&(t[i]<<24|t[i]>>>8);var n=this._X=[t[0],t[3]<<16|t[2]>>>16,t[1],t[0]<<16|t[3]>>>16,t[2],t[1]<<16|t[0]>>>16,t[3],t[2]<<16|t[1]>>>16],o=this._C=[t[2]<<16|t[2]>>>16,4294901760&t[0]|65535&t[1],t[3]<<16|t[3]>>>16,4294901760&t[1]|65535&t[2],t[0]<<16|t[0]>>>16,4294901760&t[2]|65535&t[3],t[1]<<16|t[1]>>>16,4294901760&t[3]|65535&t[0]];for(this._b=0,i=0;i<4;i++)c.call(this);for(i=0;i<8;i++)o[i]^=n[i+4&7];if(e){var a=e.words,s=a[0],r=a[1],l=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8),p=16711935&(r<<8|r>>>24)|4278255360&(r<<24|r>>>8),u=l>>>16|4294901760&p,h=p<<16|65535&l;for(o[0]^=l,o[1]^=u,o[2]^=p,o[3]^=h,o[4]^=l,o[5]^=u,o[6]^=p,o[7]^=h,i=0;i<4;i++)c.call(this)}},_doProcessBlock:function(t,e){var i=this._X;c.call(this),o[0]=i[0]^i[5]>>>16^i[3]<<16,o[1]=i[2]^i[7]>>>16^i[5]<<16,o[2]=i[4]^i[1]>>>16^i[7]<<16,o[3]=i[6]^i[3]>>>16^i[1]<<16;for(var n=0;n<4;n++)o[n]=16711935&(o[n]<<8|o[n]>>>24)|4278255360&(o[n]<<24|o[n]>>>8),t[e+n]^=o[n]},blockSize:4,ivSize:2});function c(){for(var t=this._X,e=this._C,i=0;i<8;i++)a[i]=e[i];for(e[0]=e[0]+1295307597+this._b|0,e[1]=e[1]+3545052371+(e[0]>>>0<a[0]>>>0?1:0)|0,e[2]=e[2]+886263092+(e[1]>>>0<a[1]>>>0?1:0)|0,e[3]=e[3]+1295307597+(e[2]>>>0<a[2]>>>0?1:0)|0,e[4]=e[4]+3545052371+(e[3]>>>0<a[3]>>>0?1:0)|0,e[5]=e[5]+886263092+(e[4]>>>0<a[4]>>>0?1:0)|0,e[6]=e[6]+1295307597+(e[5]>>>0<a[5]>>>0?1:0)|0,e[7]=e[7]+3545052371+(e[6]>>>0<a[6]>>>0?1:0)|0,this._b=e[7]>>>0<a[7]>>>0?1:0,i=0;i<8;i++){var n=t[i]+e[i],o=65535&n,r=n>>>16,c=((o*o>>>17)+o*r>>>15)+r*r,l=((4294901760&n)*n|0)+((65535&n)*n|0);s[i]=c^l}t[0]=s[0]+(s[7]<<16|s[7]>>>16)+(s[6]<<16|s[6]>>>16)|0,t[1]=s[1]+(s[0]<<8|s[0]>>>24)+s[7]|0,t[2]=s[2]+(s[1]<<16|s[1]>>>16)+(s[0]<<16|s[0]>>>16)|0,t[3]=s[3]+(s[2]<<8|s[2]>>>24)+s[1]|0,t[4]=s[4]+(s[3]<<16|s[3]>>>16)+(s[2]<<16|s[2]>>>16)|0,t[5]=s[5]+(s[4]<<8|s[4]>>>24)+s[3]|0,t[6]=s[6]+(s[5]<<16|s[5]>>>16)+(s[4]<<16|s[4]>>>16)|0,t[7]=s[7]+(s[6]<<8|s[6]>>>24)+s[5]|0}e.Rabbit=i._createHelper(r)}(),t.Rabbit},"object"==typeof i?e.exports=i=n(t("./core"),t("./enc-base64"),t("./evpkdf"),t("./cipher-core")):"function"==typeof define&&define.amd?define(["./core","./enc-base64","./evpkdf","./cipher-core"],n):n((void 0).CryptoJS),cc._RF.pop()},{"./cipher-core":"cipher-core","./core":"core","./enc-base64":"enc-base64","./evpkdf":"evpkdf"}],rc4:[function(t,e,i){"use strict";var n;cc._RF.push(e,"33ca9APwudHa5IQ4Pu9Xrh/","rc4"),n=function(t){return function(){var e=t,i=e.lib.StreamCipher,n=e.algo,o=n.RC4=i.extend({_doReset:function(){for(var t=this._key,e=t.words,i=t.sigBytes,n=this._S=[],o=0;o<256;o++)n[o]=o;o=0;for(var a=0;o<256;o++){var s=o%i,r=e[s>>>2]>>>24-s%4*8&255;a=(a+n[o]+r)%256;var c=n[o];n[o]=n[a],n[a]=c}this._i=this._j=0},_doProcessBlock:function(t,e){t[e]^=a.call(this)},keySize:8,ivSize:0});function a(){for(var t=this._S,e=this._i,i=this._j,n=0,o=0;o<4;o++){i=(i+t[e=(e+1)%256])%256;var a=t[e];t[e]=t[i],t[i]=a,n|=t[(t[e]+t[i])%256]<<24-8*o}return this._i=e,this._j=i,n}e.RC4=i._createHelper(o);var s=n.RC4Drop=o.extend({cfg:o.cfg.extend({drop:192}),_doReset:function(){o._doReset.call(this);for(var t=this.cfg.drop;t>0;t--)a.call(this)}});e.RC4Drop=i._createHelper(s)}(),t.RC4},"object"==typeof i?e.exports=i=n(t("./core"),t("./enc-base64"),t("./evpkdf"),t("./cipher-core")):"function"==typeof define&&define.amd?define(["./core","./enc-base64","./evpkdf","./cipher-core"],n):n((void 0).CryptoJS),cc._RF.pop()},{"./cipher-core":"cipher-core","./core":"core","./enc-base64":"enc-base64","./evpkdf":"evpkdf"}],ripemd160:[function(t,e,i){"use strict";var n;cc._RF.push(e,"224f1IxtpdGwrx6yoh0OGs7","ripemd160"),n=function(t){return function(){var e=t,i=e.lib,n=i.WordArray,o=i.Hasher,a=e.algo,s=n.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),r=n.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),c=n.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),l=n.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),p=n.create([0,1518500249,1859775393,2400959708,2840853838]),u=n.create([1352829926,1548603684,1836072691,2053994217,0]),h=a.RIPEMD160=o.extend({_doReset:function(){this._hash=n.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(t,e){for(var i=0;i<16;i++){var n=e+i,o=t[n];t[n]=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8)}var a,h,_,b,C,S,x,A,k,B,I,w=this._hash.words,M=p.words,P=u.words,O=s.words,D=r.words,N=c.words,R=l.words;for(S=a=w[0],x=h=w[1],A=_=w[2],k=b=w[3],B=C=w[4],i=0;i<80;i+=1)I=a+t[e+O[i]]|0,I+=i<16?d(h,_,b)+M[0]:i<32?f(h,_,b)+M[1]:i<48?m(h,_,b)+M[2]:i<64?g(h,_,b)+M[3]:y(h,_,b)+M[4],I=(I=v(I|=0,N[i]))+C|0,a=C,C=b,b=v(_,10),_=h,h=I,I=S+t[e+D[i]]|0,I+=i<16?y(x,A,k)+P[0]:i<32?g(x,A,k)+P[1]:i<48?m(x,A,k)+P[2]:i<64?f(x,A,k)+P[3]:d(x,A,k)+P[4],I=(I=v(I|=0,R[i]))+B|0,S=B,B=k,k=v(A,10),A=x,x=I;I=w[1]+_+k|0,w[1]=w[2]+b+B|0,w[2]=w[3]+C+S|0,w[3]=w[4]+a+x|0,w[4]=w[0]+h+A|0,w[0]=I},_doFinalize:function(){var t=this._data,e=t.words,i=8*this._nDataBytes,n=8*t.sigBytes;e[n>>>5]|=128<<24-n%32,e[14+(n+64>>>9<<4)]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8),t.sigBytes=4*(e.length+1),this._process();for(var o=this._hash,a=o.words,s=0;s<5;s++){var r=a[s];a[s]=16711935&(r<<8|r>>>24)|4278255360&(r<<24|r>>>8)}return o},clone:function(){var t=o.clone.call(this);return t._hash=this._hash.clone(),t}});function d(t,e,i){return t^e^i}function f(t,e,i){return t&e|~t&i}function m(t,e,i){return(t|~e)^i}function g(t,e,i){return t&i|e&~i}function y(t,e,i){return t^(e|~i)}function v(t,e){return t<<e|t>>>32-e}e.RIPEMD160=o._createHelper(h),e.HmacRIPEMD160=o._createHmacHelper(h)}(Math),t.RIPEMD160},"object"==typeof i?e.exports=i=n(t("./core")):"function"==typeof define&&define.amd?define(["./core"],n):n((void 0).CryptoJS),cc._RF.pop()},{"./core":"core"}],sha1:[function(t,e,i){"use strict";var n;cc._RF.push(e,"3316c/rSntB3J4Zk2D0aLfZ","sha1"),n=function(t){var e,i,n,o,a,s,r;return i=(e=t).lib,n=i.WordArray,o=i.Hasher,a=e.algo,s=[],r=a.SHA1=o.extend({_doReset:function(){this._hash=new n.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(t,e){for(var i=this._hash.words,n=i[0],o=i[1],a=i[2],r=i[3],c=i[4],l=0;l<80;l++){if(l<16)s[l]=0|t[e+l];else{var p=s[l-3]^s[l-8]^s[l-14]^s[l-16];s[l]=p<<1|p>>>31}var u=(n<<5|n>>>27)+c+s[l];u+=l<20?1518500249+(o&a|~o&r):l<40?1859775393+(o^a^r):l<60?(o&a|o&r|a&r)-1894007588:(o^a^r)-899497514,c=r,r=a,a=o<<30|o>>>2,o=n,n=u}i[0]=i[0]+n|0,i[1]=i[1]+o|0,i[2]=i[2]+a|0,i[3]=i[3]+r|0,i[4]=i[4]+c|0},_doFinalize:function(){var t=this._data,e=t.words,i=8*this._nDataBytes,n=8*t.sigBytes;return e[n>>>5]|=128<<24-n%32,e[14+(n+64>>>9<<4)]=Math.floor(i/4294967296),e[15+(n+64>>>9<<4)]=i,t.sigBytes=4*e.length,this._process(),this._hash},clone:function(){var t=o.clone.call(this);return t._hash=this._hash.clone(),t}}),e.SHA1=o._createHelper(r),e.HmacSHA1=o._createHmacHelper(r),t.SHA1},"object"==typeof i?e.exports=i=n(t("./core")):"function"==typeof define&&define.amd?define(["./core"],n):n((void 0).CryptoJS),cc._RF.pop()},{"./core":"core"}],sha224:[function(t,e,i){"use strict";var n;cc._RF.push(e,"d1bb9vHgNNLt6Mu6copDIIV","sha224"),n=function(t){var e,i,n,o,a;return i=(e=t).lib.WordArray,n=e.algo,o=n.SHA256,a=n.SHA224=o.extend({_doReset:function(){this._hash=new i.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var t=o._doFinalize.call(this);return t.sigBytes-=4,t}}),e.SHA224=o._createHelper(a),e.HmacSHA224=o._createHmacHelper(a),t.SHA224},"object"==typeof i?e.exports=i=n(t("./core"),t("./sha256")):"function"==typeof define&&define.amd?define(["./core","./sha256"],n):n((void 0).CryptoJS),cc._RF.pop()},{"./core":"core","./sha256":"sha256"}],sha256:[function(t,e,i){"use strict";var n;cc._RF.push(e,"db35b/q7BlHAo4qUMq4YzZ0","sha256"),n=function(t){return function(e){var i=t,n=i.lib,o=n.WordArray,a=n.Hasher,s=i.algo,r=[],c=[];(function(){function t(t){for(var i=e.sqrt(t),n=2;n<=i;n++)if(!(t%n))return!1;return!0}function i(t){return 4294967296*(t-(0|t))|0}for(var n=2,o=0;o<64;)t(n)&&(o<8&&(r[o]=i(e.pow(n,.5))),c[o]=i(e.pow(n,1/3)),o++),n++})();var l=[],p=s.SHA256=a.extend({_doReset:function(){this._hash=new o.init(r.slice(0))},_doProcessBlock:function(t,e){for(var i=this._hash.words,n=i[0],o=i[1],a=i[2],s=i[3],r=i[4],p=i[5],u=i[6],h=i[7],d=0;d<64;d++){if(d<16)l[d]=0|t[e+d];else{var f=l[d-15],m=(f<<25|f>>>7)^(f<<14|f>>>18)^f>>>3,g=l[d-2],y=(g<<15|g>>>17)^(g<<13|g>>>19)^g>>>10;l[d]=m+l[d-7]+y+l[d-16]}var v=n&o^n&a^o&a,_=(n<<30|n>>>2)^(n<<19|n>>>13)^(n<<10|n>>>22),b=h+((r<<26|r>>>6)^(r<<21|r>>>11)^(r<<7|r>>>25))+(r&p^~r&u)+c[d]+l[d];h=u,u=p,p=r,r=s+b|0,s=a,a=o,o=n,n=b+(_+v)|0}i[0]=i[0]+n|0,i[1]=i[1]+o|0,i[2]=i[2]+a|0,i[3]=i[3]+s|0,i[4]=i[4]+r|0,i[5]=i[5]+p|0,i[6]=i[6]+u|0,i[7]=i[7]+h|0},_doFinalize:function(){var t=this._data,i=t.words,n=8*this._nDataBytes,o=8*t.sigBytes;return i[o>>>5]|=128<<24-o%32,i[14+(o+64>>>9<<4)]=e.floor(n/4294967296),i[15+(o+64>>>9<<4)]=n,t.sigBytes=4*i.length,this._process(),this._hash},clone:function(){var t=a.clone.call(this);return t._hash=this._hash.clone(),t}});i.SHA256=a._createHelper(p),i.HmacSHA256=a._createHmacHelper(p)}(Math),t.SHA256},"object"==typeof i?e.exports=i=n(t("./core")):"function"==typeof define&&define.amd?define(["./core"],n):n((void 0).CryptoJS),cc._RF.pop()},{"./core":"core"}],sha384:[function(t,e,i){"use strict";var n;cc._RF.push(e,"473895C7YVK94qOedpELTUU","sha384"),n=function(t){var e,i,n,o,a,s,r;return i=(e=t).x64,n=i.Word,o=i.WordArray,a=e.algo,s=a.SHA512,r=a.SHA384=s.extend({_doReset:function(){this._hash=new o.init([new n.init(3418070365,3238371032),new n.init(1654270250,914150663),new n.init(2438529370,812702999),new n.init(355462360,4144912697),new n.init(1731405415,4290775857),new n.init(2394180231,1750603025),new n.init(3675008525,1694076839),new n.init(1203062813,3204075428)])},_doFinalize:function(){var t=s._doFinalize.call(this);return t.sigBytes-=16,t}}),e.SHA384=s._createHelper(r),e.HmacSHA384=s._createHmacHelper(r),t.SHA384},"object"==typeof i?e.exports=i=n(t("./core"),t("./x64-core"),t("./sha512")):"function"==typeof define&&define.amd?define(["./core","./x64-core","./sha512"],n):n((void 0).CryptoJS),cc._RF.pop()},{"./core":"core","./sha512":"sha512","./x64-core":"x64-core"}],sha3:[function(t,e,i){"use strict";var n;cc._RF.push(e,"9489f413WpObLwrPrwWLD04","sha3"),n=function(t){return function(e){var i=t,n=i.lib,o=n.WordArray,a=n.Hasher,s=i.x64.Word,r=i.algo,c=[],l=[],p=[];(function(){for(var t=1,e=0,i=0;i<24;i++){c[t+5*e]=(i+1)*(i+2)/2%64;var n=(2*t+3*e)%5;t=e%5,e=n}for(t=0;t<5;t++)for(e=0;e<5;e++)l[t+5*e]=e+(2*t+3*e)%5*5;for(var o=1,a=0;a<24;a++){for(var r=0,u=0,h=0;h<7;h++){if(1&o){var d=(1<<h)-1;d<32?u^=1<<d:r^=1<<d-32}128&o?o=o<<1^113:o<<=1}p[a]=s.create(r,u)}})();var u=[];(function(){for(var t=0;t<25;t++)u[t]=s.create()})();var h=r.SHA3=a.extend({cfg:a.cfg.extend({outputLength:512}),_doReset:function(){for(var t=this._state=[],e=0;e<25;e++)t[e]=new s.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(t,e){for(var i=this._state,n=this.blockSize/2,o=0;o<n;o++){var a=t[e+2*o],s=t[e+2*o+1];a=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),s=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8),(w=i[o]).high^=s,w.low^=a}for(var r=0;r<24;r++){for(var h=0;h<5;h++){for(var d=0,f=0,m=0;m<5;m++)d^=(w=i[h+5*m]).high,f^=w.low;var g=u[h];g.high=d,g.low=f}for(h=0;h<5;h++){var y=u[(h+4)%5],v=u[(h+1)%5],_=v.high,b=v.low;for(d=y.high^(_<<1|b>>>31),f=y.low^(b<<1|_>>>31),m=0;m<5;m++)(w=i[h+5*m]).high^=d,w.low^=f}for(var C=1;C<25;C++){var S=(w=i[C]).high,x=w.low,A=c[C];A<32?(d=S<<A|x>>>32-A,f=x<<A|S>>>32-A):(d=x<<A-32|S>>>64-A,f=S<<A-32|x>>>64-A);var k=u[l[C]];k.high=d,k.low=f}var B=u[0],I=i[0];for(B.high=I.high,B.low=I.low,h=0;h<5;h++)for(m=0;m<5;m++){var w=i[C=h+5*m],M=u[C],P=u[(h+1)%5+5*m],O=u[(h+2)%5+5*m];w.high=M.high^~P.high&O.high,w.low=M.low^~P.low&O.low}w=i[0];var D=p[r];w.high^=D.high,w.low^=D.low}},_doFinalize:function(){var t=this._data,i=t.words,n=(this._nDataBytes,8*t.sigBytes),a=32*this.blockSize;i[n>>>5]|=1<<24-n%32,i[(e.ceil((n+1)/a)*a>>>5)-1]|=128,t.sigBytes=4*i.length,this._process();for(var s=this._state,r=this.cfg.outputLength/8,c=r/8,l=[],p=0;p<c;p++){var u=s[p],h=u.high,d=u.low;h=16711935&(h<<8|h>>>24)|4278255360&(h<<24|h>>>8),d=16711935&(d<<8|d>>>24)|4278255360&(d<<24|d>>>8),l.push(d),l.push(h)}return new o.init(l,r)},clone:function(){for(var t=a.clone.call(this),e=t._state=this._state.slice(0),i=0;i<25;i++)e[i]=e[i].clone();return t}});i.SHA3=a._createHelper(h),i.HmacSHA3=a._createHmacHelper(h)}(Math),t.SHA3},"object"==typeof i?e.exports=i=n(t("./core"),t("./x64-core")):"function"==typeof define&&define.amd?define(["./core","./x64-core"],n):n((void 0).CryptoJS),cc._RF.pop()},{"./core":"core","./x64-core":"x64-core"}],sha512:[function(t,e,i){"use strict";var n;cc._RF.push(e,"ee724DmyZ1AfrdxrDAQ2NQ4","sha512"),n=function(t){return function(){var e=t,i=e.lib.Hasher,n=e.x64,o=n.Word,a=n.WordArray,s=e.algo;function r(){return o.create.apply(o,arguments)}var c=[r(1116352408,3609767458),r(1899447441,602891725),r(3049323471,3964484399),r(3921009573,2173295548),r(961987163,4081628472),r(1508970993,3053834265),r(2453635748,2937671579),r(2870763221,3664609560),r(3624381080,2734883394),r(310598401,1164996542),r(607225278,1323610764),r(1426881987,3590304994),r(1925078388,4068182383),r(2162078206,991336113),r(2614888103,633803317),r(3248222580,3479774868),r(3835390401,2666613458),r(4022224774,944711139),r(264347078,2341262773),r(604807628,2007800933),r(770255983,1495990901),r(1249150122,1856431235),r(1555081692,3175218132),r(1996064986,2198950837),r(2554220882,3999719339),r(2821834349,766784016),r(2952996808,2566594879),r(3210313671,3203337956),r(3336571891,1034457026),r(3584528711,2466948901),r(113926993,3758326383),r(338241895,168717936),r(666307205,1188179964),r(773529912,1546045734),r(1294757372,1522805485),r(1396182291,2643833823),r(1695183700,2343527390),r(1986661051,1014477480),r(2177026350,1206759142),r(2456956037,344077627),r(2730485921,1290863460),r(2820302411,3158454273),r(3259730800,3505952657),r(3345764771,106217008),r(3516065817,3606008344),r(3600352804,1432725776),r(4094571909,1467031594),r(275423344,851169720),r(430227734,3100823752),r(506948616,1363258195),r(659060556,3750685593),r(883997877,3785050280),r(958139571,3318307427),r(1322822218,3812723403),r(1537002063,2003034995),r(1747873779,3602036899),r(1955562222,1575990012),r(2024104815,1125592928),r(2227730452,2716904306),r(2361852424,442776044),r(2428436474,593698344),r(2756734187,3733110249),r(3204031479,2999351573),r(3329325298,3815920427),r(3391569614,3928383900),r(3515267271,566280711),r(3940187606,3454069534),r(4118630271,4000239992),r(116418474,1914138554),r(174292421,2731055270),r(289380356,3203993006),r(460393269,320620315),r(685471733,587496836),r(852142971,1086792851),r(1017036298,365543100),r(1126000580,2618297676),r(1288033470,3409855158),r(1501505948,4234509866),r(1607167915,987167468),r(1816402316,1246189591)],l=[];(function(){for(var t=0;t<80;t++)l[t]=r()})();var p=s.SHA512=i.extend({_doReset:function(){this._hash=new a.init([new o.init(1779033703,4089235720),new o.init(3144134277,2227873595),new o.init(1013904242,4271175723),new o.init(2773480762,1595750129),new o.init(1359893119,2917565137),new o.init(2600822924,725511199),new o.init(528734635,4215389547),new o.init(1541459225,327033209)])},_doProcessBlock:function(t,e){for(var i=this._hash.words,n=i[0],o=i[1],a=i[2],s=i[3],r=i[4],p=i[5],u=i[6],h=i[7],d=n.high,f=n.low,m=o.high,g=o.low,y=a.high,v=a.low,_=s.high,b=s.low,C=r.high,S=r.low,x=p.high,A=p.low,k=u.high,B=u.low,I=h.high,w=h.low,M=d,P=f,O=m,D=g,N=y,R=v,L=_,F=b,T=C,j=S,H=x,E=A,G=k,q=B,U=I,z=w,W=0;W<80;W++){var J=l[W];if(W<16)var Y=J.high=0|t[e+2*W],X=J.low=0|t[e+2*W+1];else{var K=l[W-15],V=K.high,Z=K.low,Q=(V>>>1|Z<<31)^(V>>>8|Z<<24)^V>>>7,$=(Z>>>1|V<<31)^(Z>>>8|V<<24)^(Z>>>7|V<<25),tt=l[W-2],et=tt.high,it=tt.low,nt=(et>>>19|it<<13)^(et<<3|it>>>29)^et>>>6,ot=(it>>>19|et<<13)^(it<<3|et>>>29)^(it>>>6|et<<26),at=l[W-7],st=at.high,rt=at.low,ct=l[W-16],lt=ct.high,pt=ct.low;Y=(Y=(Y=Q+st+((X=$+rt)>>>0<$>>>0?1:0))+nt+((X+=ot)>>>0<ot>>>0?1:0))+lt+((X+=pt)>>>0<pt>>>0?1:0),J.high=Y,J.low=X}var ut,ht=T&H^~T&G,dt=j&E^~j&q,ft=M&O^M&N^O&N,mt=P&D^P&R^D&R,gt=(M>>>28|P<<4)^(M<<30|P>>>2)^(M<<25|P>>>7),yt=(P>>>28|M<<4)^(P<<30|M>>>2)^(P<<25|M>>>7),vt=(T>>>14|j<<18)^(T>>>18|j<<14)^(T<<23|j>>>9),_t=(j>>>14|T<<18)^(j>>>18|T<<14)^(j<<23|T>>>9),bt=c[W],Ct=bt.high,St=bt.low,xt=U+vt+((ut=z+_t)>>>0<z>>>0?1:0),At=yt+mt;U=G,z=q,G=H,q=E,H=T,E=j,T=L+(xt=(xt=(xt=xt+ht+((ut+=dt)>>>0<dt>>>0?1:0))+Ct+((ut+=St)>>>0<St>>>0?1:0))+Y+((ut+=X)>>>0<X>>>0?1:0))+((j=F+ut|0)>>>0<F>>>0?1:0)|0,L=N,F=R,N=O,R=D,O=M,D=P,M=xt+(gt+ft+(At>>>0<yt>>>0?1:0))+((P=ut+At|0)>>>0<ut>>>0?1:0)|0}f=n.low=f+P,n.high=d+M+(f>>>0<P>>>0?1:0),g=o.low=g+D,o.high=m+O+(g>>>0<D>>>0?1:0),v=a.low=v+R,a.high=y+N+(v>>>0<R>>>0?1:0),b=s.low=b+F,s.high=_+L+(b>>>0<F>>>0?1:0),S=r.low=S+j,r.high=C+T+(S>>>0<j>>>0?1:0),A=p.low=A+E,p.high=x+H+(A>>>0<E>>>0?1:0),B=u.low=B+q,u.high=k+G+(B>>>0<q>>>0?1:0),w=h.low=w+z,h.high=I+U+(w>>>0<z>>>0?1:0)},_doFinalize:function(){var t=this._data,e=t.words,i=8*this._nDataBytes,n=8*t.sigBytes;return e[n>>>5]|=128<<24-n%32,e[30+(n+128>>>10<<5)]=Math.floor(i/4294967296),e[31+(n+128>>>10<<5)]=i,t.sigBytes=4*e.length,this._process(),this._hash.toX32()},clone:function(){var t=i.clone.call(this);return t._hash=this._hash.clone(),t},blockSize:32});e.SHA512=i._createHelper(p),e.HmacSHA512=i._createHmacHelper(p)}(),t.SHA512},"object"==typeof i?e.exports=i=n(t("./core"),t("./x64-core")):"function"==typeof define&&define.amd?define(["./core","./x64-core"],n):n((void 0).CryptoJS),cc._RF.pop()},{"./core":"core","./x64-core":"x64-core"}],"state-machine.min":[function(t,e,i){"use strict";var n;cc._RF.push(e,"f79a2gSYyhOjKDEtsbQl0Uc","state-machine.min"),n=function(){return function(t){function e(n){if(i[n])return i[n].exports;var o=i[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,e),o.l=!0,o.exports}var i={};return e.m=t,e.c=i,e.i=function(t){return t},e.d=function(t,i,n){e.o(t,i)||Object.defineProperty(t,i,{configurable:!1,enumerable:!0,get:n})},e.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(i,"a",i),i},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=5)}([function(t){t.exports=function(t,e){var i,n,o;for(i=1;i<arguments.length;i++)for(o in n=arguments[i])n.hasOwnProperty(o)&&(t[o]=n[o]);return t}},function(t,e,i){var n=i(0);t.exports={build:function(t,e){var i,o,a,s=e.plugins;for(i=0,o=s.length;i<o;i++)(a=s[i]).methods&&n(t,a.methods),a.properties&&Object.defineProperties(t,a.properties)},hook:function(t,e,i){var n,o,a,s,r=t.config.plugins,c=[t.context];for(i&&(c=c.concat(i)),n=0,o=r.length;n<o;n++)s=r[n],(a=r[n][e])&&a.apply(s,c)}}},function(t){function e(t){if(0===t.length)return t;var e,i,n=t.split(/[_-]/);if(1===n.length&&n[0][0].toLowerCase()===n[0][0])return t;for(i=n[0].toLowerCase(),e=1;e<n.length;e++)i=i+n[e].charAt(0).toUpperCase()+n[e].substring(1).toLowerCase();return i}e.prepended=function(t,i){return t+(i=e(i))[0].toUpperCase()+i.substring(1)},t.exports=e},function(t,e,i){function n(t,e){t=t||{},this.options=t,this.defaults=e.defaults,this.states=[],this.transitions=[],this.map={},this.lifecycle=this.configureLifecycle(),this.init=this.configureInitTransition(t.init),this.data=this.configureData(t.data),this.methods=this.configureMethods(t.methods),this.map[this.defaults.wildcard]={},this.configureTransitions(t.transitions||[]),this.plugins=this.configurePlugins(t.plugins,e.plugin)}var o=i(0),a=i(2);o(n.prototype,{addState:function(t){this.map[t]||(this.states.push(t),this.addStateLifecycleNames(t),this.map[t]={})},addStateLifecycleNames:function(t){this.lifecycle.onEnter[t]=a.prepended("onEnter",t),this.lifecycle.onLeave[t]=a.prepended("onLeave",t),this.lifecycle.on[t]=a.prepended("on",t)},addTransition:function(t){this.transitions.indexOf(t)<0&&(this.transitions.push(t),this.addTransitionLifecycleNames(t))},addTransitionLifecycleNames:function(t){this.lifecycle.onBefore[t]=a.prepended("onBefore",t),this.lifecycle.onAfter[t]=a.prepended("onAfter",t),this.lifecycle.on[t]=a.prepended("on",t)},mapTransition:function(t){var e=t.name,i=t.from,n=t.to;return this.addState(i),"function"!=typeof n&&this.addState(n),this.addTransition(e),this.map[i][e]=t,t},configureLifecycle:function(){return{onBefore:{transition:"onBeforeTransition"},onAfter:{transition:"onAfterTransition"},onEnter:{state:"onEnterState"},onLeave:{state:"onLeaveState"},on:{transition:"onTransition"}}},configureInitTransition:function(t){return"string"==typeof t?this.mapTransition(o({},this.defaults.init,{to:t,active:!0})):"object"==typeof t?this.mapTransition(o({},this.defaults.init,t,{active:!0})):(this.addState(this.defaults.init.from),this.defaults.init)},configureData:function(t){return"function"==typeof t?t:"object"==typeof t?function(){return t}:function(){return{}}},configureMethods:function(t){return t||{}},configurePlugins:function(t){var e,i,n;for(e=0,i=(t=t||[]).length;e<i;e++)"function"==typeof(n=t[e])&&(t[e]=n=n()),n.configure&&n.configure(this);return t},configureTransitions:function(t){var e,i,n,o,a,s=this.defaults.wildcard;for(i=0;i<t.length;i++)for(n=t[i],o=Array.isArray(n.from)?n.from:[n.from||s],a=n.to||s,e=0;e<o.length;e++)this.mapTransition({name:n.name,from:o[e],to:a})},transitionFor:function(t,e){var i=this.defaults.wildcard;return this.map[t][e]||this.map[i][e]},transitionsFor:function(t){var e=this.defaults.wildcard;return Object.keys(this.map[t]).concat(Object.keys(this.map[e]))},allStates:function(){return this.states},allTransitions:function(){return this.transitions}}),t.exports=n},function(t,e,i){function n(t,e){this.context=t,this.config=e,this.state=e.init.from,this.observers=[t]}var o=i(0),a=i(6),s=i(1),r=[null,[]];o(n.prototype,{init:function(t){if(o(this.context,this.config.data.apply(this.context,t)),s.hook(this,"init"),this.config.init.active)return this.fire(this.config.init.name,[])},is:function(t){return Array.isArray(t)?t.indexOf(this.state)>=0:this.state===t},isPending:function(){return this.pending},can:function(t){return!this.isPending()&&!!this.seek(t)},cannot:function(t){return!this.can(t)},allStates:function(){return this.config.allStates()},allTransitions:function(){return this.config.allTransitions()},transitions:function(){return this.config.transitionsFor(this.state)},seek:function(t,e){var i=this.config.defaults.wildcard,n=this.config.transitionFor(this.state,t),o=n&&n.to;return"function"==typeof o?o.apply(this.context,e):o===i?this.state:o},fire:function(t,e){return this.transit(t,this.state,this.seek(t,e),e)},transit:function(t,e,i,n){var o=this.config.lifecycle,a=this.config.options.observeUnchangedState||e!==i;return i?this.isPending()?this.context.onPendingTransition(t,e,i):(this.config.addState(i),this.beginTransit(),n.unshift({transition:t,from:e,to:i,fsm:this.context}),this.observeEvents([this.observersForEvent(o.onBefore.transition),this.observersForEvent(o.onBefore[t]),a?this.observersForEvent(o.onLeave.state):r,a?this.observersForEvent(o.onLeave[e]):r,this.observersForEvent(o.on.transition),a?["doTransit",[this]]:r,a?this.observersForEvent(o.onEnter.state):r,a?this.observersForEvent(o.onEnter[i]):r,a?this.observersForEvent(o.on[i]):r,this.observersForEvent(o.onAfter.transition),this.observersForEvent(o.onAfter[t]),this.observersForEvent(o.on[t])],n)):this.context.onInvalidTransition(t,e,i)},beginTransit:function(){this.pending=!0},endTransit:function(t){return this.pending=!1,t},failTransit:function(t){throw this.pending=!1,t},doTransit:function(t){this.state=t.to},observe:function(t){if(2===t.length){var e={};e[t[0]]=t[1],this.observers.push(e)}else this.observers.push(t[0])},observersForEvent:function(t){for(var e,i=0,n=this.observers.length,o=[];i<n;i++)(e=this.observers[i])[t]&&o.push(e);return[t,o,!0]},observeEvents:function(t,e,i,n){if(0===t.length)return this.endTransit(void 0===n||n);var o=t[0][0],a=t[0][1],r=t[0][2];if(e[0].event=o,o&&r&&o!==i&&s.hook(this,"lifecycle",e),0===a.length)return t.shift(),this.observeEvents(t,e,o,n);var c=a.shift(),l=c[o].apply(c,e);return l&&"function"==typeof l.then?l.then(this.observeEvents.bind(this,t,e,o)).catch(this.failTransit.bind(this)):!1===l?this.endTransit(!1):this.observeEvents(t,e,o,l)},onInvalidTransition:function(t,e,i){throw new a("transition is invalid in current state",t,e,i,this.state)},onPendingTransition:function(t,e,i){throw new a("transition is invalid while previous transition is still in progress",t,e,i,this.state)}}),t.exports=n},function(t,e,i){function n(t){return o(this||{},t)}function o(t,e){return a(t,new l(e,n)),t._fsm(),t}function a(t,e){if("object"!=typeof t||Array.isArray(t))throw Error("StateMachine can only be applied to objects");c.build(t,e),Object.defineProperties(t,h),s(t,u),s(t,e.methods),e.allTransitions().forEach(function(e){t[r(e)]=function(){return this._fsm.fire(e,[].slice.call(arguments))}}),t._fsm=function(){this._fsm=new p(this,e),this._fsm.init(arguments)}}var s=i(0),r=i(2),c=i(1),l=i(3),p=i(4),u={is:function(t){return this._fsm.is(t)},can:function(t){return this._fsm.can(t)},cannot:function(t){return this._fsm.cannot(t)},observe:function(){return this._fsm.observe(arguments)},transitions:function(){return this._fsm.transitions()},allTransitions:function(){return this._fsm.allTransitions()},allStates:function(){return this._fsm.allStates()},onInvalidTransition:function(t,e,i){return this._fsm.onInvalidTransition(t,e,i)},onPendingTransition:function(t,e,i){return this._fsm.onPendingTransition(t,e,i)}},h={state:{configurable:!1,enumerable:!0,get:function(){return this._fsm.state},set:function(){throw Error("use transitions to change state")}}};n.version="3.0.1",n.factory=function(){var t,e;"function"==typeof arguments[0]?(t=arguments[0],e=arguments[1]||{}):(t=function(){this._fsm.apply(this,arguments)},e=arguments[0]||{});var i=new l(e,n);return a(t.prototype,i),t.prototype._fsm.config=i,t},n.apply=o,n.defaults={wildcard:"*",init:{name:"init",from:"none"}},t.exports=n},function(t){t.exports=function(t,e,i,n,o){this.message=t,this.transition=e,this.from=i,this.to=n,this.current=o}}])},"object"==typeof i&&"object"==typeof e?e.exports=n():"function"==typeof define&&define.amd?define("StateMachine",[],n):"object"==typeof i?i.StateMachine=n():(void 0).StateMachine=n(),cc._RF.pop()},{}],tripledes:[function(t,e,i){"use strict";var n;cc._RF.push(e,"93678n1SJ5Jl4FVhmvCRT/E","tripledes"),n=function(t){return function(){var e=t,i=e.lib,n=i.WordArray,o=i.BlockCipher,a=e.algo,s=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],r=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],c=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],l=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],p=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],u=a.DES=o.extend({_doReset:function(){for(var t=this._key.words,e=[],i=0;i<56;i++){var n=s[i]-1;e[i]=t[n>>>5]>>>31-n%32&1}for(var o=this._subKeys=[],a=0;a<16;a++){var l=o[a]=[],p=c[a];for(i=0;i<24;i++)l[i/6|0]|=e[(r[i]-1+p)%28]<<31-i%6,l[4+(i/6|0)]|=e[28+(r[i+24]-1+p)%28]<<31-i%6;for(l[0]=l[0]<<1|l[0]>>>31,i=1;i<7;i++)l[i]=l[i]>>>4*(i-1)+3;l[7]=l[7]<<5|l[7]>>>27}var u=this._invSubKeys=[];for(i=0;i<16;i++)u[i]=o[15-i]},encryptBlock:function(t,e){this._doCryptBlock(t,e,this._subKeys)},decryptBlock:function(t,e){this._doCryptBlock(t,e,this._invSubKeys)},_doCryptBlock:function(t,e,i){this._lBlock=t[e],this._rBlock=t[e+1],h.call(this,4,252645135),h.call(this,16,65535),d.call(this,2,858993459),d.call(this,8,16711935),h.call(this,1,1431655765);for(var n=0;n<16;n++){for(var o=i[n],a=this._lBlock,s=this._rBlock,r=0,c=0;c<8;c++)r|=l[c][((s^o[c])&p[c])>>>0];this._lBlock=s,this._rBlock=a^r}var u=this._lBlock;this._lBlock=this._rBlock,this._rBlock=u,h.call(this,1,1431655765),d.call(this,8,16711935),d.call(this,2,858993459),h.call(this,16,65535),h.call(this,4,252645135),t[e]=this._lBlock,t[e+1]=this._rBlock},keySize:2,ivSize:2,blockSize:2});function h(t,e){var i=(this._lBlock>>>t^this._rBlock)&e;this._rBlock^=i,this._lBlock^=i<<t}function d(t,e){var i=(this._rBlock>>>t^this._lBlock)&e;this._lBlock^=i,this._rBlock^=i<<t}e.DES=o._createHelper(u);var f=a.TripleDES=o.extend({_doReset:function(){var t=this._key.words;this._des1=u.createEncryptor(n.create(t.slice(0,2))),this._des2=u.createEncryptor(n.create(t.slice(2,4))),this._des3=u.createEncryptor(n.create(t.slice(4,6)))},encryptBlock:function(t,e){this._des1.encryptBlock(t,e),this._des2.decryptBlock(t,e),this._des3.encryptBlock(t,e)},decryptBlock:function(t,e){this._des3.decryptBlock(t,e),this._des2.encryptBlock(t,e),this._des1.decryptBlock(t,e)},keySize:6,ivSize:2,blockSize:2});e.TripleDES=o._createHelper(f)}(),t.TripleDES},"object"==typeof i?e.exports=i=n(t("./core"),t("./enc-base64"),t("./evpkdf"),t("./cipher-core")):"function"==typeof define&&define.amd?define(["./core","./enc-base64","./evpkdf","./cipher-core"],n):n((void 0).CryptoJS),cc._RF.pop()},{"./cipher-core":"cipher-core","./core":"core","./enc-base64":"enc-base64","./evpkdf":"evpkdf"}],use_reversed_rotateBy:[function(t,e){"use strict";cc._RF.push(e,"14ffdgPVNpP2amu0dUcMcNB","use_reversed_rotateBy"),cc.RotateBy._reverse=!0,cc._RF.pop()},{}],"use_v2.1-2.2.1_cc.Toggle_event":[function(t,e){"use strict";cc._RF.push(e,"5064ayZsAZFP5sCqlaCUiYR","use_v2.1-2.2.1_cc.Toggle_event"),cc.Toggle&&(cc.Toggle._triggerEventInScript_isChecked=!0),cc._RF.pop()},{}],"x64-core":[function(t,e,i){"use strict";var n;cc._RF.push(e,"00569OfXKBJDZjjsRUEdXWW","x64-core"),n=function(t){var e,i,n,o,a;return i=(e=t).lib,n=i.Base,o=i.WordArray,(a=e.x64={}).Word=n.extend({init:function(t,e){this.high=t,this.low=e}}),a.WordArray=n.extend({init:function(t,e){t=this.words=t||[],this.sigBytes=null!=e?e:8*t.length},toX32:function(){for(var t=this.words,e=t.length,i=[],n=0;n<e;n++){var a=t[n];i.push(a.high),i.push(a.low)}return o.create(i,this.sigBytes)},clone:function(){for(var t=n.clone.call(this),e=t.words=this.words.slice(0),i=e.length,o=0;o<i;o++)e[o]=e[o].clone();return t}}),t},"object"==typeof i?e.exports=i=n(t("./core")):"function"==typeof define&&define.amd?define(["./core"],n):n((void 0).CryptoJS),cc._RF.pop()},{"./core":"core"}]},{},["AdRewardMgr","Audio","AudioGame","LifeMgr","BgMgr","BAItem","BATips","BizarreAdventure","BulletItem","BulletMgr","ComboMgr","DataMgr","Director","DmgMgr","ChangeSelect","FirstSelect","Game","GameEvent","GameManager","GameSDKManger","GameUtils","God","BtnStart","HallComponent","Message","TimeLimit","Tips","Hero","HeroBody","HeroData","HeroFSM","HeroGlobal","HeroHit","HeroPet","HeroSPSet","HeroSkill","SkillProgress","Joystick","LifeProgress","Loading","ArrowRain","Box","MapBoxItem","MapBoxLayout","MapComponent","MapItem","MapSelect","Spikeweed","BossShow","Monster","MonsterAnimState","MonsterBulletItem","MonsterFSM","MonsterFactory","MonsterNodePool","Achieve","AchieveItem","AchieveLv","Activity","BoxGift","Others","Qimen","QimenItem","Rank","RankWX","Sign","Task","TaskItem","RewardAuto","RewardItem","RewardMapMgr","RewardMgr","Setting","Gradient","Rotate","UVMove","SkillMgr","Test","TextureMgr","Sort","Statistics","TimeMgr","UserDataInfo","Equipment","EquipmentDialog","MenuSelect","SoulDialog","EN","Language","ZH","i18n","md5","state-machine.min","Config","GetJsonData","Global","NodePool","Platform","ReleaseMgr","CryptoJS","GameAtlas","SelectComponent","ActionComponent","AudioComponent","AudioRepeat","CallFuncComponent","CircleComponent","DelayComponent","DisplayComponent","LabelComponent","LoadRunAction","MoveComponent","OpacityComponent","PlistAniComponent","RaceComponent","RotateComponent","ScaleComponent","SequenceComponent","SpawnComponent","SpineComponent","MusicManager","SoundManager","BezierMove","RandMoveBothPoint","SwordManager","aes","cipher-core","core","crypto-js","enc-base64","enc-hex","enc-latin1","enc-utf16","enc-utf8","evpkdf","format-hex","format-openssl","hmac-md5","hmac-ripemd160","hmac-sha1","hmac-sha224","hmac-sha256","hmac-sha3","hmac-sha384","hmac-sha512","hmac","index","lib-typedarrays","mode-cfb","mode-ctr-gladman","mode-ctr","mode-ecb","mode-ofb","pad-ansix923","pad-iso10126","pad-iso97971","pad-nopadding","pad-pkcs7","pad-zeropadding","pbkdf2","rabbit-legacy","rabbit","rc4","ripemd160","sha1","sha224","sha256","sha3","sha384","sha512","tripledes","x64-core","DragComponent","DragDropContainer","DragUtils","Draggable","DropComponent","PageComponent","PageItem","ReuseScroll","ScrollDot","use_reversed_rotateBy","use_v2.1-2.2.1_cc.Toggle_event","TestSpine"]);